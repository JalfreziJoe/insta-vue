function t(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(I(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(S(i)?a(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(N(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function a(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function s(t){let e="";if(S(t))e=t;else if(I(t))for(let n=0;n<t.length;n++){const r=s(t[n]);r&&(e+=r+" ")}else if(N(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":N(t)?JSON.stringify(t,c,2):String(t),c=(t,e)=>E(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:_(e)?{[`Set(${e.size})`]:[...e.values()]}:!N(e)||I(e)||O(e)?e:String(e),l={},h=[],f=()=>{},p=()=>!1,d=/^on[^a-z]/,v=t=>d.test(t),m=t=>t.startsWith("onUpdate:"),g=Object.assign,y=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(t,e)=>b.call(t,e),I=Array.isArray,E=t=>"[object Map]"===C(t),_=t=>"[object Set]"===C(t),T=t=>"function"==typeof t,S=t=>"string"==typeof t,A=t=>"symbol"==typeof t,N=t=>null!==t&&"object"==typeof t,k=t=>N(t)&&T(t.then)&&T(t.catch),D=Object.prototype.toString,C=t=>D.call(t),O=t=>"[object Object]"===C(t),x=t=>S(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,R=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L=/-(\w)/g,M=P((t=>t.replace(L,((t,e)=>e?e.toUpperCase():"")))),F=/\B([A-Z])/g,V=P((t=>t.replace(F,"-$1").toLowerCase())),U=P((t=>t.charAt(0).toUpperCase()+t.slice(1))),j=P((t=>t?`on${U(t)}`:"")),q=(t,e)=>t!==e&&(t==t||e==e),B=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},K=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},G=t=>{const e=parseFloat(t);return isNaN(e)?t:e},H=new WeakMap,W=[];let z;const X=Symbol(""),Q=Symbol("");function Y(t,e=l){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!W.includes(n)){Z(n);try{return et.push(tt),tt=!0,W.push(n),z=n,t()}finally{W.pop(),rt(),z=W[W.length-1]}}};return n.id=J++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function $(t){t.active&&(Z(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let J=0;function Z(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let tt=!0;const et=[];function nt(){et.push(tt),tt=!1}function rt(){const t=et.pop();tt=void 0===t||t}function it(t,e,n){if(!tt||void 0===z)return;let r=H.get(t);r||H.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(z)||(i.add(z),z.deps.push(i))}function ot(t,e,n,r,i,o){const a=H.get(t);if(!a)return;const s=new Set,u=t=>{t&&t.forEach((t=>{(t!==z||t.allowRecurse)&&s.add(t)}))};if("clear"===e)a.forEach(u);else if("length"===n&&I(t))a.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(a.get(n)),e){case"add":I(t)?x(n)&&u(a.get("length")):(u(a.get(X)),E(t)&&u(a.get(Q)));break;case"delete":I(t)||(u(a.get(X)),E(t)&&u(a.get(Q)));break;case"set":E(t)&&u(a.get(X))}s.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const at=t("__proto__,__v_isRef,__isVue"),st=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(A)),ut=pt(),ct=pt(!1,!0),lt=pt(!0),ht=pt(!0,!0),ft={};function pt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Kt:Bt:e?qt:jt).get(n))return n;const o=I(n);if(!t&&o&&w(ft,r))return Reflect.get(ft,r,i);const a=Reflect.get(n,r,i);if(A(r)?st.has(r):at(r))return a;if(t||it(n,0,r),e)return a;if(Zt(a)){return!o||!x(r)?a.value:a}return N(a)?t?Wt(a):Ht(a):a}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];ft[t]=function(...t){const n=$t(this);for(let e=0,i=this.length;e<i;e++)it(n,0,e+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map($t)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];ft[t]=function(...t){nt();const n=e.apply(this,t);return rt(),n}}));function dt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=$t(r),o=$t(o),!I(e)&&Zt(o)&&!Zt(r)))return o.value=r,!0;const a=I(e)&&x(n)?Number(n)<e.length:w(e,n),s=Reflect.set(e,n,r,i);return e===$t(i)&&(a?q(r,o)&&ot(e,"set",n,r):ot(e,"add",n,r)),s}}const vt={get:ut,set:dt(),deleteProperty:function(t,e){const n=w(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ot(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return A(e)&&st.has(e)||it(t,0,e),n},ownKeys:function(t){return it(t,0,I(t)?"length":X),Reflect.ownKeys(t)}},mt={get:lt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},gt=g({},vt,{get:ct,set:dt(!0)});g({},mt,{get:ht});const yt=t=>N(t)?Ht(t):t,bt=t=>N(t)?Wt(t):t,wt=t=>t,It=t=>Reflect.getPrototypeOf(t);function Et(t,e,n=!1,r=!1){const i=$t(t=t.__v_raw),o=$t(e);e!==o&&!n&&it(i,0,e),!n&&it(i,0,o);const{has:a}=It(i),s=r?wt:n?bt:yt;return a.call(i,e)?s(t.get(e)):a.call(i,o)?s(t.get(o)):void 0}function _t(t,e=!1){const n=this.__v_raw,r=$t(n),i=$t(t);return t!==i&&!e&&it(r,0,t),!e&&it(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Tt(t,e=!1){return t=t.__v_raw,!e&&it($t(t),0,X),Reflect.get(t,"size",t)}function St(t){t=$t(t);const e=$t(this);return It(e).has.call(e,t)||(e.add(t),ot(e,"add",t,t)),this}function At(t,e){e=$t(e);const n=$t(this),{has:r,get:i}=It(n);let o=r.call(n,t);o||(t=$t(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?q(e,a)&&ot(n,"set",t,e):ot(n,"add",t,e),this}function Nt(t){const e=$t(this),{has:n,get:r}=It(e);let i=n.call(e,t);i||(t=$t(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ot(e,"delete",t,void 0),o}function kt(){const t=$t(this),e=0!==t.size,n=t.clear();return e&&ot(t,"clear",void 0,void 0),n}function Dt(t,e){return function(n,r){const i=this,o=i.__v_raw,a=$t(o),s=e?wt:t?bt:yt;return!t&&it(a,0,X),o.forEach(((t,e)=>n.call(r,s(t),s(e),i)))}}function Ct(t,e,n){return function(...r){const i=this.__v_raw,o=$t(i),a=E(o),s="entries"===t||t===Symbol.iterator&&a,u="keys"===t&&a,c=i[t](...r),l=n?wt:e?bt:yt;return!e&&it(o,0,u?Q:X),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:s?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Ot(t){return function(...e){return"delete"!==t&&this}}const xt={get(t){return Et(this,t)},get size(){return Tt(this)},has:_t,add:St,set:At,delete:Nt,clear:kt,forEach:Dt(!1,!1)},Rt={get(t){return Et(this,t,!1,!0)},get size(){return Tt(this)},has:_t,add:St,set:At,delete:Nt,clear:kt,forEach:Dt(!1,!0)},Pt={get(t){return Et(this,t,!0)},get size(){return Tt(this,!0)},has(t){return _t.call(this,t,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:Dt(!0,!1)},Lt={get(t){return Et(this,t,!0,!0)},get size(){return Tt(this,!0)},has(t){return _t.call(this,t,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:Dt(!0,!0)};function Mt(t,e){const n=e?t?Lt:Rt:t?Pt:xt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{xt[t]=Ct(t,!1,!1),Pt[t]=Ct(t,!0,!1),Rt[t]=Ct(t,!1,!0),Lt[t]=Ct(t,!0,!0)}));const Ft={get:Mt(!1,!1)},Vt={get:Mt(!1,!0)},Ut={get:Mt(!0,!1)},jt=new WeakMap,qt=new WeakMap,Bt=new WeakMap,Kt=new WeakMap;function Gt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>C(t).slice(8,-1))(t))}function Ht(t){return t&&t.__v_isReadonly?t:zt(t,!1,vt,Ft,jt)}function Wt(t){return zt(t,!0,mt,Ut,Bt)}function zt(t,e,n,r,i){if(!N(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const a=Gt(t);if(0===a)return t;const s=new Proxy(t,2===a?r:n);return i.set(t,s),s}function Xt(t){return Qt(t)?Xt(t.__v_raw):!(!t||!t.__v_isReactive)}function Qt(t){return!(!t||!t.__v_isReadonly)}function Yt(t){return Xt(t)||Qt(t)}function $t(t){return t&&$t(t.__v_raw)||t}const Jt=t=>N(t)?Ht(t):t;function Zt(t){return Boolean(t&&!0===t.__v_isRef)}function te(t){return ne(t)}class ee{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Jt(t)}get value(){return it($t(this),0,"value"),this._value}set value(t){q($t(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Jt(t),ot($t(this),"set","value",t))}}function ne(t,e=!1){return Zt(t)?t:new ee(t,e)}function re(t){return Zt(t)?t.value:t}const ie={get:(t,e,n)=>re(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Zt(i)&&!Zt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function oe(t){return Xt(t)?t:new Proxy(t,ie)}function ae(t){const e=I(t)?new Array(t.length):{};for(const n in t)e[n]=ue(t,n);return e}class se{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function ue(t,e){return Zt(t[e])?t[e]:new se(t,e)}class ce{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=Y(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ot($t(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=$t(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),it(t,0,"value"),t._value}set value(t){this._setter(t)}}function le(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){fe(o,e,n)}return i}function he(t,e,n,r){if(T(t)){const i=le(t,e,n,r);return i&&k(i)&&i.catch((t=>{fe(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(he(t[o],e,n,r));return i}function fe(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const a=e.appContext.config.errorHandler;if(a)return void le(a,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let pe=!1,de=!1;const ve=[];let me=0;const ge=[];let ye=null,be=0;const we=[];let Ie=null,Ee=0;const _e=Promise.resolve();let Te=null,Se=null;function Ae(t){const e=Te||_e;return t?e.then(this?t.bind(this):t):e}function Ne(t){if(!(ve.length&&ve.includes(t,pe&&t.allowRecurse?me+1:me)||t===Se)){const e=function(t){let e=me+1,n=ve.length;const r=xe(t);for(;e<n;){const t=e+n>>>1;xe(ve[t])<r?e=t+1:n=t}return e}(t);e>-1?ve.splice(e,0,t):ve.push(t),ke()}}function ke(){pe||de||(de=!0,Te=_e.then(Re))}function De(t,e,n,r){I(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),ke()}function Ce(t,e=null){if(ge.length){for(Se=e,ye=[...new Set(ge)],ge.length=0,be=0;be<ye.length;be++)ye[be]();ye=null,be=0,Se=null,Ce(t,e)}}function Oe(t){if(we.length){const t=[...new Set(we)];if(we.length=0,Ie)return void Ie.push(...t);for(Ie=t,Ie.sort(((t,e)=>xe(t)-xe(e))),Ee=0;Ee<Ie.length;Ee++)Ie[Ee]();Ie=null,Ee=0}}const xe=t=>null==t.id?1/0:t.id;function Re(t){de=!1,pe=!0,Ce(t),ve.sort(((t,e)=>xe(t)-xe(e)));try{for(me=0;me<ve.length;me++){const t=ve[me];t&&le(t,null,14)}}finally{me=0,ve.length=0,Oe(),pe=!1,Te=null,(ve.length||we.length)&&Re(t)}}function Pe(t,e,...n){const r=t.vnode.props||l;let i=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:o}=r[t]||l;o?i=n.map((t=>t.trim())):e&&(i=n.map(G))}let s,u=r[s=j(e)]||r[s=j(M(e))];!u&&o&&(u=r[s=j(V(e))]),u&&he(u,t,6,i);const c=r[s+"Once"];if(c){if(t.emitted){if(t.emitted[s])return}else(t.emitted={})[s]=!0;he(c,t,6,i)}}function Le(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},o=!1;if(!T(t)){const r=t=>{const n=Le(t,e,!0);n&&(o=!0,g(i,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||o?(I(r)?r.forEach((t=>i[t]=null)):g(i,r),t.__emits=i):t.__emits=null}function Me(t,e){return!(!t||!v(e))&&(e=e.slice(2).replace(/Once$/,""),w(t,e[0].toLowerCase()+e.slice(1))||w(t,V(e))||w(t,e))}let Fe=0;const Ve=t=>Fe+=t;let Ue=null,je=null;function qe(t){const e=Ue;return Ue=t,je=t&&t.type.__scopeId||null,e}function Be(t,e=Ue){if(!e)return t;const n=(...n)=>{Fe||Qn(!0);const r=qe(e),i=t(...n);return qe(r),Fe||Yn(),i};return n._c=!0,n}function Ke(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:s,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:p,ctx:d}=t;let v;const g=qe(t);try{let t;if(4&n.shapeFlag){const e=i||r;v=sr(l.call(e,e,h,o,p,f,d)),t=u}else{const n=e;0,v=sr(n.length>1?n(o,{attrs:u,slots:s,emit:c}):n(o,null)),t=e.props?u:He(u)}let g=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=g;e.length&&(1&n||6&n)&&(a&&e.some(m)&&(t=We(t,a)),g=ir(g,t))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),v=g}catch(y){zn.length=0,fe(y,t,1),v=rr(Hn)}return qe(g),v}function Ge(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!Jn(r))return;if(r.type!==Hn||"v-if"===r.children){if(e)return;e=r}}return e}const He=t=>{let e;for(const n in t)("class"===n||"style"===n||v(n))&&((e||(e={}))[n]=t[n]);return e},We=(t,e)=>{const n={};for(const r in t)m(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function ze(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Me(n,o))return!0}return!1}function Xe(t){if(T(t)&&(t=t()),I(t)){t=Ge(t)}return sr(t)}function Qe(t,e,n,r=!1){const i={},o={};K(o,tr,1),t.propsDefaults=Object.create(null),Ye(t,e,i,o),n?t.props=r?i:zt(i,!1,gt,Vt,qt):t.type.props?t.props=i:t.props=o,t.attrs=o}function Ye(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const a in e){const o=e[a];if(R(a))continue;let s;i&&w(i,s=M(a))?n[s]=o:Me(t.emitsOptions,a)||(r[a]=o)}if(o){const e=$t(n);for(let r=0;r<o.length;r++){const a=o[r];n[a]=$e(i,e,a,e[a],t)}}}function $e(t,e,n,r,i){const o=t[n];if(null!=o){const t=w(o,"default");if(t&&void 0===r){const t=o.default;if(o.type!==Function&&T(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(kr(i),r=o[n]=t(e),kr(null))}else r=t}o[0]&&(w(e,n)||t?!o[1]||""!==r&&r!==V(n)||(r=!0):r=!1)}return r}function Je(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let a=!1;if(!T(t)){const r=t=>{a=!0;const[n,r]=Je(t,e,!0);g(i,n),r&&o.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!a)return t.__props=h;if(I(r))for(let s=0;s<r.length;s++){const t=M(r[s]);Ze(t)&&(i[t]=l)}else if(r)for(const s in r){const t=M(s);if(Ze(t)){const e=r[s],n=i[t]=I(e)||T(e)?{type:e}:e;if(n){const e=nn(Boolean,n.type),r=nn(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||w(n,"default"))&&o.push(t)}}}return t.__props=[i,o]}function Ze(t){return"$"!==t[0]}function tn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function en(t,e){return tn(t)===tn(e)}function nn(t,e){return I(e)?e.findIndex((e=>en(e,t))):T(e)&&en(e,t)?0:-1}function rn(t,e,n=Nr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;nt(),kr(n);const i=he(e,n,t,r);return kr(null),rt(),i});return r?i.unshift(o):i.push(o),o}}const on=t=>(e,n=Nr)=>!Cr&&rn(t,e,n),an=on("bm"),sn=on("m"),un=on("bu"),cn=on("u"),ln=on("bum"),hn=on("um"),fn=on("rtg"),pn=on("rtc");function dn(t,e){return gn(t,null,e)}const vn={};function mn(t,e,n){return gn(t,e,n)}function gn(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=l,s=Nr){let u,c,h=!1;if(Zt(t)?(u=()=>t.value,h=!!t._shallow):Xt(t)?(u=()=>t,r=!0):u=I(t)?()=>t.map((t=>Zt(t)?t.value:Xt(t)?bn(t):T(t)?le(t,s,2,[s&&s.proxy]):void 0)):T(t)?e?()=>le(t,s,2,[s&&s.proxy]):()=>{if(!s||!s.isUnmounted)return c&&c(),he(t,s,3,[p])}:f,e&&r){const t=u;u=()=>bn(t())}let p=t=>{c=g.options.onStop=()=>{le(t,s,4)}},d=I(t)?[]:vn;const v=()=>{if(g.active)if(e){const t=g();(r||h||q(t,d))&&(c&&c(),he(e,s,3,[t,d===vn?void 0:d,p]),d=t)}else g()};let m;v.allowRecurse=!!e,m="sync"===i?v:"post"===i?()=>Ln(v,s&&s.suspense):()=>{!s||s.isMounted?function(t){De(t,ye,ge,be)}(v):v()};const g=Y(u,{lazy:!0,onTrack:o,onTrigger:a,scheduler:m});return Rr(g,s),e?n?v():d=g():"post"===i?Ln(g,s&&s.suspense):g(),()=>{$(g),s&&y(s.effects,g)}}function yn(t,e,n){const r=this.proxy;return gn(S(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function bn(t,e=new Set){if(!N(t)||e.has(t))return t;if(e.add(t),Zt(t))bn(t.value,e);else if(I(t))for(let n=0;n<t.length;n++)bn(t[n],e);else if(_(t)||E(t))t.forEach((t=>{bn(t,e)}));else for(const n in t)bn(t[n],e);return t}const wn=t=>t.type.__isKeepAlive;function In(t,e,n=Nr){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(rn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)wn(t.parent.vnode)&&En(r,e,n,t),t=t.parent}}function En(t,e,n,r){const i=rn(e,t,r,!0);hn((()=>{y(r[e],i)}),n)}const _n=t=>"_"===t[0]||"$stable"===t,Tn=t=>I(t)?t.map(sr):[sr(t)],Sn=(t,e,n)=>Be((t=>Tn(e(t))),n),An=(t,e)=>{const n=t._ctx;for(const r in t){if(_n(r))continue;const i=t[r];if(T(i))e[r]=Sn(0,i,n);else if(null!=i){const t=Tn(i);e[r]=()=>t}}},Nn=(t,e)=>{const n=Tn(e);t.slots.default=()=>n};function kn(t,e){if(null===Ue)return t;const n=Ue.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,a,s=l]=e[i];T(t)&&(t={mounted:t,updated:t}),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:a,modifiers:s})}return t}function Dn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);const u=s.dir[r];u&&he(u,n,8,[t.el,s,t,e])}}function Cn(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:p,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let On=0;function xn(t,e){return function(n,r=null){null==r||N(r)||(r=null);const i=Cn(),o=new Set;let a=!1;const s=i.app={_uid:On++,_component:n,_props:r,_container:null,_context:i,version:Vr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&T(t.install)?(o.add(t),t.install(s,...e)):T(t)&&(o.add(t),t(s,...e))),s),mixin:t=>(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0)),s),component:(t,e)=>e?(i.components[t]=e,s):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,s):i.directives[t],mount(o,u,c){if(!a){const l=rr(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),a=!0,s._container=o,o.__vue_app__=s,l.component.proxy}},unmount(){a&&(t(null,s._container),delete s._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,s)};return s}}function Rn(t){return T(t)?{setup:t,name:t.name}:t}const Pn={scheduler:Ne,allowRecurse:!0},Ln=function(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):De(t,Ie,we,Ee)},Mn=(t,e,n,r)=>{if(I(t))return void t.forEach(((t,i)=>Mn(t,e&&(I(e)?e[i]:e),n,r)));let i;if(r){if(r.type.__asyncLoader)return;i=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else i=null;const{i:o,r:a}=t,s=e&&e.r,u=o.refs===l?o.refs={}:o.refs,c=o.setupState;if(null!=s&&s!==a&&(S(s)?(u[s]=null,w(c,s)&&(c[s]=null)):Zt(s)&&(s.value=null)),S(a)){const t=()=>{u[a]=i,w(c,a)&&(c[a]=i)};i?(t.id=-1,Ln(t,n)):t()}else if(Zt(a)){const t=()=>{a.value=i};i?(t.id=-1,Ln(t,n)):t()}else T(a)&&le(a,o,12,[i,u])};function Fn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:a,createText:s,createComment:u,setText:c,setElementText:p,parentNode:d,nextSibling:v,setScopeId:m=f,cloneNode:y,insertStaticContent:b}=t,I=(t,e,n,r=null,i=null,o=null,a=!1,s=null,u=!1)=>{t&&!Zn(t,e)&&(r=at(t),J(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case Gn:E(t,e,n,r);break;case Hn:_(t,e,n,r);break;case Wn:null==t&&T(e,n,r,a);break;case Kn:F(t,e,n,r,i,o,a,s,u);break;default:1&h?N(t,e,n,r,i,o,a,s,u):6&h?U(t,e,n,r,i,o,a,s,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,a,s,u,ut)}null!=l&&i&&Mn(l,t&&t.ref,o,e)},E=(t,e,r,i)=>{if(null==t)n(e.el=s(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},_=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},T=(t,e,n,r)=>{[t.el,t.anchor]=b(t.children,e,n,r)},S=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=v(t),n(t,r,i),t=o;n(e,r,i)},A=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=v(t),r(t),t=n;r(e)},N=(t,e,n,r,i,o,a,s,u)=>{a=a||"svg"===e.type,null==t?D(e,n,r,i,o,a,s,u):x(t,e,i,o,a,s,u)},D=(t,e,r,o,s,u,c,l)=>{let h,f;const{type:d,props:v,shapeFlag:m,transition:g,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==y&&-1===b)h=t.el=y(t.el);else{if(h=t.el=a(t.type,u,v&&v.is,v),8&m?p(h,t.children):16&m&&O(t.children,h,null,o,s,u&&"foreignObject"!==d,c,l||!!t.dynamicChildren),w&&Dn(t,null,o,"created"),v){for(const e in v)R(e)||i(h,e,null,v[e],u,t.children,o,s,it);(f=v.onVnodeBeforeMount)&&Vn(f,o,t)}C(h,t,t.scopeId,c,o)}w&&Dn(t,null,o,"beforeMount");const I=(!s||s&&!s.pendingBranch)&&g&&!g.persisted;I&&g.beforeEnter(h),n(h,e,r),((f=v&&v.onVnodeMounted)||I||w)&&Ln((()=>{f&&Vn(f,o,t),I&&g.enter(h),w&&Dn(t,null,o,"mounted")}),s)},C=(t,e,n,r,i)=>{if(n&&m(t,n),r)for(let o=0;o<r.length;o++)m(t,r[o]);if(i){if(e===i.subTree){const e=i.vnode;C(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},O=(t,e,n,r,i,o,a,s,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?ur(t[c]):sr(t[c]);I(null,u,e,n,r,i,o,a,s)}},x=(t,e,n,r,a,s,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:d}=e;h|=16&t.patchFlag;const v=t.props||l,m=e.props||l;let g;if((g=m.onVnodeBeforeUpdate)&&Vn(g,n,e,t),d&&Dn(e,t,n,"beforeUpdate"),h>0){if(16&h)L(c,e,v,m,n,r,a);else if(2&h&&v.class!==m.class&&i(c,"class",null,m.class,a),4&h&&i(c,"style",v.style,m.style,a),8&h){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const u=s[e],l=v[u],h=m[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,a,t.children,n,r,it)}}1&h&&t.children!==e.children&&p(c,e.children)}else u||null!=f||L(c,e,v,m,n,r,a);const y=a&&"foreignObject"!==e.type;f?P(t.dynamicChildren,f,c,n,r,y,s):u||W(t,e,c,null,n,r,y,s,!1),((g=m.onVnodeUpdated)||d)&&Ln((()=>{g&&Vn(g,n,e,t),d&&Dn(e,t,n,"updated")}),r)},P=(t,e,n,r,i,o,a)=>{for(let s=0;s<e.length;s++){const u=t[s],c=e[s],l=u.type===Kn||!Zn(u,c)||6&u.shapeFlag||64&u.shapeFlag?d(u.el):n;I(u,c,l,null,r,i,o,a,!0)}},L=(t,e,n,r,a,s,u)=>{if(n!==r){for(const c in r){if(R(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,a,s,it)}if(n!==l)for(const o in n)R(o)||o in r||i(t,o,n[o],null,u,e.children,a,s,it)}},F=(t,e,r,i,o,a,u,c,l)=>{const h=e.el=t?t.el:s(""),f=e.anchor=t?t.anchor:s("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:v}=e;p>0&&(l=!0),v&&(c=c?c.concat(v):v),null==t?(n(h,r,i),n(f,r,i),O(e.children,r,f,o,a,u,c,l)):p>0&&64&p&&d&&t.dynamicChildren?(P(t.dynamicChildren,d,r,o,a,u,c),(null!=e.key||o&&e===o.subTree)&&Un(t,e,!0)):W(t,e,r,f,o,a,u,c,l)},U=(t,e,n,r,i,o,a,s,u)=>{e.slotScopeIds=s,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,a,u):j(e,n,r,i,o,a,u):q(t,e,u)},j=(t,e,n,r,i,o,a)=>{const s=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Sr,o={uid:Ar++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Je(r,i),emitsOptions:Le(r,i),emit:null,emitted:null,propsDefaults:l,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Pe.bind(null,o),o}(t,r,i);if(wn(t)&&(s.ctx.renderer=ut),function(t,e=!1){Cr=e;const{props:n,children:r}=t.vnode,i=Dr(t);Qe(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,K(e,"_",n)):An(e,t.slots={})}else t.slots={},e&&Nn(t,e);K(t.slots,tr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,_r);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=oe(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Nr=t,nt();const i=le(r,t,0,[t.props,n]);if(rt(),Nr=null,k(i)){if(e)return i.then((e=>{Or(t,e)})).catch((e=>{fe(e,t,0)}));t.asyncDep=i}else Or(t,i)}else xr(t)}(t,e):void 0;Cr=!1}(s),s.asyncDep){if(i&&i.registerDep(s,G),!t.el){const t=s.subTree=rr(Hn);_(null,t,e,n)}}else G(s,t,e,n,i,o,a)},q=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!s||s&&s.$stable)||r!==a&&(r?!a||ze(r,a,c):!!a);if(1024&u)return!0;if(16&u)return r?ze(r,a,c):!!a;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(a[n]!==r[n]&&!Me(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void H(r,e,n);r.next=e,function(t){const e=ve.indexOf(t);e>me&&ve.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},G=(t,e,n,r,i,o,a)=>{t.update=Y((function(){if(t.isMounted){let e,{next:n,bu:r,u:s,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,H(t,n,a)):n=c,r&&B(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Vn(e,u,n,c);const h=Ke(t),f=t.subTree;t.subTree=h,I(f,h,d(f.el),at(f),t,i,o),n.el=h.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,h.el),s&&Ln(s,i),(e=n.props&&n.props.onVnodeUpdated)&&Ln((()=>{Vn(e,u,n,c)}),i)}else{let a;const{el:s,props:u}=e,{bm:c,m:l,parent:h}=t;c&&B(c),(a=u&&u.onVnodeBeforeMount)&&Vn(a,h,e);const f=t.subTree=Ke(t);if(s&&lt?lt(e.el,f,t,i,null):(I(null,f,n,r,t,i,o),e.el=f.el),l&&Ln(l,i),a=u&&u.onVnodeMounted){const t=e;Ln((()=>{Vn(a,h,t)}),i)}const{a:p}=t;p&&256&e.shapeFlag&&Ln(p,i),t.isMounted=!0,e=n=r=null}}),Pn)},H=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,s=$t(i),[u]=t.propsOptions;if(!(r||a>0)||16&a){let r;Ye(t,e,i,o);for(const o in s)e&&(w(e,o)||(r=V(o))!==o&&w(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=$e(u,e||l,o,void 0,t)):delete i[o]);if(o!==s)for(const t in o)e&&w(e,t)||delete o[t]}else if(8&a){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const a=n[r],c=e[a];if(u)if(w(o,a))o[a]=c;else{const e=M(a);i[e]=$e(u,s,e,c,t)}else o[a]=c}}ot(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=l;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(g(i,e),n||1!==t||delete i._):(o=!e.$stable,An(e,i)),a=e}else e&&(Nn(t,e),a={default:1});if(o)for(const s in i)_n(s)||s in a||delete i[s]})(t,e.children,n),nt(),Ce(void 0,t.update),rt()},W=(t,e,n,r,i,o,a,s,u=!1)=>{const c=t&&t.children,l=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:d}=e;if(f>0){if(128&f)return void X(c,h,n,r,i,o,a,s,u);if(256&f)return void z(c,h,n,r,i,o,a,s,u)}8&d?(16&l&&it(c,i,o),h!==c&&p(n,h)):16&l?16&d?X(c,h,n,r,i,o,a,s,u):it(c,i,o,!0):(8&l&&p(n,""),16&d&&O(h,n,r,i,o,a,s,u))},z=(t,e,n,r,i,o,a,s,u)=>{e=e||h;const c=(t=t||h).length,l=e.length,f=Math.min(c,l);let p;for(p=0;p<f;p++){const r=e[p]=u?ur(e[p]):sr(e[p]);I(t[p],r,n,null,i,o,a,s,u)}c>l?it(t,i,o,!0,!1,f):O(e,n,r,i,o,a,s,u,f)},X=(t,e,n,r,i,o,a,s,u)=>{let c=0;const l=e.length;let f=t.length-1,p=l-1;for(;c<=f&&c<=p;){const r=t[c],l=e[c]=u?ur(e[c]):sr(e[c]);if(!Zn(r,l))break;I(r,l,n,null,i,o,a,s,u),c++}for(;c<=f&&c<=p;){const r=t[f],c=e[p]=u?ur(e[p]):sr(e[p]);if(!Zn(r,c))break;I(r,c,n,null,i,o,a,s,u),f--,p--}if(c>f){if(c<=p){const t=p+1,h=t<l?e[t].el:r;for(;c<=p;)I(null,e[c]=u?ur(e[c]):sr(e[c]),n,h,i,o,a,s,u),c++}}else if(c>p)for(;c<=f;)J(t[c],i,o,!0),c++;else{const d=c,v=c,m=new Map;for(c=v;c<=p;c++){const t=e[c]=u?ur(e[c]):sr(e[c]);null!=t.key&&m.set(t.key,c)}let g,y=0;const b=p-v+1;let w=!1,E=0;const _=new Array(b);for(c=0;c<b;c++)_[c]=0;for(c=d;c<=f;c++){const r=t[c];if(y>=b){J(r,i,o,!0);continue}let l;if(null!=r.key)l=m.get(r.key);else for(g=v;g<=p;g++)if(0===_[g-v]&&Zn(r,e[g])){l=g;break}void 0===l?J(r,i,o,!0):(_[l-v]=c+1,l>=E?E=l:w=!0,I(r,e[l],n,null,i,o,a,s,u),y++)}const T=w?function(t){const e=t.slice(),n=[0];let r,i,o,a,s;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=(o+a)/2|0,t[n[s]]<u?o=s+1:a=s;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];for(;o-- >0;)n[o]=a,a=e[a];return n}(_):h;for(g=T.length-1,c=b-1;c>=0;c--){const t=v+c,h=e[t],f=t+1<l?e[t+1].el:r;0===_[c]?I(null,h,n,f,i,o,a,s,u):w&&(g<0||c!==T[g]?Q(h,n,f,2):g--)}}},Q=(t,e,r,i,o=null)=>{const{el:a,type:s,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void Q(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void s.move(t,e,r,ut);if(s===Kn){n(a,e,r);for(let t=0;t<c.length;t++)Q(c[t],e,r,i);return void n(t.anchor,e,r)}if(s===Wn)return void S(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(a),n(a,e,r),Ln((()=>u.enter(a)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,s=()=>n(a,e,r),c=()=>{t(a,(()=>{s(),o&&o()}))};i?i(a,s,c):c()}else n(a,e,r)},J=(t,e,n,r=!1,i=!1)=>{const{type:o,props:a,ref:s,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=s&&Mn(s,null,n,null),256&l)return void e.ctx.deactivate(t);const p=1&l&&f;let d;if((d=a&&a.onVnodeBeforeUnmount)&&Vn(d,e,t),6&l)et(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);p&&Dn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,ut,r):c&&(o!==Kn||h>0&&64&h)?it(c,e,n,!1,!0):(o===Kn&&(128&h||256&h)||!i&&16&l)&&it(u,e,n),r&&Z(t)}((d=a&&a.onVnodeUnmounted)||p)&&Ln((()=>{d&&Vn(d,e,t),p&&Dn(t,null,e,"unmounted")}),n)},Z=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Kn)return void tt(n,i);if(e===Wn)return void A(t);const a=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,a);r?r(t.el,a,i):i()}else a()},tt=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},et=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:a,um:s}=t;if(r&&B(r),i)for(let u=0;u<i.length;u++)$(i[u]);o&&($(o),J(a,t,e,n)),s&&Ln(s,e),Ln((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},it=(t,e,n,r=!1,i=!1,o=0)=>{for(let a=o;a<t.length;a++)J(t[a],e,n,r,i)},at=t=>6&t.shapeFlag?at(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),st=(t,e,n)=>{null==t?e._vnode&&J(e._vnode,null,null,!0):I(e._vnode||null,t,e,null,null,null,n),Oe(),e._vnode=t},ut={p:I,um:J,m:Q,r:Z,mt:j,mc:O,pc:W,pbc:P,n:at,o:t};let ct,lt;e&&([ct,lt]=e(ut));return{render:st,hydrate:ct,createApp:xn(st,ct)}}(t)}function Vn(t,e,n,r=null){he(t,e,7,[n,r])}function Un(t,e,n=!1){const r=t.children,i=e.children;if(I(r)&&I(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=ur(i[o]),e.el=t.el),n||Un(t,e))}}function jn(t,e){return function(t,e,n=!0,r=!1){const i=Ue||Nr;if(i){const n=i.type;if("components"===t){const t=Pr(n);if(t&&(t===e||t===M(e)||t===U(M(e))))return n}const o=Bn(i[t]||n[t],e)||Bn(i.appContext[t],e);return!o&&r?n:o}}("components",t,!0,e)||t}const qn=Symbol();function Bn(t,e){return t&&(t[e]||t[M(e)]||t[U(M(e))])}const Kn=Symbol(void 0),Gn=Symbol(void 0),Hn=Symbol(void 0),Wn=Symbol(void 0),zn=[];let Xn=null;function Qn(t=!1){zn.push(Xn=t?null:[])}function Yn(){zn.pop(),Xn=zn[zn.length-1]||null}function $n(t,e,n,r,i){const o=rr(t,e,n,r,i,!0);return o.dynamicChildren=Xn||h,Yn(),Xn&&Xn.push(o),o}function Jn(t){return!!t&&!0===t.__v_isVNode}function Zn(t,e){return t.type===e.type&&t.key===e.key}const tr="__vInternal",er=({key:t})=>null!=t?t:null,nr=({ref:t})=>null!=t?S(t)||Zt(t)||T(t)?{i:Ue,r:t}:t:null,rr=function(t,e=null,n=null,i=0,o=null,a=!1){t&&t!==qn||(t=Hn);if(Jn(t)){const r=ir(t,e,!0);return n&&cr(r,n),r}u=t,T(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){(Yt(e)||tr in e)&&(e=g({},e));let{class:t,style:n}=e;t&&!S(t)&&(e.class=s(t)),N(n)&&(Yt(n)&&!I(n)&&(n=g({},n)),e.style=r(n))}const c=S(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:N(t)?4:T(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&er(e),ref:e&&nr(e),scopeId:je,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(cr(l,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=Xe(n.default),i=Xe(n.fallback)):(r=Xe(n),i=sr(null)),{content:r,fallback:i}}(l);l.ssContent=t,l.ssFallback=e}!a&&Xn&&(i>0||6&c)&&32!==i&&Xn.push(l);return l};function ir(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=t,s=e?lr(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:s,key:s&&er(s),ref:e&&e.ref?n&&i?I(i)?i.concat(nr(e)):[i,nr(e)]:nr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Kn?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ir(t.ssContent),ssFallback:t.ssFallback&&ir(t.ssFallback),el:t.el,anchor:t.anchor}}function or(t=" ",e=0){return rr(Gn,null,t,e)}function ar(t="",e=!1){return e?(Qn(),$n(Hn,null,t)):rr(Hn,null,t)}function sr(t){return null==t||"boolean"==typeof t?rr(Hn):I(t)?rr(Kn,null,t):"object"==typeof t?null===t.el?t:ir(t):rr(Gn,null,String(t))}function ur(t){return null===t.el?t:ir(t)}function cr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(I(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Ve(1),cr(t,n()),n._c&&Ve(-1)))}{n=32;const r=e._;r||tr in e?3===r&&Ue&&(1024&Ue.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Ue}}else T(e)?(e={default:e,_ctx:Ue},n=32):(e=String(e),64&r?(n=16,e=[or(e)]):n=8);t.children=e,t.shapeFlag|=n}function lr(...t){const e=g({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=s([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(v(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}function hr(t,e){if(Nr){let n=Nr.provides;const r=Nr.parent&&Nr.parent.provides;r===n&&(n=Nr.provides=Object.create(r)),n[t]=e}else;}function fr(t,e,n=!1){const r=Nr||Ue;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&T(e)?e():e}}let pr=!0;function dr(t,e,n=[],r=[],i=[],o=!1){const{mixins:a,extends:s,data:u,computed:c,methods:h,watch:p,provide:d,inject:v,components:m,directives:y,beforeMount:b,mounted:w,beforeUpdate:E,updated:_,activated:S,deactivated:A,beforeDestroy:k,beforeUnmount:D,destroyed:C,unmounted:O,render:x,renderTracked:R,renderTriggered:P,errorCaptured:L,expose:M}=e,F=t.proxy,V=t.ctx,U=t.appContext.mixins;if(o&&x&&t.render===f&&(t.render=x),o||(pr=!1,vr("beforeCreate","bc",e,t,U),pr=!0,gr(t,U,n,r,i)),s&&dr(t,s,n,r,i,!0),a&&gr(t,a,n,r,i),v)if(I(v))for(let l=0;l<v.length;l++){const t=v[l];V[t]=fr(t)}else for(const l in v){const t=v[l];N(t)?V[l]=fr(t.from||l,t.default,!0):V[l]=fr(t)}if(h)for(const l in h){const t=h[l];T(t)&&(V[l]=t.bind(F))}if(o?u&&n.push(u):(n.length&&n.forEach((e=>yr(t,e,F))),u&&yr(t,u,F)),c)for(const l in c){const t=c[l],e=Lr({get:T(t)?t.bind(F,F):T(t.get)?t.get.bind(F,F):f,set:!T(t)&&T(t.set)?t.set.bind(F):f});Object.defineProperty(V,l,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}var j;if(p&&r.push(p),!o&&r.length&&r.forEach((t=>{for(const e in t)br(t[e],V,F,e)})),d&&i.push(d),!o&&i.length&&i.forEach((t=>{const e=T(t)?t.call(F):t;Reflect.ownKeys(e).forEach((t=>{hr(t,e[t])}))})),o&&(m&&g(t.components||(t.components=g({},t.type.components)),m),y&&g(t.directives||(t.directives=g({},t.type.directives)),y)),o||vr("created","c",e,t,U),b&&an(b.bind(F)),w&&sn(w.bind(F)),E&&un(E.bind(F)),_&&cn(_.bind(F)),S&&In(S.bind(F),"a",j),A&&function(t,e){In(t,"da",e)}(A.bind(F)),L&&((t,e=Nr)=>{rn("ec",t,e)})(L.bind(F)),R&&pn(R.bind(F)),P&&fn(P.bind(F)),D&&ln(D.bind(F)),O&&hn(O.bind(F)),I(M)&&!o)if(M.length){const e=t.exposed||(t.exposed=oe({}));M.forEach((t=>{e[t]=ue(F,t)}))}else t.exposed||(t.exposed=l)}function vr(t,e,n,r,i){for(let o=0;o<i.length;o++)mr(t,e,i[o],r);mr(t,e,n,r)}function mr(t,e,n,r){const{extends:i,mixins:o}=n,a=n[t];if(i&&mr(t,e,i,r),o)for(let s=0;s<o.length;s++)mr(t,e,o[s],r);a&&he(a.bind(r.proxy),r,e)}function gr(t,e,n,r,i){for(let o=0;o<e.length;o++)dr(t,e[o],n,r,i,!0)}function yr(t,e,n){pr=!1;const r=e.call(n,n);pr=!0,N(r)&&(t.data===l?t.data=Ht(r):g(t.data,r))}function br(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(S(t)){const n=e[t];T(n)&&mn(i,n)}else if(T(t))mn(i,t.bind(n));else if(N(t))if(I(t))t.forEach((t=>br(t,e,n,r)));else{const r=T(t.handler)?t.handler.bind(n):e[t.handler];T(r)&&mn(i,r,t)}}function wr(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&wr(t,o,n),i&&i.forEach((e=>wr(t,e,n)));for(const a in e)r&&w(r,a)?t[a]=r[a](t[a],e[a],n.proxy,a):t[a]=e[a]}const Ir=t=>t?Dr(t)?t.exposed?t.exposed:t.proxy:Ir(t.parent):null,Er=g(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ir(t.parent),$root:t=>Ir(t.root),$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const a={};return o.forEach((e=>wr(a,e,t))),wr(a,e,t),e.__merged=a}(t),$forceUpdate:t=>()=>Ne(t.update),$nextTick:t=>Ae.bind(t.proxy),$watch:t=>yn.bind(t)}),_r={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const s=a[e];if(void 0!==s)switch(s){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==l&&w(r,e))return a[e]=0,r[e];if(i!==l&&w(i,e))return a[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return a[e]=2,o[e];if(n!==l&&w(n,e))return a[e]=3,n[e];pr&&(a[e]=4)}}const h=Er[e];let f,p;return h?("$attrs"===e&&it(t,0,e),h(t)):(f=s.__cssModules)&&(f=f[e])?f:n!==l&&w(n,e)?(a[e]=3,n[e]):(p=u.config.globalProperties,w(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==l&&w(i,e))i[e]=n;else if(r!==l&&w(r,e))r[e]=n;else if(w(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let s;return void 0!==n[a]||t!==l&&w(t,a)||e!==l&&w(e,a)||(s=o[0])&&w(s,a)||w(r,a)||w(Er,a)||w(i.config.globalProperties,a)}},Tr=g({},_r,{get(t,e){if(e!==Symbol.unscopables)return _r.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),Sr=Cn();let Ar=0;let Nr=null;const kr=t=>{Nr=t};function Dr(t){return 4&t.vnode.shapeFlag}let Cr=!1;function Or(t,e,n){T(e)?t.render=e:N(e)&&(t.setupState=oe(e)),xr(t)}function xr(t,e){const n=t.type;t.render||(t.render=n.render||f,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Tr))),Nr=t,nt(),dr(t,n),rt(),Nr=null}function Rr(t,e=Nr){e&&(e.effects||(e.effects=[])).push(t)}function Pr(t){return T(t)&&t.displayName||t.name}function Lr(t){const e=function(t){let e,n;return T(t)?(e=t,n=f):(e=t.get,n=t.set),new ce(e,n,T(t)||!t.set)}(t);return Rr(e.effect),e}function Mr(t,e,n){const r=arguments.length;return 2===r?N(e)&&!I(e)?Jn(e)?rr(t,null,[e]):rr(t,e):rr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Jn(n)&&(n=[n]),rr(t,e,n))}function Fr(t,e){let n;if(I(t)||S(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(N(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const Vr="3.0.11",Ur="http://www.w3.org/2000/svg",jr="undefined"!=typeof document?document:null;let qr,Br;const Kr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?jr.createElementNS(Ur,t):jr.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>jr.createTextNode(t),createComment:t=>jr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?Br||(Br=jr.createElementNS(Ur,"svg")):qr||(qr=jr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let a=o,s=a;for(;a;)s=a,Kr.insert(a,e,n),a=i.firstChild;return[o,s]}};const Gr=/\s*!important$/;function Hr(t,e,n){if(I(n))n.forEach((n=>Hr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=zr[e];if(n)return n;let r=M(e);if("filter"!==r&&r in t)return zr[e]=r;r=U(r);for(let i=0;i<Wr.length;i++){const n=Wr[i]+r;if(n in t)return zr[e]=n}return e}(t,e);Gr.test(n)?t.setProperty(V(r),n.replace(Gr,""),"important"):t[r]=n}}const Wr=["Webkit","Moz","ms"],zr={};const Xr="http://www.w3.org/1999/xlink";let Qr=Date.now,Yr=!1;if("undefined"!=typeof window){Qr()>document.createEvent("Event").timeStamp&&(Qr=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Yr=!!(t&&Number(t[1])<=53)}let $r=0;const Jr=Promise.resolve(),Zr=()=>{$r=0};function ti(t,e,n,r){t.addEventListener(e,n,r)}function ei(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[n,s]=function(t){let e;if(ni.test(t)){let n;for(e={};n=t.match(ni);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[V(t.slice(2)),e]}(e);if(r){ti(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||Qr();(Yr||r>=n.attached-1)&&he(function(t,e){if(I(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>$r||(Jr.then(Zr),$r=Qr()))(),n}(r,i),s)}else a&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,a,s),o[e]=void 0)}}const ni=/(?:Once|Passive|Capture)$/;const ri=/^on[a-z]/;const ii=t=>{const e=t.props["onUpdate:modelValue"];return I(e)?t=>B(e,t):e};function oi(t){t.target.composing=!0}function ai(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const si={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=ii(i);const o=r||"number"===t.type;ti(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=G(r)),t._assign(r)})),n&&ti(t,"change",(()=>{t.value=t.value.trim()})),e||(ti(t,"compositionstart",oi),ti(t,"compositionend",ai),ti(t,"change",ai))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=ii(i),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&G(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},ui=["ctrl","shift","alt","meta"],ci={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ui.some((n=>t[`${n}Key`]&&!e.includes(n)))},li=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=ci[e[t]];if(r&&r(n,e))return}return t(n,...r)},hi=g({patchProp:(t,e,r,i,o=!1,a,s,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(S(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)Hr(r,t,n[t]);if(e&&!S(e))for(const t in e)null==n[t]&&Hr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:v(e)?m(e)||ei(t,e,0,i,s):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&ri.test(e)&&T(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(ri.test(e)&&S(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(Cb){}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,a,s,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(Xr,e.slice(6,e.length)):t.setAttributeNS(Xr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Kr);let fi;const pi=(...t)=>{const e=(fi||(fi=Fn(hi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(S(t)){return document.querySelector(t)}return t}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */(t);if(!r)return;const i=e._component;T(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function di(t){return void 0===t&&(t=null),fr(null!==t?t:"store")}var vi=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function mi(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}var gi=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},yi={namespaced:{configurable:!0}};yi.namespaced.get=function(){return!!this._rawModule.namespaced},gi.prototype.addChild=function(t,e){this._children[t]=e},gi.prototype.removeChild=function(t){delete this._children[t]},gi.prototype.getChild=function(t){return this._children[t]},gi.prototype.hasChild=function(t){return t in this._children},gi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},gi.prototype.forEachChild=function(t){mi(this._children,t)},gi.prototype.forEachGetter=function(t){this._rawModule.getters&&mi(this._rawModule.getters,t)},gi.prototype.forEachAction=function(t){this._rawModule.actions&&mi(this._rawModule.actions,t)},gi.prototype.forEachMutation=function(t){this._rawModule.mutations&&mi(this._rawModule.mutations,t)},Object.defineProperties(gi.prototype,yi);var bi=function(t){this.register([],t,!1)};function wi(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;wi(t.concat(r),e.getChild(r),n.modules[r])}}function Ii(t){return new Ei(t)}bi.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},bi.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},bi.prototype.update=function(t){wi([],this.root,t)},bi.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new gi(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&mi(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},bi.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},bi.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var Ei=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new bi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var i=this,o=this.dispatch,a=this.commit;this.dispatch=function(t,e){return o.call(i,t,e)},this.commit=function(t,e,n){return a.call(i,t,e,n)},this.strict=r;var s=this._modules.root.state;Ni(this,s,[],this._modules.root),Ai(this,s),n.forEach((function(t){return t(e)})),(void 0===t.devtools||t.devtools)&&function(t){vi&&(t._devtoolHook=vi,vi.emit("vuex:init",t),vi.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){vi.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){vi.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},_i={state:{configurable:!0}};function Ti(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function Si(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ni(t,n,[],t._modules.root,!0),Ai(t,n,e)}function Ai(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};mi(i,(function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=Ht({data:e}),t.strict&&function(t){mn((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),r&&n&&t._withCommit((function(){r.data=null}))}function Ni(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!o&&!i){var s=ki(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){s[u]=r.state}))}var c=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=Di(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=Di(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return ki(t.state,n)}}}),i}(t,a,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,a+n,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,r,i,c)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,a+n,e,c)})),r.forEachChild((function(r,o){Ni(t,e,n.concat(o),r,i)}))}function ki(t,e){return e.reduce((function(t,e){return t[e]}),t)}function Di(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */Ei.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this},_i.state.get=function(){return this._state.data},_i.state.set=function(t){},Ei.prototype.commit=function(t,e,n){var r=this,i=Di(t,e,n),o=i.type,a=i.payload,s={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},Ei.prototype.dispatch=function(t,e){var n=this,r=Di(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(Cb){}var u=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(Cb){}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(Cb){}e(t)}))}))}},Ei.prototype.subscribe=function(t,e){return Ti(t,this._subscribers,e)},Ei.prototype.subscribeAction=function(t,e){return Ti("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},Ei.prototype.watch=function(t,e,n){var r=this;return mn((function(){return t(r.state,r.getters)}),e,Object.assign({},n))},Ei.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},Ei.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),Ni(this,this.state,t,this._modules.get(t),n.preserveState),Ai(this,this.state)},Ei.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete ki(e.state,t.slice(0,-1))[t[t.length-1]]})),Si(this)},Ei.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},Ei.prototype.hotUpdate=function(t){this._modules.update(t),Si(this,!0)},Ei.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(Ei.prototype,_i);var Ci=function(t,e){return(Ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Oi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ci(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var xi=function(){return(xi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ri(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Cb){o(Cb)}}function s(t){try{u(r.throw(t))}catch(Cb){o(Cb)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Pi(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Cb){o=[6,Cb],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Li(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mi(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Fi(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Vi(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ui=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qi(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Cb){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bi=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ki.prototype.create),o}return Oi(e,t),e}(Error),Ki=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?Gi(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Bi(i,s,r);return u},t}();function Gi(t,e){return t.replace(Hi,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Hi=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zi(t,e){var n=new Xi(t,e);return n.subscribe.bind(n)}var Xi=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Qi),void 0===r.error&&(r.error=Qi),void 0===r.complete&&(r.complete=Qi);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Cb){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(Cb){"undefined"!=typeof console&&console.error&&console.error(Cb)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Qi(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){return t&&t._delegate?t._delegate:t}var $i=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Ji=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ui;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(Cb){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=xi({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(Cb){if(r)return null;throw Cb}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(Cb){}try{for(var r=Li(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Mi(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Cb){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ri(this,void 0,void 0,(function(){var t;return Pi(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Fi(Fi([],Mi(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Mi(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=Li(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Mi(l.value,2),f=h[0],p=h[1];s===this.normalizeInstanceIdentifier(f)&&p.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi,to=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ji(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function eo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no,ro,io=[];(ro=no||(no={}))[ro.DEBUG=0]="DEBUG",ro[ro.VERBOSE=1]="VERBOSE",ro[ro.INFO=2]="INFO",ro[ro.WARN=3]="WARN",ro[ro.ERROR=4]="ERROR",ro[ro.SILENT=5]="SILENT";var oo,ao={debug:no.DEBUG,verbose:no.VERBOSE,info:no.INFO,warn:no.WARN,error:no.ERROR,silent:no.SILENT},so=no.INFO,uo=((Zi={})[no.DEBUG]="log",Zi[no.VERBOSE]="log",Zi[no.INFO]="info",Zi[no.WARN]="warn",Zi[no.ERROR]="error",Zi),co=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=uo[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,eo(["["+i+"]  "+t.name+":"],n))}},lo=function(){function t(t){this.name=t,this._logLevel=so,this._logHandler=co,this._userLogHandler=null,io.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in no))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ao[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,no.DEBUG],t)),this._logHandler.apply(this,eo([this,no.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,no.VERBOSE],t)),this._logHandler.apply(this,eo([this,no.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,no.INFO],t)),this._logHandler.apply(this,eo([this,no.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,no.WARN],t)),this._logHandler.apply(this,eo([this,no.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,no.ERROR],t)),this._logHandler.apply(this,eo([this,no.ERROR],t))},t}();function ho(t){io.forEach((function(e){e.setLogLevel(t)}))}var fo,po=((oo={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",oo["bad-app-name"]="Illegal App name: '{$appName}",oo["duplicate-app"]="Firebase App named '{$appName}' already exists",oo["app-deleted"]="Firebase App named '{$appName}' already deleted",oo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",oo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",oo),vo=new Ki("app","Firebase",po),mo=((fo={})["@firebase/app"]="fire-core",fo["@firebase/analytics"]="fire-analytics",fo["@firebase/auth"]="fire-auth",fo["@firebase/database"]="fire-rtdb",fo["@firebase/functions"]="fire-fn",fo["@firebase/installations"]="fire-iid",fo["@firebase/messaging"]="fire-fcm",fo["@firebase/performance"]="fire-perf",fo["@firebase/remote-config"]="fire-rc",fo["@firebase/storage"]="fire-gcs",fo["@firebase/firestore"]="fire-fst",fo["fire-js"]="fire-js",fo["firebase-wrapper"]="fire-js-all",fo),go=new lo("@firebase/app"),yo=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Vi(void 0,t),this.container=new to(e.name),this._addComponent(new $i("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(Cb){go.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,Cb)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw vo.create("app-deleted",{appName:this.name_})},t}();yo.prototype.name&&yo.prototype.options||yo.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bo(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw vo.create("bad-app-name",{appName:String(a)});if(Wi(e,a))throw vo.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=mo[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void go.warn(u.join(" "))}o(new $i(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ho,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw vo.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ao[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:no[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=io;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Wi(e,t=t||"[DEFAULT]"))throw vo.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return go.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw vo.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Vi(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo=function t(){var e=bo(yo);return e.INTERNAL=xi(xi({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Vi(e,t)},createSubscribe:zi,ErrorFactory:Ki,deepExtend:Vi}),e}(),Io=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){go.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Eo=self.firebase.SDK_VERSION;Eo&&Eo.indexOf("LITE")>=0&&go.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _o=wo.initializeApp;wo.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qi()&&go.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_o.apply(void 0,t)};var To,So,Ao=wo;(To=Ao).INTERNAL.registerComponent(new $i("platform-logger",(function(t){return new Io(t)}),"PRIVATE")),To.registerVersion("@firebase/app","0.6.20",So),To.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ao.registerVersion("firebase","8.4.3","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function _(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new _(e.substring(A.length),t.message,t.serverResponse):null}I(_,Error),_.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},_.prototype.toJSON=function(){return this.w()};var S,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,I(O,Error),O.prototype.name="CustomError",I(x,O),x.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new P((function(){return new U}),(function(t){t.reset()}));function V(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=j(t,e)}function W(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,$=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){Y=ut;break t}}Y=""}function ct(t){return ot(Y,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===Nt?t:""}function _t(t){return t instanceof Et&&t.constructor===Et?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=gt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function kt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof kt&&t.constructor===kt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ot=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t))t=new kt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ot);t=e&&Ct.test(e[1])?new kt(t,Lt):null}return t}function Pt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new kt(t,Lt))}var Lt={},Mt=new kt("about:invalid#zClosurez",Lt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof kt?t:Pt(t),e=e||a,n=n instanceof mt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var Kt,Gt,Ht=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),zt=ct("Edge"),Xt=zt||Wt,Qt=ct("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=ot(Y.toLowerCase(),"webkit")&&!ct("Edge");function $t(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Gt=Y,Qt?/rv:([^\);]+)(\)|;)/.exec(Gt):zt?/Edge\/([\d\.]+)/.exec(Gt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Yt?/WebKit\/(\S+)/.exec(Gt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Wt){var te=$t();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=$(String(Kt)).split("."),r=$(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Wt){var ie=$t();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var ae=!Wt||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}q(a?Q(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ce||(ce=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ce(t)):a.setImmediate(t)}}(),me||(le(),me=!0),ge.add(t,e)}var me=!1,ge=new M;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){de(e)}L(F,t)}me=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Re(n,Ie,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(Cb){}Re(n,Ee,t)}))}catch(r){Re(this,Ee,r)}}var we=0,Ie=2,Ee=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new P((function(){return new _e}),(function(t){t.reset()}));function Se(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(l);return Re(e,Ie,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Pe(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ee,e)))}t.c=null}else Re(t,Ee,e)}function Oe(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Oe(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return Oe(t,Se(e||l,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(Cb){Ue.call(null,Cb)}L(Te,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ve((function(){Ce(this,e)}),this)}},t.$c=function(t){this.a=we,Re(this,Ie,t)},t.ad=function(t){this.a=we,Re(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=de;function je(t){O.call(this,t)}function qe(){this.xa=this.xa,this.pa=this.pa}I(je,O),je.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t)}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},Ge=!Wt||9<=Number(oe),He=Wt&&!re("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function ze(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ze.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Xe,ze);var Qe=Ke({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++$e,this.va=this.Pa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=nn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Je(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function an(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?bn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=vn(t);if(s||(t[rn]=s=new tn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=dn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?wn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=gn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ye])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&ln(t),n.call(r,e)}function dn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Xe(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function yn(){qe.call(this),this.v=new tn(this),this.ac=this,this.gb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&en(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function _n(t){var e=null;return new be((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(yn,qe),yn.prototype[Ye]=!0,yn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new ze(t,n);else if(t instanceof ze)t.target=t.target||n;else{var i=t;dt(t=new ze(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=In(a,r,!0,t)&&i}if(i=In(a=t.b=n,r,!0,t)&&i,i=In(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(a=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=An.prototype).W=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Cn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,xn(this,t.g),this.f=t.f,Rn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),xn(this,n[4]),this.f=Vn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function On(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(zn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),$n(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Gn)),t.b=new Wn(e,t.i))}function Pn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Mn(t){return t instanceof Cn?new Cn(t):new Cn(t,void 0)}function Fn(t,e,n,r){var i=new Cn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&xn(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Kn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Hn)),t.join("")},Cn.prototype.resolve=function(t){var e=new Cn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)xn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Bn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,Hn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?$n(n,i,o):n.add(i,o)}return n}function Qn(t,e){zn(t),e=Zn(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Yn(t,e){return zn(t),e=Zn(t,e),kn(t.a.b,e)}function $n(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Q(n)),t.b+=n.length)}function Jn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return nr(new er,t,e),e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){zn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){zn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){zn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){zn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=X(e,this.a.get(Zn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return zn(this),this.c=null,Yn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function ar(){var t=Ar();return Wt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(Rt(t)||Mt)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||a.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Ar())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Rt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Pt(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ut("",r,n,a),t=Dt(e),a&&(Xt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new Ft(t=(r=It())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Ut(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new be((function(e){"complete"==a.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function mr(t){return t=t||Ar(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function br(){return Ao.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ao.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Er="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Ir:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=_r(i=Ar()):"Worker"===r&&(r=_r(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return a.navigator&&a.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=a.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return yr()&&!!a.indexedDB}return!1}function Dr(){return(Cr()||"chrome-extension:"===Or()||mr())&&!wr()&&kr()&&!yr()}function Cr(){return"http:"===Or()||"https:"===Or()}function Or(){return a.location&&a.location.protocol||null}function xr(t){return!lr(t=t||Ar())&&_r(t)!=Ir}function Rr(t){return void 0===t?null:tr(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=_r(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=br(),this.b=lr(t)||"ReactNative"===e}function jr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Br(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Gr={};function Hr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Wr.abcd}catch(Gt){Kr=!1}function zr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Qr(t){var e={};return Xr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Yr(t[n]));return e}function $r(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new _("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[ei]),zr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(n){e=null}return e}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){$r.call(this,t),zr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=ai&&i!=si&&!n||i==si&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[pi]=n||null,e[vi]=n||null,e[fi]=r):(e[pi]=r||null,e[vi]=r||null,e[fi]=n||null),e[di]=t||null,zr(this,gi,i),zr(this,mi,Yr(e))}I(ri,$r),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",mi="data",gi="operation";function yi(t){var e=Ln(t=Mn(t),bi)||null,n=Ln(t,wi)||null,r=Ln(t,_i)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new _("argument-error",bi+", "+wi+"and "+_i+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,Ii)||null,languageCode:Ln(t,Ei)||null,tenantId:Ln(t,Ti)||null})}var bi="apiKey",wi="oobCode",Ii="continueUrl",Ei="languageCode",_i="mode",Ti="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:ai,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new yi(t)}catch(e){return null}}function Ni(t){var e=t[xi];if(void 0===e)throw new _("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new _("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[Li];var r=n[Ri];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new _("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new _("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new _("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new _("missing-android-pkg-name")}}else if(void 0!==n)throw new _("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new _("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new _("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new _("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new _("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Di="dynamicLinkDomain",Ci="handleCodeInApp",Oi="iOS",xi="url",Ri="installApp",Pi="minimumVersion",Li="packageName",Mi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Ui(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function ji(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new ji(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Ui(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}ji.prototype.T=function(){return this.f},ji.prototype.l=function(){return this.c},ji.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Ki},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Wi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function zi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new $i(t);if(void 0!==t[Xi])return new Yi(t)}catch(r){}return null}var Xi="idToken",Qi="providerId";function Yi(t){var e=t[Qi];if(!e&&t[Xi]){var n=qi(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function $i(t){Yi.call(this,t),zr(this,"profile",Yr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function to(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function no(t){var e=Mn(t),n=Ln(e,"link"),r=Ln(Mn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Mn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new _("internal-error","Internal assert: no raw session string available");if(t&&e)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}I($i,Yi),I(Ji,$i),I(Zi,$i),I(to,$i),I(eo,$i);var io="enroll",oo="signin";function ao(){}function so(t,e){return t.then((function(t){if(t[$a]){var n=qi(t[$a]);if(!n||e!=n.i)throw new _("user-mismatch");return t}throw new _("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new _("user-mismatch"):t}))}function uo(t,e){if(!e)throw new _("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new _("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Wi(t)||{}).Ja||null,this.ob=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function go(t){vo.call(this,t,Gi),this.a=[]}function yo(){go.call(this,"facebook.com")}function bo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){go.call(this,"github.com")}function Io(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){go.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function To(){vo.call(this,"twitter.com",Ki)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Do(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=Oo(e)))throw new _("argument-error","Invalid email link!");return new No(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ai(t=no(t)))&&t.operation===ai?t:null}function xo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new _("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Po(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||Ao.auth()}catch(e){throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new _("missing-verification-id");if(!e)throw new _("missing-verification-code");return new xo({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return bo(n);case"github.com":return Io(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new uo(e,a):new ho(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Vo(t){if(!t.isOAuthProvider)throw new _("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new _("invalid-auth-event");if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},uo.prototype.ka=function(t){return bs(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ws(t,n)},uo.prototype.c=function(t,e){return so(Is(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ka=function(t){return bs(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ws(t,n)},ho.prototype.c=function(t,e){return so(Is(t,fo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=ft(t),this},I(mo,vo),I(go,vo),go.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return Q(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},I(yo,go),zr(yo,"PROVIDER_ID","facebook.com"),zr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(wo,go),zr(wo,"PROVIDER_ID","github.com"),zr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Eo,go),zr(Eo,"PROVIDER_ID","google.com"),zr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(To,vo),zr(To,"PROVIDER_ID","twitter.com"),zr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Ds,{email:this.a,oobCode:this.f}):nu(t,$s,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Cs,{idToken:e,email:this.a,oobCode:this.f}):nu(t,Ks,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return so(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Do,{PROVIDER_ID:"password"}),Xr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(t){return t.fb(Po(this))},xo.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,nu(t,Zs,n)},xo.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",so(t=nu(t,tu,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then((function(t){return function(t,e){return nu(t,Hs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Ha().then((function(e){return function(t,e){return nu(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,qs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Lo,{PROVIDER_ID:"phone"}),Xr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Ko=null;function Go(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.a,"chrome-extension"==(r=r.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",_.call(this,e,n)}function Ho(t,e,n){_.call(this,t,n),(t=e||{}).Jb&&zr(this,"email",t.Jb),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Zb&&zr(this,"tenantId",t.Zb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new _(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function zo(){}function Xo(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(Cb){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ta(t,e,n){this.reset(t,e,n,void 0,void 0)}function ea(t){this.f=t,this.b=this.c=this.a=null}function na(t,e){this.name=t,this.value=e}I(Go,_),I(Ho,_),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,I(Qo,zo),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Qo,I($o,zo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null,ta.prototype.reset=function(t,e,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(t){return t.c?t.c:t.a?sa(t.a):(R("Root logger has no level set."),null)}ea.prototype.log=function(t,e,n){if(t.value>=sa(this).value)for(p(e)&&(e=e()),t=new ta(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua={},ca=null;function la(t){var e;if(ca||(ca=new ea(""),ua[""]=ca,ca.c=oa),!(e=ua[t])){e=new ea(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=la(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ua[t]=e}return e}function ha(t,e){t&&t.log(aa,e,void 0)}function fa(t){this.f=t}function pa(t){yn.call(this),this.u=t,this.h=void 0,this.readyState=da,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(fa,zo),fa.prototype.a=function(){return new pa(this.f)},fa.prototype.b=function(t){return function(){return t}}({}),I(pa,yn);var da=0;function va(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){yn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(t=pa.prototype).open=function(t,e){if(this.readyState!=da)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=da},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,va(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ga(this),3==this.readyState&&va(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},t.sc=function(t){this.a&&(this.response=t,ma(this))},t.Ua=function(t){var e=this.i;e&&e.log(ia,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ya,yn);var ba="";ya.prototype.b=la("goog.net.XhrIo");var wa=/^https?$/i,Ia=["POST","PUT"];function Ea(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=t.D?Xo(t.D):Xo(Bo),t.a.onreadystatechange=b(t.Vb,t);try{ha(t.b,Oa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ha(t.b,Oa(t,"Error opening Xhr: "+s.message)),void Ta(t,s)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Sn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=_a,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!H(Ia,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ka(t),0<t.g&&(t.u=function(t){return Wt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,Oa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=En(t.Ma,t.g,t)),ha(t.b,Oa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ha(t.b,Oa(t,"Send error: "+s.message)),Ta(t,s)}}function _a(t){return"content-type"==t.toLowerCase()}function Ta(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Sa(t),Na(t)}function Sa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Aa(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Da(t)&&2==Ca(t))ha(t.b,Oa(t,"Local request error detected and ignored"));else if(t.i&&4==Da(t))En(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Da(t)){ha(t.b,Oa(t,"Request complete")),t.c=!1;try{var e,n=Ca(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Dn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!wa.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Da(t)?t.a.statusText:""}catch(l){ha(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ca(t)+"]",Sa(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){ka(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Cb){(t=t.b)&&t.log(ra,"Problem encountered resetting onreadystatechange: "+Cb.message,void 0)}}}function ka(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Da(t){return t.a?t.a.readyState:0}function Ca(t){try{return 2<Da(t)?t.a.status:-1}catch(e){return-1}}function Oa(t,e){return e+" ["+t.R+" "+t.l+" "+Ca(t)+"]"}function xa(t){var e=Ka;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,Fa(t)}function Pa(t){if(t.a){if(!t.v)throw new Va(t);t.v=!1}}function La(t,e,n,r){t.g.push([e,n,r]),t.a&&Fa(t)}function Ma(t){return G(t.g,(function(t){return p(t[1])}))}function Fa(t){if(t.h&&t.a&&Ma(t)){var e=t.h,n=qa[e];n&&(a.clearTimeout(n.a),delete qa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ma(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof xa?(La(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new ja(e),qa[e.a]=e,t.h=e.a)}function Va(){O.call(this)}function Ua(){O.call(this)}function ja(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Oa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ha(this.b,Oa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),ya.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Aa(this):this.Jc())},t.Jc=function(){Aa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ha(this.b,"Can not get response: "+e.message),null}},xa.prototype.cancel=function(t){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ua(this),Pa(this),Ra(this,!1,t))}},xa.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},xa.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return La(this,r,(function(t){t instanceof Ua?o.cancel():i(t)})),o.then(t,e,n)},xa.prototype.$goog_Thenable=!0,I(Va,O),Va.prototype.message="Deferred has already fired",Va.prototype.name="AlreadyCalledError",I(Ua,O),Ua.prototype.message="Deferred was canceled",Ua.prototype.name="CanceledError",ja.prototype.c=function(){throw delete qa[this.a],this.b};var qa={};function Ba(t){var e,n=document,r=_t(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new xa(o);return e=window.setTimeout((function(){Ga(i,!0);var t=new za(Wa,"Timeout reached for loading script "+r);Pa(s),Ra(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,!1,e),Pa(s),Ra(s,!0,null))},i.onerror=function(){Ga(i,!0,e);var t=new za(Ha,"Error while loading script "+r);Pa(s),Ra(s,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=_t(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ka(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ga(t,!0,this.Ma)}}function Ga(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ha=0,Wa=1;function za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function Xa(t){this.f=t}function Qa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ja,this.g=ft(t.secureTokenHeaders||Za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ts,this.a=ft(t.firebaseHeaders||es),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=a.XMLHttpRequest||n&&Ao.INTERNAL.node&&Ao.INTERNAL.node.XMLHttpRequest)&&!yr())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new fa(self):wr()?this.f=new Xa(n):this.f=new $o,this.b=null}I(za,O),I(Xa,zo),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var Ya,$a="idToken",Ja=new Ur(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},ts=new Ur(3e4,6e4),es={"Content-Type":"application/json"};function ns(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function rs(t,e){e&&(t.l=is("https://securetoken.googleapis.com/v1/token",e),t.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=is("https://identitytoolkit.googleapis.com/v2/",e))}function is(t,e){return t=Mn(t),e=Mn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,xn(t,e.g),t.toString()}function os(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function as(t,e,n,r,i,o,s){(function(){var t=Ar();return!((t=_r(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&oe&&!(9<oe))})()||yr()?t=b(t.u,t):(Ya||(Ya=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[us]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){La(t,null,e,void 0)}(Ba(Tt(ss,{onload:us})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Qa.prototype.T=function(){return this.b},Qa.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}bn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(s,"ready",(function(){u&&clearTimeout(u),Be(this)})),wn(s,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),Ea(s,t,n,r,i)};var ss=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(t,e,n,r,i,o,a){var s=Mn(e+n);Pn(s,"key",t.c),a&&Pn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Pn(s,c,i[c]);return new be((function(e,n){as(t,s.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new _("network-request-failed"))}),r,u?void 0:tr(Pr(i)),t.a,t.v.get())}))}function ls(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new _("invalid-email")}function hs(t){"email"in t&&ls(t)}function fs(t){if(!t[$a]){if(t.mfaPendingCredential)throw new _("multi-factor-auth-required",null,ft(t));throw new _("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _("internal-error")}else{if(!t.sessionInfo)throw new _("missing-verification-id");if(!t.code)throw new _("missing-verification-code")}}Qa.prototype.s=function(t,e,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qa.prototype.zb=function(){return nu(this,Gs,{})},Qa.prototype.Bb=function(t,e){return nu(this,Bs,{idToken:t,email:e})},Qa.prototype.Cb=function(t,e){return nu(this,Ks,{idToken:t,password:e})};var ds={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(t){if(!t.phoneVerificationInfo)throw new _("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new _("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new _("internal-error")}function gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ys(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;fs(t)}function bs(t,e){return e.returnIdpCredential=!0,nu(t,zs,e)}function ws(t,e){return e.returnIdpCredential=!0,nu(t,Qs,e)}function Is(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Xs,e)}function Es(t){if(!t.oobCode)throw new _("invalid-action-code")}(t=Qa.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(ds,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},t.vb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,Fs,t)},t.wb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Ps,t)},t.ub=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,Ls,t)},t.Eb=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ms,t)},t.fb=function(t){return nu(this,Js,t)},t.nb=function(t,e){return nu(this,js,{oobCode:t,newPassword:e})},t.Ra=function(t){return nu(this,Ts,{oobCode:t})},t.jb=function(t){return nu(this,_s,{oobCode:t})};var _s={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Ts={endpoint:"resetPassword",A:Es,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new _("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(t){if(ls(t),!t.password)throw new _("weak-password")},G:fs,V:!0,B:!0},As={endpoint:"createAuthUri",B:!0},Ns={endpoint:"deleteAccount",N:["idToken"]},ks={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new _("internal-error")}},Ds={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},Cs={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ps={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _("internal-error");ls(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _("internal-error");ls(t)},Z:"email",B:!0},Vs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new _("internal-error")}},js={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(hs(t),!t.password)throw new _("weak-password")},G:fs,V:!0},Gs={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new _("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new _("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new _("internal-error")},B:!0,Na:!0},zs={endpoint:"verifyAssertion",A:ms,Ya:gs,G:ys,V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:ms,Ya:gs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);fs(t)},V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new _("internal-error")},Ya:gs,G:ys,V:!0},Ys={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new _("invalid-custom-token")},G:fs,V:!0,B:!0},$s={endpoint:"verifyPassword",A:function(t){if(ls(t),!t.password)throw new _("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ps,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new _("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);fs(t)}},tu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:fs,B:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$a]^!!t.refreshToken)throw new _("internal-error")},B:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ne(new _("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),cs(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new _("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new _(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new _(r[i],e);return!e&&t&&(e=Rr(t)),new _("internal-error",e)}function ou(t){this.b=t,this.a=null,this.rb=function(t){return(cu||(cu=new be((function(t,e){function n(){Vr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Ae(Ba(r=Tt(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new be((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Ur(3e4,6e4),uu=new Ur(5e3,15e3),cu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Fn((t=Mn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Pn(this.a,"apiKey",this.h),Pn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(t){try{return Ao.app(t).auth().Ga()}catch(e){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=sr();return function(t){return nu(t,Vs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Mn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Go(sr())}))}function vu(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=fu(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new ou(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Sr(t.c,fu(t.b)):null,t.l=new Qa(t.g,D(t.i),t.C),t.f&&rs(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new hu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function yu(t){if(this.a=t||Ao.INTERNAL.reactNative&&Ao.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Qn(this.a.b,"v"),this.b?Pn(this.a,"eid",this.b):Qn(this.a.b,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Qn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Mn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Pn(t,"apiKey",this.s),Pn(t,"appName",this.c),Pn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ao.app(this.c).auth().la()}catch(s){n=null}for(var r in e.ob=n,Pn(t,"providerId",this.a.providerId),e=Pr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||Pn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Pn(t,"scopes",n.join(","))),this.l?Pn(t,"redirectUrl",this.l):Qn(t.b,"redirectUrl"),this.g?Pn(t,"eventId",this.g):Qn(t.b,"eventId"),this.i?Pn(t,"v",this.i):Qn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Pn(t,a,this.b[a]);return this.h?Pn(t,"tid",this.h):Qn(t.b,"tid"),this.f?Pn(t,"eid",this.f):Qn(t.b,"eid"),(a=fu(this.c)).length&&Pn(t,"fw",a.join(",")),t.toString()},(t=pu.prototype).Ob=function(t,e,n){var r=new _("popup-closed-by-user"),i=new _("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new be((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return _n(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Ar();return!xr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new _("popup-blocked"));if(a&&!xr())return this.ma().o((function(e){hr(t),i(e)})),r(),Ae();this.a||(this.a=du(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),a)||ur(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=du(mu(this)));var i=this;return this.a.then((function(){Vo(e),ur(gu(i.s,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return vu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new _("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){z(this.h,(function(e){return e==t}))},(t=yu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Rr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Iu=[];function Eu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function Nu(){if(!Ou())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(q(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Iu.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Eu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new _u(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=ku(t)),t.i}function Cu(t,e){var n=0;return new be((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!a.indexedDB}catch(Gt){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Mu(t){return Du(t).then((function(t){var e=xu(Ru(t,!1));return e.getAll?Pu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Ou()){var t=Mr(),r="__sak"+t;return wu||(wu=new Nu),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==br();if(!(t=qu()||t&&Ao.INTERNAL.node&&Ao.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new _("internal-error","The LocalStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=qu()||Ao.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=a.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){this.type="nullStorage"}function Ku(){if(!function(){var t="Node"==br();if(!(t=Gu()||t&&Ao.INTERNAL.node&&Ao.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new _("internal-error","The SessionStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Gu()||Ao.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var t=a.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Xu,t.Node=Qu,t.ReactNative=Yu,t.Worker=$u,this.a=t[br()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Cu(this,(function(e){return Pu((e=xu(Ru(e,!0))).get(t))})).then((function(i){return Cu(n,(function(o){if(o=xu(Ru(o,!0)),i)return i.value=e,Pu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Pu(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Cu(this,(function(e){return Pu(xu(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Cu(this,(function(r){return n=!0,e.b++,Pu(xu(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Fu(t),e()}(this),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Ae().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&an(a.window,"storage",t)},t.ia=function(t){a.window&&cn(a.window,"storage",t)},(t=Bu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return Ae().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,zu,Xu={F:ju,bb:Ku},Qu={F:ju,bb:Ku},Yu={F:yu,bb:Bu},$u={F:ju,bb:Bu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var t=!(Fr(Ar())||!gr()),e=xr(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Hu),t=Wu;try{this.g=!ar()&&Br()||!a.indexedDB?new t.a.F:new Vu(yr()?new Uu:new t.a.F)}catch(r){this.g=new Uu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Uu}this.v=new Uu,this.f=b(this.Yb,this),this.b={}}function tc(){return zu||(zu=new Zu),zu}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.F&&(t.b[n]=null),ec(t,e.F).U(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.F).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(ec(this,"local").ca(this.f),this.h||(ar()||!Br())&&a.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Wt&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=lc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(gc):gc),this.reset()}I(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],pc=0;pc<hc;pc++)fc[pc]=0;var dc=X(128,fc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}I(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new _("invalid-cordova-configuration",t)}function Ec(t){var e=new yc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,dc,56-e.c):mc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Mn(i),"firebaseError")||null))?T(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)}))}var n=new Uo("unknown",null,null,null,new _("no-auth-event")),r=!1,i=_n(500).then((function(){return Sc(t).then((function(){r||_c(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ko||(Ko=new qo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=tc()}(t=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?vr().then((function(){return new be((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new _("cordova-not-ready")}))},t.Ob=function(t,e){return e(new _("operation-not-supported-in-this-environment")),Ae()},t.Mb=function(){return Ne(new _("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ne(new _("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ae().then((function(){return Vo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Uo(e,r,null,o,new _("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new _("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ne(new _("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ec(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,s.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new _("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new _("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new _("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=_n(2e3).then((function(){e(new _("redirect-cancelled-by-user"))})))},l=function(){jr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Sc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new _("no-auth-event")),t(e))}))},t.Sa=function(t){z(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function kc(t){return rc(t.b,Nc,t.a)}function Dc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Gc,this.C=new Qc,this.g=new Ac(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,S,this.J)}function Cc(t,e,n,r,i){var o=Ao.SDK_VERSION||null;return mr()?new wc(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Xb()&&Oc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)})),t.a.Tb()||Hc(t.b)}function Rc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){Oc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Pc(t,e){z(t.h,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(t){if(!t)throw new _("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hc(this.b),e};var Lc=new Ur(2e3,1e4),Mc=new Ur(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Vc(e))throw new _("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function jc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Dc.prototype.qa=function(){return this.b.qa()};var qc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Kc(t,e,n,r){var i=Bc(e,n,r);return qc[i]||(qc[i]=new Dc(t,e,n,r)),qc[i]}function Gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Xc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Xc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Xc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function $c(t,e){this.a=e,zr(this,"verificationId",t)}function Jc(t,e,n,r){return new Lo(t).fb(e,n).then((function(t){return new $c(t,r)}))}function Zc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var r=e&&e[nl];if(!r)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;q(e[el]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Xc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Xc(t,s,e,null)})).o((function(e){Xc(t,s,null,e)}))}(this,t,e):Ne(new _("invalid-auth-event")):(Xc(this,!1,null,null),Ae())}else Ne(new _("invalid-auth-event"))},Gc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new _("timeout");t.a&&t.a.cancel(),t.a=_n(Mc.get()).then((function(){t.b||(t.g=!0,Xc(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new _("invalid-auth-event"))}else Ne(new _("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function rl(t,e,n,r){_.call(this,"multi-factor-auth-required",r,e),this.b=new tl(t,e,n),zr(this,"resolver",this.b)}function il(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(r){}return null}function ol(){}function al(t){zr(this,"factorId",t.fa),this.a=t}function sl(t){if(al.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in ze.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,zr(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return jr()||!t?Ae():new be((function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function pl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=qi(e[$a]||""),t.a=e.refreshToken,dl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?as(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new _("internal-error")):r(new _("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):r(new _("internal-error"))}))}(t.f,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,dl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gl(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function yl(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Ao.SDK_VERSION?Sr(Ao.SDK_VERSION):null;this.a=new Qa(this.l,D(S),r),t.emulatorConfig&&rs(this.a,t.emulatorConfig),this.b=new pl(this.a),Nl(this,e[$a]),vl(this.b,e),zr(this,"refreshToken",this.b.a),Cl(this,n||{}),yn.call(this),this.R=!1,this.s&&Dr()&&(this.i=Kc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){rs(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){El(i,t.f)},this.ba=null,this.O=new cl(this,n),zr(this,"multiFactor",this.O)}function wl(t,e){t.ja&&cn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&an(e,"languageCodeChanged",t.Oa)}function Il(t,e){t.X&&cn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&an(e,"emulatorConfigChanged",t.Aa)}function El(t,e){t.$=e,os(t.a,Ao.SDK_VERSION?Sr(Ao.SDK_VERSION,t.$):null)}function _l(t,e){t.ba&&cn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&an(e,"frameworkChanged",t.Ba)}function Tl(t){try{return Ao.app(t.m).auth()}catch(e){throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sl(t){t.D||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.aa),an(t,"tokenChanged",t.aa))}function Al(t){cn(t,"tokenChanged",t.aa),t.u.stop()}function Nl(t,e){t.za=e,zr(t,"_lat",e)}function kl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return De(e).then((function(){return t}))}function Dl(t){t.i&&!t.R&&(t.R=!0,Rc(t.i,t))}function Cl(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ol(){}function xl(t){return Ae().then((function(){if(t.D)throw new _("app-deleted")}))}function Rl(t){return K(t.providerData,(function(t){return t.providerId}))}function Pl(t,e){e&&(Ll(t,e.providerId),t.providerData.push(e))}function Ll(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Fl(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new gl(t.a,t.b)}(e.metadata)):zr(t,"metadata",new gl),q(e.providerData,(function(e){Pl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),zr(t,"refreshToken",t.b.a),ll(t.O,e.O.b))}function Vl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Rs,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Ml(t,"isAnonymous",!1),e}))}))}function Ul(t,e){e[$a]&&t.za!=e[$a]&&(vl(t.b,e),t.dispatchEvent(new ul("tokenChanged")),Nl(t,e[$a]),Ml(t,"refreshToken",t.b.a))}function jl(t,e){return Vl(t).then((function(){if(H(Rl(t),e))return kl(t).then((function(){throw new _("provider-already-linked")}))}))}function ql(t,e,n){return Qr({user:t,credential:Fo(e),additionalUserInfo:e=zi(e),operationType:n})}function Bl(t,e){return Ul(t,e),t.reload().then((function(){return t}))}function Kl(t,e,n,r,i){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=Wi(n.providerId),a=Mr(t.uid+":::"),s=null;(!xr()||gr())&&t.s&&n.isOAuthProvider&&(s=gu(t.s,t.l,t.m,e,n,null,a,Ao.SDK_VERSION||null,null,null,t.tenantId));var u=fr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return Fc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new _("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=jc(t.i,t,e,u,a)}))})).then((function(t){return u&&hr(u),t?Qr(t):null})).o((function(t){throw u&&hr(u),t})),Wl(t,r,i)}function Gl(t,e,n,r,i){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,a=Mr(t.uid+":::");return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,kl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ql,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Yl(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new _("internal-error");throw new _("auth-domain-config-required")}}function Wl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ul("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){W(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),Tl(t),b(t.jc,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$a]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Pl(i,Qr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xl(t){this.a=t,this.b=tc()}tl.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[el],delete n[nl],dt(n,t),e.g(n)}))},I(rl,_),ol.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:Po(t.a)}),nu(e,Os,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),nu(e,xs,n)}))}(this,t,e)},I(al,ol),I(sl,al),I(ul,ze),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ro(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Ul(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return ll(e,r),Ul(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new _("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(bl,yn),bl.prototype.wa=function(t){this.ya=t,ns(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return Q(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(bl.prototype,"providerId","firebase"),(t=bl.prototype).reload=function(){var t=this;return Wl(this,xl(this).then((function(){return Vl(t).then((function(){return kl(t)})).then(Ol)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Wl(this,xl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new _("internal-error");return t.accessToken!=e.za&&(Nl(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Ml(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new _("internal-error");Cl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Pl(this,e[n]);Ml(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return Ul(e,t),n=ql(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wl(this,jl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=ql(e,t,"link"),Bl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wl(this,jl(this,"phone").then((function(){return Jc(Tl(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Wl(this,Ae().then((function(){return Jc(Tl(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ul(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ul(e,t),Ml(e,"displayName",t.displayName||null),Ml(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),kl(e)})).then(Ol))},t.cd=function(t){var e=this;return Wl(this,Vl(this).then((function(n){return H(Rl(e),t)?function(t,e,n){return nu(t,ks,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Rl(e),(function(t){n[t]||Ll(e,t)})),n[Lo.PROVIDER_ID]||zr(e,"phoneNumber",null),kl(e)})):kl(e).then((function(){throw new _("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return nu(t.a,Ns,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wl(t,null),Il(t,null),_l(t,null),t.J=[],t.D=!0,Al(t),zr(t,"refreshToken",null),t.i&&Pc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Kl(this,"linkViaPopup",t,(function(){return jl(e,t.providerId).then((function(){return kl(e)}))}),!1)},t.Nc=function(t){return Kl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return Gl(this,"linkViaRedirect",t,(function(){return jl(e,t.providerId)}),!1)},t.Oc=function(t){return Gl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return ws(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=ql(i,t,"link"),Bl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,Ae().then((function(){return so(Is(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=ql(i,t,"reauthenticate"),Ul(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Fi(new Ni(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Wl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Fi(new Ni(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wl(this,t=so(Ae(t),n.uid).then((function(t){return e=ql(n,t,"reauthenticate"),Ul(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&dt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.O.w()),t};var Ql={name:"redirectUser",F:"session"};function Yl(t){return rc(t.b,Ql,t.a)}function $l(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=th("local"),n=th("session"),r=th("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Lr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zl,t.a).then((function(t){return t?th(t):e}))}))}))})).then((function(e){return t.c=e,Jl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(th("local"),this.a,b(this.g,this))}function Jl(t,e){var n,r=[];for(n in Ju)Ju[n]!==e&&r.push(rc(t.b,th(Ju[n]),t.a));return r.push(rc(t.b,Zl,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)ke(t[s],w(o,s),a);else e(i)}))}(r)}$l.prototype.g=function(){var t=this,e=th("local");ih(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jl(t,"local").then((function(){t.c=e}))}))}))};var Zl={name:"persistence",F:"session"};function th(t){return{name:"authUser",F:t}}function eh(t,e){return ih(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nh(t){return ih(t,(function(){return rc(t.b,t.c,t.a)}))}function rh(t,e,n){return ih(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function ih(t,e){return t.f=t.f.then(e,e),t.f}function oh(t){if(this.l=!1,zr(this,"settings",new Yc),zr(this,"app",t),!dh(this).options||!dh(this).options.apiKey)throw new _("invalid-api-key");t=Ao.SDK_VERSION?Sr(Ao.SDK_VERSION):null,this.a=new Qa(dh(this).options&&dh(this).options.apiKey,D(S),t),this.R=[],this.s=[],this.O=[],this.hb=Ao.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Ao.INTERNAL.createSubscribe(b(this.Ac,this)),fh(this,null),this.i=new $l(dh(this).options.apiKey+":"+dh(this).name),this.D=new Xl(dh(this).options.apiKey+":"+dh(this).name),this.$=yh(this,function(t){var e=dh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ql,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.D,dh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Yl(t.D)}));return yh(t,e)}(t).then((function(){return rh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return eh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nh(t.i)}))):null})).then((function(e){fh(t,e||null)}));return yh(t,n)}(this)),this.h=yh(this,function(t){return t.$.then((function(){return lh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(th("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=dh(t).options.authDomain,n=dh(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Kc(e,n,dh(t).name,t.P),Rc(t.b,t),vh(t)&&Dl(vh(t)),t.m){Dl(t.m);var r=t.m;r.wa(t.la()),wl(r,t),El(r=t.m,t.J),_l(r,t),rs((r=t.m).a,t.P),Il(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Mn(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ah(t){ze.call(this,"languageCodeChanged"),this.h=t}function sh(t){ze.call(this,"emulatorConfigChanged"),this.c=t}function uh(t){ze.call(this,"frameworkChanged"),this.f=t}function ch(t){return t.Oa||Ne(new _("auth-domain-config-required"))}function lh(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=ch(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return yh(t,e)}function hh(t,e){var n={};return n.apiKey=dh(t).options.apiKey,n.authDomain=dh(t).options.authDomain,n.appName=dh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new bl(t,e);return n&&(i.ha=n),r&&El(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(Fl(vh(t),e),t.da(e)):(fh(t,e),Dl(e),t.da(e))})).then((function(){gh(t)}))}function fh(t,e){vh(t)&&(function(t,e){z(t.S,(function(t){return t==e}))}(vh(t),t.Ba),cn(vh(t),"tokenChanged",t.ya),cn(vh(t),"userDeleted",t.za),cn(vh(t),"userInvalidated",t.Aa),Al(vh(t))),e&&(e.S.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&Sl(e)),zr(t,"currentUser",e),e&&(e.wa(t.la()),wl(e,t),El(e,t.J),_l(e,t),rs(e.a,t.P),Il(e,t))}function ph(t,e){var n=null,r=null;return yh(t,e.then((function(e){return n=Fo(e),r=zi(e),hh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Qr({user:vh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function dh(t){return t.app}function vh(t){return t.currentUser}function mh(t){return vh(t)&&vh(t)._lat||null}function gh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](mh(t))}}function yh(t,e){return t.R.push(e),e.oa((function(){W(t.R,e)})),e}function bh(){}function wh(){this.a={},this.b=1e12}$l.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new _("invalid-persistence-type"),n=new _("unsupported-persistence-type");t:{for(r in Ju)if(Ju[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),ih(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jl(n,t)})).then((function(){if(n.c=th(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(oh,yn),I(ah,ze),I(sh,ze),I(uh,ze),(t=oh.prototype).xb=function(t){return yh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ns(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new _("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,rs(this.a,this.P),this.dispatchEvent(new sh(this.P))}},t.Gc=function(t){this.J.push(t),os(this.a,Ao.SDK_VERSION?Sr(Ao.SDK_VERSION,this.J):null),this.dispatchEvent(new uh(this.J))},t.Ga=function(){return Q(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:dh(this).options.apiKey,authDomain:dh(this).options.authDomain,appName:dh(this).name,currentUser:vh(this)&&vh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,bs(i.a,o))}))},t.Xc=function(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Mr(),i=null;(!xr()||gr())&&dh(this).options.authDomain&&t.isOAuthProvider&&(i=gu(dh(this).options.authDomain,dh(this).options.apiKey,dh(this).name,"signInViaPopup",t,null,r,Ao.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return yh(this,n=ch(this).then((function(n){return Fc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new _("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=jc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&hr(o),t?Qr(t):null})).o((function(t){throw o&&hr(o),t})))},t.Yc=function(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=this;return yh(this,ch(this).then((function(){return function(t){return ih(t,(function(){return t.b.set(Zl,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return lh(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new _("null-user"));if(this.S!=t.tenantId)return Ne(new _("tenant-id-mismatch"));var e=this,n={};n.apiKey=dh(this).options.apiKey,n.authDomain=dh(this).options.authDomain,n.appName=dh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[$a]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&El(e,r),Fl(e,t),e}(t,n,e.D,e.Ga());return yh(this,this.h.then((function(){if(dh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(Fl(vh(e),t),e.da(t)):(fh(e,r),Dl(r),e.da(r))})).then((function(){gh(e)})))},t.Ab=function(){var t=this;return yh(this,this.h.then((function(){return t.b&&Wc(t.b.b),vh(t)?(fh(t,null),nh(t.i).then((function(){gh(t)}))):Ae()})))},t.Zc=function(){var t=this;return rh(this.i,dh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fl(vh(t),e),vh(t).I();(vh(t)||e)&&(fh(t,e),e&&(Dl(e),e.ha=t.D),t.b&&Rc(t.b,t),gh(t))}}))},t.da=function(t){return eh(this.i,t)},t.mc=function(){gh(this),this.da(vh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return ph(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),yh(t,t.h.then((function(){!t.l&&H(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mh(t)))})))}(this,(function(){t.next(vh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return yh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return ph(e,nu(e.a,Ys,{token:t}))})).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ph(n,nu(n.a,$s,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ph(n,nu(n.a,Ss,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return ph(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(t,t.a.zb()).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vh(this)&&vh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&Sl(vh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Al(vh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),yh(this,this.h.then((function(){e.l||H(e.s,t)&&t(mh(e))})))},t.removeAuthTokenListener=function(t){z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(th("local"),t.a,this.ja),this.b&&(Pc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return yh(this,function(t,e){return nu(t,As,{identifier:e,continueUri:Cr()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.wb=function(t,e){var n=this;return yh(this,Ae().then((function(){var t=new Ni(e);if(!t.c)throw new _("argument-error",Ci+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return yh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return yh(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return yh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return yh(this,Ae().then((function(){return void 0===e||ht(e)?{}:Fi(new Ni(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return yh(this,Jc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return yh(this,Ae().then((function(){var r=e||sr(),i=Co(t,r);if(!(r=Oo(r)))throw new _("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new _("tenant-id-mismatch");return n.$a(i)})))},bh.prototype.render=function(){},bh.prototype.reset=function(){},bh.prototype.getResponse=function(){},bh.prototype.execute=function(){};var Ih=null;function Eh(t,e){return(e=_h(e))&&t.a[e]||null}function _h(t){return(t=void 0===t?1e12:t)?t.toString():null}function Th(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function Sh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ah(){}function Nh(){}wh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Th(t,e),this.b++},wh.prototype.reset=function(t){var e=Eh(this,t);t=_h(t),e&&t&&(e.delete(),delete this.a[t])},wh.prototype.getResponse=function(t){return(t=Eh(this,t))?t.getResponse():null},wh.prototype.execute=function(t){(t=Eh(this,t))&&t.execute()},Th.prototype.getResponse=function(){return Sh(this),this.b},Th.prototype.execute=function(){Sh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Th.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},zr(Ah,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Ih||(Ih=new wh),Ae(Ih)},Nh.prototype.c=function(){};var kh=null;function Dh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Oh=new Ur(3e4,6e4);Dh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new _("network-request-failed"))}),Oh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new _("internal-error"));delete a[e.a]},Ae(Ba(Tt(Ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var xh=null;function Rh(t,e,n,r,i,o,s){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(kh||(kh=new Nh),s=kh):(xh||(xh=new Dh),s=xh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mh])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fh],!a.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ph];this.a[Ph]=function(t){if(Vh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Vh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Nr(l,a);"function"==typeof t&&t()}}}var Ph="callback",Lh="expired-callback",Mh="sitekey",Fh="size";function Vh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Uh(t,e){return t.h.push(e),e.oa((function(){W(t.h,e)})),e}function jh(t){if(t.D)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}function qh(t,e,n){var r=!1;try{this.b=n||Ao.app()}catch(a){throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Ao.SDK_VERSION?Sr(Ao.SDK_VERSION,o):null,Rh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function Bh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Kh.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");n=Kh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new _("argument-error",t+" failed: "+r)}(t=Rh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Uh(this,Ae().then((function(){if(Cr()&&!yr())return vr();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Us,{})})).then((function(e){t.a[Mh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){jh(this);var t=this;return Uh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',qt(a.name),'"'),a.type){o.push(' type="',qt(a.type),'"');var s={};dt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){jh(this);var t=this;return Uh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){jh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(qh,Rh);var Kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Qh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function $h(t){return d(t)&&"string"==typeof t.uid}function Jh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Zh(t,e){for(var n in e){var r=e[n].name;t[r]=nf(r,t[n],e[n].j)}}function tf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Bh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function ef(t,e,n,r){t[e]=nf(e,n,r)}function nf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Zh(oh.prototype,{jb:{name:"applyActionCode",j:[Gh("code")]},Ra:{name:"checkActionCode",j:[Gh("code")]},nb:{name:"confirmPasswordReset",j:[Gh("code"),Gh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gh("email"),Gh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Gh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Gh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jh(Wh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jh(Wh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Gh("email"),Jh(Wh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Gh("email"),Wh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Gh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Qh()]},Tc:{name:"signInWithCustomToken",j:[Gh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Gh("email"),Gh("password")]},Vc:{name:"signInWithEmailLink",j:[Gh("email"),Gh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},Xh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Gh("url"),Wh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Gh("code")]}}),tf(oh.prototype,{lc:{name:"languageCode",kb:Jh(Gh(),Xh(),"languageCode")},ti:{name:"tenantId",kb:Jh(Gh(),Xh(),"tenantId")}}),oh.Persistence=Ju,oh.Persistence.LOCAL="local",oh.Persistence.SESSION="session",oh.Persistence.NONE="none",Zh(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qh()]},qb:{name:"linkWithCredential",j:[Qh()]},Dc:{name:"linkWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qh()]},tb:{name:"reauthenticateWithCredential",j:[Qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jh(Wh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},cd:{name:"unlink",j:[Gh("provider")]},Bb:{name:"updateEmail",j:[Gh("email")]},Cb:{name:"updatePassword",j:[Gh("password")]},ed:{name:"updatePhoneNumber",j:[Qh("phone")]},Db:{name:"updateProfile",j:[Wh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Gh("email"),Jh(Wh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),Zh(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Hh("appVerificationDisabledForTesting")}}),Zh($c.prototype,{confirm:{name:"confirm",j:[Gh("verificationCode")]}}),ef(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,ko,Ro,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jh(Gh(),Wh(),"json")]),ef(Do,"credential",(function(t,e){return new No(t,e)}),[Gh("email"),Gh("password")]),Zh(No.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(yo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(yo,"credential",bo,[Jh(Gh(),Wh(),"token")]),ef(Do,"credentialWithLink",Co,[Gh("email"),Gh("emailLink")]),Zh(wo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(wo,"credential",Io,[Jh(Gh(),Wh(),"token")]),Zh(Eo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(Eo,"credential",_o,[Jh(Gh(),Jh(Wh(),Xh()),"idToken"),Jh(Gh(),Xh(),"accessToken",!0)]),Zh(To.prototype,{Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(To,"credential",So,[Jh(Gh(),Wh(),"token"),Gh("secret",!0)]),Zh(go.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},credential:{name:"credential",j:[Jh(Gh(),Jh(Wh(),Xh()),"optionsOrIdToken"),Jh(Gh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),Zh(ho.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(uo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(Lo,"credential",Mo,[Gh("verificationId"),Gh("verificationCode")]),Zh(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jh(Gh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yh(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yh(t.session,oo)&&$h(t.multiFactorHint):t.session&&t.multiFactorUid?Yh(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zh(xo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(_.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(Ho.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(Go.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(rl.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),Zh(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zh(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Gh("displayName",!0)]},bd:{name:"unenroll",j:[Jh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:$h},Gh(),"multiFactorInfoIdentifier")]}}),Zh(qh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(yi,"parseLink",Ai,[Gh("link")]),ef(Ah,"assertion",(function(t){return new sl(t)}),[Qh("phone")]),function(){if(void 0===Ao||!Ao.INTERNAL||!Ao.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:oh,AuthCredential:ao,Error:_};ef(t,"EmailAuthProvider",Do,[]),ef(t,"FacebookAuthProvider",yo,[]),ef(t,"GithubAuthProvider",wo,[]),ef(t,"GoogleAuthProvider",Eo,[]),ef(t,"TwitterAuthProvider",To,[]),ef(t,"OAuthProvider",go,[Gh("providerId")]),ef(t,"SAMLAuthProvider",mo,[Gh("providerId")]),ef(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof oh)}}]),ef(t,"RecaptchaVerifier",qh,[Jh(Gh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ao.app.App)}}]),ef(t,"ActionCodeURL",yi,[]),ef(t,"PhoneMultiFactorGenerator",Ah,[]),Ao.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new oh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ao.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ao.registerVersion("@firebase/auth","0.16.5"),Ao.INTERNAL.extendNamespace({User:bl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var No=function(t,e){return(No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ko(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Do,Co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oo=Oo||{},xo=Co||self;function Ro(){}function Po(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Lo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Mo="closure_uid_"+(1e9*Math.random()>>>0),Fo=0;function Vo(t,e,n){return t.call.apply(t.bind,arguments)}function Uo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function jo(t,e,n){return(jo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vo:Uo).apply(null,arguments)}function qo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Bo(){return Date.now()}function Ko(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Go(){this.j=this.j,this.i=this.i}Go.prototype.j=!1,Go.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Mo)&&t[Mo]||(t[Mo]=++Fo))},Go.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ho=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Wo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function zo(t){return Array.prototype.concat.apply([],arguments)}function Xo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Qo(t){return/^[\s\xa0]*$/.test(t)}var Yo,$o=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jo(t,e){return-1!=t.indexOf(e)}function Zo(t,e){return t<e?-1:t>e?1:0}t:{var ta=xo.navigator;if(ta){var ea=ta.userAgent;if(ea){Yo=ea;break t}}Yo=""}function na(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ra(t){var e={};for(var n in t)e[n]=t[n];return e}var ia="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oa(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ia.length;o++)n=ia[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function aa(t){return aa[" "](t),t}aa[" "]=Ro;var sa,ua,ca=Jo(Yo,"Opera"),la=Jo(Yo,"Trident")||Jo(Yo,"MSIE"),ha=Jo(Yo,"Edge"),fa=ha||la,pa=Jo(Yo,"Gecko")&&!(Jo(Yo.toLowerCase(),"webkit")&&!Jo(Yo,"Edge"))&&!(Jo(Yo,"Trident")||Jo(Yo,"MSIE"))&&!Jo(Yo,"Edge"),da=Jo(Yo.toLowerCase(),"webkit")&&!Jo(Yo,"Edge");function va(){var t=xo.document;return t?t.documentMode:void 0}t:{var ma="",ga=(ua=Yo,pa?/rv:([^\);]+)(\)|;)/.exec(ua):ha?/Edge\/([\d\.]+)/.exec(ua):la?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ua):da?/WebKit\/(\S+)/.exec(ua):ca?/(?:Version)[ \/]?(\S+)/.exec(ua):void 0);if(ga&&(ma=ga?ga[1]:""),la){var ya=va();if(null!=ya&&ya>parseFloat(ma)){sa=String(ya);break t}}sa=ma}var ba,wa={};function Ia(t){return function(t,e){var n=wa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=$o(String(sa)).split("."),r=$o(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Zo(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Zo(0==a[2].length,0==s[2].length)||Zo(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(xo.document&&la){var Ea=va();ba=Ea||(parseInt(sa,10)||void 0)}else ba=void 0;var _a=ba,Ta=!la||9<=Number(_a),Sa=la&&!Ia("9"),Aa=function(){if(!xo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xo.addEventListener("test",Ro,e),xo.removeEventListener("test",Ro,e)}catch(n){}return t}();function Na(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ka(t,e){if(Na.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(pa){t:{try{aa(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Da[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Na.prototype.b=function(){this.defaultPrevented=!0},Ko(ka,Na);var Da={2:"touch",3:"pen",4:"mouse"};ka.prototype.b=function(){ka.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Sa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ca="closure_listenable_"+(1e6*Math.random()|0),Oa=0;function xa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Oa,this.Y=this.Z=!1}function Ra(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Pa(t){this.src=t,this.a={},this.b=0}function La(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ho(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ra(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ma(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Pa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ma(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new xa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Fa="closure_lm_"+(1e6*Math.random()|0),Va={};function Ua(t,e,n,r,i){if(r&&r.once)return qa(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ua(t,e[o],n,r,i);return null}return n=Qa(n),t&&t[Ca]?t.va(e,n,Lo(r)?!!r.capture:!!r,i):ja(t,e,n,!1,r,i)}function ja(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Lo(i)?!!i.capture:!!i;if(a&&!Ta)return null;var s=za(t);if(s||(t[Fa]=s=new Pa(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Wa,e=Ta?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Aa||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ga(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function qa(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)qa(t,e[o],n,r,i);return null}return n=Qa(n),t&&t[Ca]?t.wa(e,n,Lo(r)?!!r.capture:!!r,i):ja(t,e,n,!0,r,i)}function Ba(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ba(t,e[o],n,r,i);else r=Lo(r)?!!r.capture:!!r,n=Qa(n),t&&t[Ca]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Ma(o=t.a[e],n,r,i))&&(Ra(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=za(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ma(e,n,r,i)),(n=-1<t?e[t]:null)&&Ka(n))}function Ka(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ca])La(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ga(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=za(e))?(La(n,t),0==n.b&&(n.src=null,e[Fa]=null)):Ra(t)}}}function Ga(t){return t in Va?Va[t]:Va[t]="on"+t}function Ha(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ka(t),n.call(r,e)}function Wa(t,e){if(t.Y)return!0;if(!Ta){if(!e)t:{e=["window","event"];for(var n=xo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ha(t,e=new ka(e,this))}return Ha(t,new ka(e,this))}function za(t){return(t=t[Fa])instanceof Pa?t:null}var Xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qa(t){return"function"==typeof t?t:(t[Xa]||(t[Xa]=function(e){return t.handleEvent(e)}),t[Xa])}function Ya(){Go.call(this),this.c=new Pa(this),this.J=this,this.C=null}function $a(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Na(e,t);else if(e instanceof Na)e.target=e.target||t;else{var i=e;oa(e=new Na(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ja(a,r,!0,e)&&i}if(i=Ja(a=e.a=t,r,!0,e)&&i,i=Ja(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ja(a=e.a=n[o],r,!1,e)&&i}function Ja(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&La(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ko(Ya,Go),Ya.prototype[Ca]=!0,(Do=Ya.prototype).addEventListener=function(t,e,n,r){Ua(this,t,e,n,r)},Do.removeEventListener=function(t,e,n,r){Ba(this,t,e,n,r)},Do.G=function(){if(Ya.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ra(n[r]);delete e.a[t],e.b--}}this.C=null},Do.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Do.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Za=xo.JSON.stringify;function ts(){this.b=this.a=null}var es,ns=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new is}),(function(t){t.reset()}));function rs(){var t=us,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function is(){this.next=this.b=this.a=null}function os(t){xo.setTimeout((function(){throw t}),0)}function as(t,e){es||function(){var t=xo.Promise.resolve(void 0);es=function(){t.then(cs)}}(),ss||(es(),ss=!0),us.add(t,e)}ts.prototype.add=function(t,e){var n=ns.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},is.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},is.prototype.reset=function(){this.next=this.b=this.a=null};var ss=!1,us=new ts;function cs(){for(var t;t=rs();){try{t.a.call(t.b)}catch(n){os(n)}var e=ns;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ss=!1}function ls(t,e){Ya.call(this),this.b=t||1,this.a=e||xo,this.f=jo(this.Za,this),this.g=Bo()}function hs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function fs(t,e,n){if("function"==typeof t)n&&(t=jo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=jo(t.handleEvent,t)}return 2147483647<Number(e)?-1:xo.setTimeout(t,e||0)}function ps(t){t.a=fs((function(){t.a=null,t.c&&(t.c=!1,ps(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ko(ls,Ya),(Do=ls.prototype).aa=!1,Do.M=null,Do.Za=function(){if(this.aa){var t=Bo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),$a(this,"tick"),this.aa&&(hs(this),this.start()))}},Do.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Bo())},Do.G=function(){ls.X.G.call(this),hs(this),delete this.a};var ds=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}No(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ps(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(xo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Go);function vs(t){Go.call(this),this.b=t,this.a={}}Ko(vs,Go);var ms=[];function gs(t,e,n,r){Array.isArray(n)||(n&&(ms[0]=n.toString()),n=ms);for(var i=0;i<n.length;i++){var o=Ua(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ys(t){na(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ka(t)}),t),t.a={}}function bs(){this.a=!0}function ws(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Za(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}vs.prototype.G=function(){vs.X.G.call(this),ys(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bs.prototype.info=function(){};var Is={},Es=null;function _s(){return Es=Es||new Ya}function Ts(t){Na.call(this,Is.Fa,t)}function Ss(t){var e=_s();$a(e,new Ts(e,t))}function As(t,e){Na.call(this,Is.STAT_EVENT,t),this.stat=e}function Ns(t){var e=_s();$a(e,new As(e,t))}function ks(t){Na.call(this,Is.Ga,t)}function Ds(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return xo.setTimeout((function(){t()}),e)}Is.Fa="serverreachability",Ko(Ts,Na),Is.STAT_EVENT="statevent",Ko(As,Na),Is.Ga="timingevent",Ko(ks,Na);var Cs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Os={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function xs(){}function Rs(t){var e;return(e=t.a)||(e=t.a={}),e}function Ps(){}xs.prototype.a=null;var Ls,Ms={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fs(){Na.call(this,"d")}function Vs(){Na.call(this,"c")}function Us(){}function js(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new vs(this),this.P=qs,t=fa?125:void 0,this.R=new ls(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ko(Fs,Na),Ko(Vs,Na),Ko(Us,xs),Ls=new Us;var qs=45e3,Bs={},Ks={};function Gs(t,e,n){t.H=1,t.i=fu(au(e)),t.j=n,t.I=!0,Hs(t,null)}function Hs(t,e){t.u=Bo(),Xs(t),t.l=au(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Su(n.b,"t",r),t.D=0,t.a=bc(t.g,t.g.C?e:null),0<t.O&&(t.F=new ds(jo(t.Ca,t,t.a),t.O)),gs(t.J,t.a,"readystatechange",t.Xa),e=t.B?ra(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ss(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ws(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=zs(t,n);if(i==Ks){4==e&&(t.h=4,Ns(14),r=!1),ws(t.c,t.f,null,"[Incomplete Response]");break}if(i==Bs){t.h=4,Ns(15),ws(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ws(t.c,t.f,i,null),Zs(t,i)}4==e&&0==n.length&&(t.h=1,Ns(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),hc(e),e.F=!0,Ns(11))):(ws(t.c,t.f,n,"[Invalid Chunked Response]"),Js(t),$s(t))}function zs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ks:(n=Number(e.substring(n,r)),isNaN(n)?Bs:(r+=1)+n>e.length?Ks:(e=e.substr(r,n),t.D=r+n,e))}function Xs(t){t.T=Bo()+t.P,Qs(t,t.P)}function Qs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ds(jo(t.Va,t),e)}function Ys(t){t.o&&(xo.clearTimeout(t.o),t.o=null)}function $s(t){0==t.g.v||t.A||dc(t.g,t)}function Js(t){Ys(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,hs(t.R),ys(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Zs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||xu(n.b,t)))if(n.I=t.N,!t.C&&xu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;pc(n),nc(n)}lc(n),Ns(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ds(jo(n.Sa,n),6e3));if(1>=Ou(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else mc(n,11)}else if((t.C||n.a==t)&&pc(n),!Qo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Jo(l,"spdy")||Jo(l,"quic")||Jo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ru(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,hu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Bo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=yc(u,u.C?u.ga:null,u.fa),p.C){Pu(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Ys(d),Xs(d)),u.a=p}else cc(u);0<n.g.length&&oc(n)}else"stop"!=i[0]&&"close"!=i[0]||mc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?mc(n,7):ec(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ss(4)}catch(m){}}function tu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Po(t)||"string"==typeof t)Wo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Po(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Po(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function eu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof eu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ru(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ru(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ru(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Do=js.prototype).setTimeout=function(t){this.P=t},Do.Xa=function(t){t=t.target;var e=this.F;e&&3==$u(t)?e.f():this.Ca(t)},Do.Ca=function(t){try{if(t==this.a)t:{var e=$u(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!fa&&!this.a.$())){this.A||4!=e||7==n||Ss(8==n||0>=r?3:2),Ys(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qo(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Ns(12),Js(this),$s(this);break t}ws(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Zs(this,u)}this.I?(Ws(this,e,o),fa&&this.b&&3==e&&(gs(this.J,this.R,"tick",this.Wa),this.R.start())):(ws(this.c,this.f,o,null),Zs(this,o)),4==e&&Js(this),this.b&&!this.A&&(4==e?dc(this.g,this):(this.b=!1,Xs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ns(12)):(this.h=0,Ns(13)),Js(this),$s(this)}}}catch(c){}},Do.Wa=function(){if(this.a){var t=$u(this.a),e=this.a.$();this.D<e.length&&(Ys(this),Ws(this,t,e),this.b&&4!=t&&Xs(this))}},Do.cancel=function(){this.A=!0,Js(this)},Do.Va=function(){this.o=null;var t=Bo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Ss(3),Ns(17)),Js(this),this.h=2,$s(this)):Qs(this,this.T-t)},(Do=eu.prototype).K=function(){nu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Do.L=function(){return nu(this),this.a.concat()},Do.get=function(t,e){return ru(this.b,t)?this.b[t]:e},Do.set=function(t,e){ru(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Do.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var iu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ou(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ou){this.a=void 0!==e?e:t.a,su(this,t.f),this.j=t.j,uu(this,t.c),cu(this,t.h),this.g=t.g,e=t.b;var n=new Iu;n.c=e.c,e.a&&(n.a=new eu(e.a),n.b=e.b),lu(this,n),this.i=t.i}else t&&(n=String(t).match(iu))?(this.a=!!e,su(this,n[1]||"",!0),this.j=pu(n[2]||""),uu(this,n[3]||"",!0),cu(this,n[4]),this.g=pu(n[5]||"",!0),lu(this,n[6]||"",!0),this.i=pu(n[7]||"")):(this.a=!!e,this.b=new Iu(null,this.a))}function au(t){return new ou(t)}function su(t,e,n){t.f=n?pu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function uu(t,e,n){t.c=n?pu(e,!0):e}function cu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function lu(t,e,n){e instanceof Iu?(t.b=e,function(t,e){e&&!t.f&&(Eu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(_u(this,e),Su(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=du(e,bu)),t.b=new Iu(e,t.a))}function hu(t,e,n){t.b.set(e,n)}function fu(t){return hu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Bo()).toString(36)),t}function pu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function du(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,vu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ou.prototype.toString=function(){var t=[],e=this.f;e&&t.push(du(e,mu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(du(e,mu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(du(n,"/"==n.charAt(0)?yu:gu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",du(n,wu)),t.join("")};var mu=/[#\/\?@]/g,gu=/[#\?:]/g,yu=/[#\?]/g,bu=/[#\?@]/g,wu=/#/g;function Iu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Eu(t){t.a||(t.a=new eu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function _u(t,e){Eu(t),e=Au(t,e),ru(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ru((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nu(t)))}function Tu(t,e){return Eu(t),e=Au(t,e),ru(t.a.b,e)}function Su(t,e,n){_u(t,e),0<n.length&&(t.c=null,t.a.set(Au(t,e),Xo(n)),t.b+=n.length)}function Au(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Do=Iu.prototype).add=function(t,e){Eu(this),this.c=null,t=Au(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Do.forEach=function(t,e){Eu(this),this.a.forEach((function(n,r){Wo(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Do.L=function(){Eu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Do.K=function(t){Eu(this);var e=[];if("string"==typeof t)Tu(this,t)&&(e=zo(e,this.a.get(Au(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=zo(e,t[n])}return e},Do.set=function(t,e){return Eu(this),this.c=null,Tu(this,t=Au(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Do.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Do.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Nu=function(t,e){this.b=t,this.a=e};function ku(t){this.g=t||Du,xo.PerformanceNavigationTiming?t=0<(t=xo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(xo.ia&&xo.ia.ya&&xo.ia.ya()&&xo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Du=10;function Cu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ou(t){return t.b?1:t.a?t.a.size:0}function xu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ru(t,e){t.a?t.a.add(e):t.b=e}function Pu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Lu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ko(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xo(t.c)}function Mu(){}function Fu(){this.a=new Mu}function Vu(t,e,n){var r=n||"";try{tu(t,(function(t,n){var i=t;Lo(t)&&(i=Za(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Cb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Cb}}function Uu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ku.prototype.cancel=function(){var t,e;if(this.c=Lu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ko(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Mu.prototype.stringify=function(t){return xo.JSON.stringify(t,void 0)},Mu.prototype.parse=function(t){return xo.JSON.parse(t,void 0)};var ju=xo.JSON.parse;function qu(t){Ya.call(this),this.headers=new eu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Bu,this.D=this.F=!1}Ko(qu,Ya);var Bu="",Ku=/^https?$/i,Gu=["POST","PUT"];function Hu(t){return"content-type"==t.toLowerCase()}function Wu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,zu(t),Qu(t)}function zu(t){t.u||(t.u=!0,$a(t,"complete"),$a(t,"error"))}function Xu(t){if(t.b&&void 0!==Oo&&(!t.s[1]||4!=$u(t)||2!=t.W()))if(t.l&&4==$u(t))fs(t.za,0,t);else if($a(t,"readystatechange"),4==$u(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(iu)[1]||null;if(!o&&xo.self&&xo.self.location){var a=xo.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ku.test(o?o.toLowerCase():"")}e=i}if(e)$a(t,"complete"),$a(t,"success");else{t.h=6;try{var s=2<$u(t)?t.a.statusText:""}catch(u){s=""}t.f=s+" ["+t.W()+"]",zu(t)}}finally{Qu(t)}}}function Qu(t,e){if(t.a){Yu(t);var n=t.a,r=t.s[0]?Ro:null;t.a=null,t.s=null,e||$a(t,"ready");try{n.onreadystatechange=r}catch(Cb){}}}function Yu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(xo.clearTimeout(t.m),t.m=null)}function $u(t){return t.a?t.a.readyState:0}function Ju(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return na(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hu(t,e,n))}function Zu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tc(t){this.pa=0,this.g=[],this.c=new bs,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Zu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Zu("baseRetryDelayMs",5e3,t),this.Ra=Zu("retryDelaySeedMs",1e4,t),this.Ma=Zu("forwardChannelMaxRetries",2,t),this.ma=Zu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ku(t&&t.concurrentRequestLimit),this.ka=new Fu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ec(t){if(rc(t),3==t.v){var e=t.R++,n=au(t.B);hu(n,"SID",t.J),hu(n,"RID",e),hu(n,"TYPE","terminate"),sc(t,n),(e=new js(t,t.c,e,void 0)).H=2,e.i=fu(au(n)),n=!1,xo.navigator&&xo.navigator.sendBeacon&&(n=xo.navigator.sendBeacon(e.i.toString(),"")),!n&&xo.Image&&((new Image).src=e.i,n=!0),n||(e.a=bc(e.g,null),e.a.ba(e.i)),e.u=Bo(),Xs(e)}gc(t)}function nc(t){t.a&&(hc(t),t.a.cancel(),t.a=null)}function rc(t){nc(t),t.j&&(xo.clearTimeout(t.j),t.j=null),pc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&xo.clearTimeout(t.h),t.h=null)}function ic(t,e){t.g.push(new Nu(t.Oa++,e)),3==t.v&&oc(t)}function oc(t){Cu(t.b)||t.h||(t.h=!0,as(t.Ba,t),t.u=0)}function ac(t,e){var n;n=e?e.f:t.R++;var r=au(t.B);hu(r,"SID",t.J),hu(r,"RID",n),hu(r,"AID",t.P),sc(t,r),t.i&&t.l&&Ju(r,t.i,t.l),n=new js(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=uc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ru(t.b,n),Gs(n,r,e)}function sc(t,e){t.f&&tu({},(function(t,n){hu(e,n,t)}))}function uc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?jo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Vu(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function cc(t){t.a||t.j||(t.T=1,as(t.Aa,t),t.o=0)}function lc(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Ds(jo(t.Aa,t),vc(t,t.o)),t.o++,!0)}function hc(t){null!=t.s&&(xo.clearTimeout(t.s),t.s=null)}function fc(t){t.a=new js(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=au(t.la);hu(e,"RID","rpc"),hu(e,"SID",t.J),hu(e,"CI",t.H?"0":"1"),hu(e,"AID",t.P),sc(t,e),hu(e,"TYPE","xmlhttp"),t.i&&t.l&&Ju(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=fu(au(e)),n.j=null,n.I=!0,Hs(n,t)}function pc(t){null!=t.m&&(xo.clearTimeout(t.m),t.m=null)}function dc(t,e){var n=null;if(t.a==e){pc(t),hc(t),t.a=null;var r=2}else{if(!xu(t.b,e))return;n=e.s,Pu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Bo()-e.u;var i=t.u;$a(r=_s(),new ks(r,n,e,i)),oc(t)}else cc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ou(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ds(jo(t.Ba,t,e),vc(t,t.u)),t.u++,0)))}(t,e)||2==r&&lc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:mc(t,5);break;case 4:mc(t,10);break;case 3:mc(t,6);break;default:mc(t,2)}}function vc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function mc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=jo(t.Ya,t);n||(n=new ou("//www.google.com/images/cleardot.gif"),xo.location&&"http"==xo.location.protocol||su(n,"https"),fu(n)),function(t,e){var n=new bs;if(xo.Image){var r=new Image;r.onload=qo(Uu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qo(Uu,n,r,"TestLoadImage: error",!1,e),r.onabort=qo(Uu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qo(Uu,n,r,"TestLoadImage: timeout",!1,e),xo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ns(2);t.v=0,t.f&&t.f.ra(e),gc(t),rc(t)}function gc(t){t.v=0,t.I=-1,t.f&&(0==Lu(t.b).length&&0==t.g.length||(t.b.c.length=0,Xo(t.g),t.g.length=0),t.f.qa())}function yc(t,e,n){var r=function(t){return t instanceof ou?au(t):new ou(t,void 0)}(n);if(""!=r.c)e&&uu(r,e+"."+r.c),cu(r,r.h);else{var i=xo.location;r=function(t,e,n,r){var i=new ou(null,void 0);return t&&su(i,t),e&&uu(i,e),n&&cu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&na(t.V,(function(t,e){hu(r,e,t)})),e=t.A,n=t.na,e&&n&&hu(r,e,n),hu(r,"VER",t.ha),sc(t,r),r}function bc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qu(t.Na)).F=t.C,e}function wc(){}function Ic(){if(la&&!(10<=Number(_a)))throw Error("Environmental error: no available transport.")}function Ec(t,e){Ya.call(this),this.a=new tc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Qo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Sc(this)}function _c(t){Fs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Tc(){Vs.call(this),this.status=1}function Sc(t){this.a=t}(Do=qu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Rs(this.H):Rs(Ls),this.a.onreadystatechange=jo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Wu(this,o)}t=n||"";var i=new eu(this.headers);r&&tu(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Hu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=xo.FormData&&t instanceof xo.FormData,!(0<=Ho(Gu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yu(this),0<this.o&&((this.D=function(t){return la&&Ia(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=jo(this.xa,this)):this.m=fs(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Wu(this,o)}},Do.xa=function(){void 0!==Oo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,$a(this,"timeout"),this.abort(8))},Do.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,$a(this,"complete"),$a(this,"abort"),Qu(this))},Do.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qu(this,!0)),qu.X.G.call(this)},Do.za=function(){this.j||(this.A||this.l||this.g?Xu(this):this.Ua())},Do.Ua=function(){Xu(this)},Do.W=function(){try{return 2<$u(this)?this.a.status:-1}catch(ua){return-1}},Do.$=function(){try{return this.a?this.a.responseText:""}catch(ua){return""}},Do.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ju(e)}},Do.ua=function(){return this.h},Do.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Do=tc.prototype).ha=8,Do.v=1,Do.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new js(this,this.c,t,void 0),r=this.l;if(this.O&&(r?oa(r=ra(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=uc(this,n,e),hu(i=au(this.B),"RID",t),hu(i,"CVER",22),this.A&&hu(i,"X-HTTP-Session-Id",this.A),sc(this,i),this.i&&r&&Ju(i,this.i,r),Ru(this.b,n),this.Ia&&hu(i,"TYPE","init"),this.da?(hu(i,"$req",e),hu(i,"SID","null"),n.U=!0,Gs(n,i,null)):Gs(n,i,e),this.v=2}}else 3==this.v&&(t?ac(this,t):0==this.g.length||Cu(this.b)||ac(this))},Do.Aa=function(){if(this.j=null,fc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ds(jo(this.Ta,this),t)}},Do.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ns(10),nc(this),fc(this))},Do.Sa=function(){null!=this.m&&(this.m=null,nc(this),lc(this),Ns(19))},Do.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ns(2)):(this.c.info("Failed to ping google.com"),Ns(1))},(Do=wc.prototype).ta=function(){},Do.sa=function(){},Do.ra=function(){},Do.qa=function(){},Do.Ja=function(){},Ic.prototype.a=function(t,e){return new Ec(t,e)},Ko(Ec,Ya),Ec.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ns(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=yc(t,null,t.fa),oc(t)},Ec.prototype.close=function(){ec(this.a)},Ec.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ic(this.a,e)}else this.l?((e={}).__data__=Za(t),ic(this.a,e)):ic(this.a,t)},Ec.prototype.G=function(){this.a.f=null,delete this.f,ec(this.a),delete this.a,Ec.X.G.call(this)},Ko(_c,Fs),Ko(Tc,Vs),Ko(Sc,wc),Sc.prototype.ta=function(){$a(this.a,"a")},Sc.prototype.sa=function(t){$a(this.a,new _c(t))},Sc.prototype.ra=function(t){$a(this.a,new Tc(t))},Sc.prototype.qa=function(){$a(this.a,"b")},Ic.prototype.createWebChannel=Ic.prototype.a,Ec.prototype.send=Ec.prototype.h,Ec.prototype.open=Ec.prototype.g,Ec.prototype.close=Ec.prototype.close,Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Os.COMPLETE="complete",Ps.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",Ya.prototype.listen=Ya.prototype.va,qu.prototype.listenOnce=qu.prototype.wa,qu.prototype.getLastError=qu.prototype.Qa,qu.prototype.getLastErrorCode=qu.prototype.ua,qu.prototype.getStatus=qu.prototype.W,qu.prototype.getResponseJson=qu.prototype.Pa,qu.prototype.getResponseText=qu.prototype.$,qu.prototype.send=qu.prototype.ba;var Ac=Cs,Nc=Os,kc=Is,Dc=10,Cc=11,Oc=Ps,xc=qu,Rc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Rc.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Oi(e,t),e}(Error),Mc=new lo("@firebase/firestore");function Fc(){return Mc.logLevel}function Vc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=no.DEBUG){var r=e.map(qc);Mc.debug.apply(Mc,Fi(["Firestore (8.4.2): "+t],r))}}function Uc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=no.ERROR){var r=e.map(qc);Mc.error.apply(Mc,Fi(["Firestore (8.4.2): "+t],r))}}function jc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=no.WARN){var r=e.map(qc);Mc.warn.apply(Mc,Fi(["Firestore (8.4.2): "+t],r))}}function qc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function Kc(t,e){t||Bc()}function Gc(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function zc(t,e){return t<e?-1:t>e?1:0}function Xc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Qc(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?zc(this.nanoseconds,t.nanoseconds):zc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$c=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Yc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var el=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Bc(),void 0===n?n=t.length-e:n>t.length-e&&Bc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(el),rl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return rl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Lc(Pc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Lc(Pc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Lc(Pc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(el),ol=function(){function t(t){this.fields=t,t.sort(il.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Xc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),al=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return zc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();al.EMPTY_BYTE_STRING=new al("");var sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(Kc(!!t),"string"==typeof t){var e=0,n=sl.exec(t);if(Kc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cl(t.seconds),nanos:cl(t.nanos)}}function cl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ll(t){return"string"==typeof t?al.fromBase64String(t):al.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fl(t){var e=t.mapValue.fields.__previous_value__;return hl(e)?fl(e):e}function pl(t){var e=ul(t.mapValue.fields.__local_write_time__.timestampValue);return new Yc(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){return null==t}function vl(t){return 0===t&&1/t==-1/0}function ml(t){return"number"==typeof t&&Number.isInteger(t)&&!vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(nl.fromString(e))},t.fromName=function(e){return new t(nl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===nl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return nl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new nl(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hl(t)?4:10:Bc()}function bl(t,e){var n,r=yl(t);if(r!==yl(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pl(t).isEqual(pl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ul(t.timestampValue),r=ul(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,ll(t.bytesValue).isEqual(ll(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return cl(t.geoPointValue.latitude)===cl(e.geoPointValue.latitude)&&cl(t.geoPointValue.longitude)===cl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return cl(t.integerValue)===cl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=cl(t.doubleValue),r=cl(e.doubleValue);return n===r?vl(n)===vl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xc(t.arrayValue.values||[],e.arrayValue.values||[],bl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jc(n)!==Jc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bl(n[i],r[i])))return!1;return!0}(t,e);default:return Bc()}}function wl(t,e){return void 0!==(t.values||[]).find((function(t){return bl(t,e)}))}function Il(t,e){var n,r,i,o,a=yl(t),s=yl(e);if(a!==s)return zc(a,s);switch(a){case 0:return 0;case 1:return zc(t.booleanValue,e.booleanValue);case 2:return r=e,i=cl((n=t).integerValue||n.doubleValue),o=cl(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return El(t.timestampValue,e.timestampValue);case 4:return El(pl(t),pl(e));case 5:return zc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ll(t),r=ll(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zc(n[i],r[i]);if(0!==o)return o}return zc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=zc(cl(t.latitude),cl(e.latitude));return 0!==n?n:zc(cl(t.longitude),cl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Il(n[i],r[i]);if(o)return o}return zc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=zc(r[a],o[a]);if(0!==s)return s;var u=Il(n[r[a]],i[o[a]]);if(0!==u)return u}return zc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Bc()}}function El(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zc(t,e);var n=ul(t),r=ul(e),i=zc(n.seconds,r.seconds);return 0!==i?i:zc(n.nanos,r.nanos)}function _l(t){return Tl(t)}function Tl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=ul(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?ll(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,gl.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Tl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Tl(t.fields[o])}return e+"}"}(t.mapValue):Bc();var e,n,r,i}function Sl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Al(t){return!!t&&"integerValue"in t}function Nl(t){return!!t&&"arrayValue"in t}function kl(t){return!!t&&"nullValue"in t}function Dl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ol=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(il.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return bl(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===yl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Cl(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(il.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Cl(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function xl(t){var e=[];return Zc(t.fields||{},(function(t,n){var r=new il([t]);if(Cl(n)){var i=xl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new ol(e)}var Rl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,$c.min(),Ol.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ol.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ol.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ol.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ol.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Pl=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Pl(t,e,n,r,i,o,a)}function Ml(t){var e=Gc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+_l(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),dl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ql(e.startAt)),e.endAt&&(n+="|ub:",n+=Ql(e.endAt)),e.h=n}return e.h}function Fl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!$l(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!bl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zl(t.startAt,e.startAt)&&Zl(t.endAt,e.endAt)}function Vl(t){return gl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ul=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Oi(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new jl(t,n,r):"array-contains"===n?new Gl(t,r):"in"===n?new Hl(t,r):"not-in"===n?new Wl(t,r):"array-contains-any"===n?new zl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ql(t,n):new Bl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Il(e,this.value)):null!==e&&yl(this.value)===yl(e)&&this.m(Il(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Bc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),jl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=gl.fromName(r.referenceValue),i}return Oi(e,t),e.prototype.matches=function(t){var e=gl.comparator(t.key,this.key);return this.m(e)},e}(Ul),ql=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kl("in",n),r}return Oi(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ul),Bl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kl("not-in",n),r}return Oi(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ul);function Kl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return gl.fromName(t.referenceValue)}))}var Gl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Oi(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Nl(e)&&wl(e.arrayValue,this.value)},e}(Ul),Hl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Oi(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&wl(this.value.arrayValue,e)},e}(Ul),Wl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Oi(e,t),e.prototype.matches=function(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!wl(this.value.arrayValue,e)},e}(Ul),zl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Oi(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Nl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return wl(e.value.arrayValue,t)}))},e}(Ul),Xl=function(t,e){this.position=t,this.before=e};function Ql(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _l(t)})).join(",")}var Yl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $l(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?gl.comparator(gl.fromName(a.referenceValue),n.key):Il(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!bl(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var th=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function eh(t,e,n,r,i,o,a,s){return new th(t,e,n,r,i,o,a,s)}function nh(t){return new th(t)}function rh(t){return!dl(t.limit)&&"F"===t.limitType}function ih(t){return!dl(t.limit)&&"L"===t.limitType}function oh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ah(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function sh(t){return null!==t.collectionGroup}function uh(t){var e=Gc(t);if(null===e.p){e.p=[];var n=ah(e),r=oh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Yl(n)),e.p.push(new Yl(il.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Yl(il.keyField(),u))}}}return e.p}function ch(t){var e=Gc(t);if(!e.T)if("F"===e.limitType)e.T=Ll(e.path,e.collectionGroup,uh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=uh(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Yl(o.field,a))}var s=e.endAt?new Xl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Xl(e.startAt.position,!e.startAt.before):null;e.T=Ll(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function lh(t,e,n){return new th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return Fl(ch(t),ch(e))&&t.limitType===e.limitType}function fh(t){return Ml(ch(t))+"|lt:"+t.limitType}function ph(t){return"Query(target="+(e=ch(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+_l(e.value);var e})).join(", ")+"]"),dl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Ql(e.startAt)),e.endAt&&(n+=", endAt: "+Ql(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function dh(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):gl.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jl(t.startAt,uh(t),e)||t.endAt&&Jl(t.endAt,uh(t),e))}(t,e);var n,r,i}function vh(t){return function(e,n){for(var r=!1,i=0,o=uh(t);i<o.length;i++){var a=o[i],s=mh(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function mh(t,e,n){var r,i,o,a,s=t.field.isKeyField()?gl.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),a=i.data.field(r),null!==o&&null!==a?Il(o,a):Bc());switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Bc()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vl(e)?"-0":e}}function yh(t){return{integerValue:""+t}}function bh(t,e){return ml(e)?yh(e):gh(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wh=function(){this._=void 0};function Ih(t,e,n){return t instanceof Th?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Sh?Ah(t,e):t instanceof Nh?kh(t,e):function(t,e){var n=_h(t,e),r=Ch(n)+Ch(t.A);return Al(n)&&Al(t.A)?yh(r):gh(t.R,r)}(t,e);var r,i,o}function Eh(t,e,n){return t instanceof Sh?Ah(t,e):t instanceof Nh?kh(t,e):n}function _h(t,e){return t instanceof Dh?Al(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e}(wh),Sh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Oi(e,t),e}(wh);function Ah(t,e){for(var n=Oh(e),r=function(t){n.some((function(e){return bl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Nh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Oi(e,t),e}(wh);function kh(t,e){for(var n=Oh(e),r=function(t){n=n.filter((function(e){return!bl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Oi(e,t),e}(wh);function Ch(t){return cl(t.integerValue||t.doubleValue)}function Oh(t){return Nl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xh=function(t,e){this.field=t,this.transform=e},Rh=function(t,e){this.version=t,this.transformResults=e},Ph=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Lh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Mh=function(){};function Fh(t,e,n){var r,i,o,a,s;t instanceof Bh?(i=e,o=n,a=(r=t).value.clone(),s=Hh(r.fieldTransforms,i,o.transformResults),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):t instanceof Kh?function(t,e,n){if(Lh(t.precondition,e)){var r=Hh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Gh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n){var r;t instanceof Bh?function(t,e,n){if(Lh(t.precondition,e)){var r=t.value.clone(),i=Wh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(qh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Kh?function(t,e,n){if(Lh(t.precondition,e)){var r=Wh(t.fieldTransforms,n,e),i=e.data;i.setAll(Gh(t)),i.setAll(r),e.convertToFoundDocument(qh(e),i).setHasLocalMutations()}}(t,e,n):(r=e,Lh(t.precondition,r)&&r.convertToNoDocument($c.min()))}function Uh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=_h(o.transform,a||null);null!=s&&(null==n&&(n=Ol.empty()),n.set(o.field,s))}return n||null}function jh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Xc(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Sh&&o instanceof Sh||i instanceof Nh&&o instanceof Nh?Xc(i.elements,o.elements,bl):i instanceof Dh&&o instanceof Dh?bl(i.A,o.A):i instanceof Th&&o instanceof Th);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function qh(t){return t.isFoundDocument()?t.version:$c.min()}var Bh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Oi(e,t),e}(Mh),Kh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Oi(e,t),e}(Mh);function Gh(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Hh(t,e,n){var r=new Map;Kc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Eh(a,s,n[i]))}return r}function Wh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ih(s,u,e))}return r}var zh,Xh,Qh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Oi(e,t),e}(Mh),Yh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Oi(e,t),e}(Mh),$h=function(t){this.count=t};function Jh(t){switch(t){case Pc.OK:return Bc();case Pc.CANCELLED:case Pc.UNKNOWN:case Pc.DEADLINE_EXCEEDED:case Pc.RESOURCE_EXHAUSTED:case Pc.INTERNAL:case Pc.UNAVAILABLE:case Pc.UNAUTHENTICATED:return!1;case Pc.INVALID_ARGUMENT:case Pc.NOT_FOUND:case Pc.ALREADY_EXISTS:case Pc.PERMISSION_DENIED:case Pc.FAILED_PRECONDITION:case Pc.ABORTED:case Pc.OUT_OF_RANGE:case Pc.UNIMPLEMENTED:case Pc.DATA_LOSS:return!0;default:return Bc()}}function Zh(t){if(void 0===t)return Uc("GRPC error has no .code"),Pc.UNKNOWN;switch(t){case zh.OK:return Pc.OK;case zh.CANCELLED:return Pc.CANCELLED;case zh.UNKNOWN:return Pc.UNKNOWN;case zh.DEADLINE_EXCEEDED:return Pc.DEADLINE_EXCEEDED;case zh.RESOURCE_EXHAUSTED:return Pc.RESOURCE_EXHAUSTED;case zh.INTERNAL:return Pc.INTERNAL;case zh.UNAVAILABLE:return Pc.UNAVAILABLE;case zh.UNAUTHENTICATED:return Pc.UNAUTHENTICATED;case zh.INVALID_ARGUMENT:return Pc.INVALID_ARGUMENT;case zh.NOT_FOUND:return Pc.NOT_FOUND;case zh.ALREADY_EXISTS:return Pc.ALREADY_EXISTS;case zh.PERMISSION_DENIED:return Pc.PERMISSION_DENIED;case zh.FAILED_PRECONDITION:return Pc.FAILED_PRECONDITION;case zh.ABORTED:return Pc.ABORTED;case zh.OUT_OF_RANGE:return Pc.OUT_OF_RANGE;case zh.UNIMPLEMENTED:return Pc.UNIMPLEMENTED;case zh.DATA_LOSS:return Pc.DATA_LOSS;default:return Bc()}}(Xh=zh||(zh={}))[Xh.OK=0]="OK",Xh[Xh.CANCELLED=1]="CANCELLED",Xh[Xh.UNKNOWN=2]="UNKNOWN",Xh[Xh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xh[Xh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xh[Xh.NOT_FOUND=5]="NOT_FOUND",Xh[Xh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xh[Xh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xh[Xh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xh[Xh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xh[Xh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xh[Xh.ABORTED=10]="ABORTED",Xh[Xh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xh[Xh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xh[Xh.INTERNAL=13]="INTERNAL",Xh[Xh.UNAVAILABLE=14]="UNAVAILABLE",Xh[Xh.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tf=function(){function t(t,e){this.comparator=t,this.root=e||nf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ef(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ef(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ef(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ef(this.root,t,this.comparator,!0)},t}(),ef=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),nf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Bc();if(this.right.isRed())throw Bc();var t=this.left.check();if(t!==this.right.check())throw Bc();return t+(this.isRed()?0:1)},t}();nf.EMPTY=null,nf.RED=!0,nf.BLACK=!1,nf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Bc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new nf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rf=function(){function t(t){this.comparator=t,this.data=new tf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new of(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new of(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),of=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),af=new tf(gl.comparator);function sf(){return af}var uf=new tf(gl.comparator);function cf(){return uf}var lf=new tf(gl.comparator);var hf=new rf(gl.comparator);function ff(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pf=new rf(zc);function df(){return pf}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t($c.min(),r,df(),sf(),ff())},t}(),mf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(al.EMPTY_BYTE_STRING,n,ff(),ff(),ff())},t}(),gf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},yf=function(t,e){this.targetId=t,this.V=e},bf=function(t,e,n,r){void 0===n&&(n=al.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},wf=function(){function t(){this.S=0,this.D=_f(),this.C=al.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ff(),e=ff(),n=ff();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Bc()}})),new mf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=_f()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),If=function(){function t(t){this.W=t,this.G=new Map,this.H=sf(),this.J=Ef(),this.Y=new rf(zc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Bc()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Vl(i))if(0===n){var o=new gl(i.path);this.tt(e,o,Rl.newNoDocument(o,$c.min()))}else Kc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Vl(o.target)){var a=new gl(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Rl.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=ff();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vf(t,n,this.Y,this.H,r);return this.H=sf(),this.J=Ef(),this.Y=new rf(zc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new wf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new rf(zc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Vc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new wf),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ef(){return new tf(gl.comparator)}function _f(){return new tf(gl.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tf={asc:"ASCENDING",desc:"DESCENDING"},Sf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Af=function(t,e){this.databaseId=t,this.I=e};function Nf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function kf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Df(t,e){return Nf(t,e.toTimestamp())}function Cf(t){return Kc(!!t),$c.fromTimestamp((e=ul(t),new Yc(e.seconds,e.nanos)));var e}function Of(t,e){return(n=t,new nl(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function xf(t){var e=nl.fromString(t);return Kc(ep(e)),e}function Rf(t,e){return Of(t.databaseId,e.path)}function Pf(t,e){var n=xf(e);if(n.get(1)!==t.databaseId.projectId)throw new Lc(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Lc(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gl(Vf(n))}function Lf(t,e){return Of(t.databaseId,e)}function Mf(t){var e=xf(t);return 4===e.length?nl.emptyPath():Vf(e)}function Ff(t){return new nl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vf(t){return Kc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Uf(t,e,n){return{name:Rf(t,e),fields:n.toProto().mapValue.fields}}function jf(t,e){var n,r,i;if(e instanceof Bh)n={update:Uf(t,e.key,e.value)};else if(e instanceof Qh)n={delete:Rf(t,e.key)};else if(e instanceof Kh)n={update:Uf(t,e.key,e.data),updateMask:tp(e.fieldMask)};else{if(!(e instanceof Yh))return Bc();n={verify:Rf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Th)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Bc()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:Df(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Bc())),n}function qf(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?Ph.updateTime(Cf(n.updateTime)):void 0!==n.exists?Ph.exists(n.exists):Ph.none():Ph.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Kc("REQUEST_TIME"===e.setToServerValue),n=new Th;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Sh(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Nh(i)}else"increment"in e?n=new Dh(t,e.increment):Bc();var o=il.fromServerFormat(e.fieldPath);return new xh(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=Pf(t,e.update.name),a=new Ol({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new ol(e.map((function(t){return il.fromServerFormat(t)})))}(e.updateMask);return new Kh(o,a,s,r,i)}return new Bh(o,a,r,i)}if(e.delete){var u=Pf(t,e.delete);return new Qh(u,r)}if(e.verify){var c=Pf(t,e.verify);return new Yh(c,r)}return Bc()}function Bf(t,e){return{documents:[Lf(t,e.path)]}}function Kf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Lf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Dl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(kl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Dl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(kl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:Qf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Yf((e=t).field),direction:Xf(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=t,s=e.limit,a.I||dl(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Wf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Wf(e.endAt)),n}function Gf(t){var e=Mf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Kc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Hf(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return new Yl($f((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=dl(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=zf(n.startAt));var f=null;return n.endAt&&(f=zf(n.endAt)),eh(e,i,s,a,l,"F",h,f)}function Hf(t){return t?void 0!==t.unaryFilter?[Zf(t)]:void 0!==t.fieldFilter?[Jf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Hf(t)})).reduce((function(t,e){return t.concat(e)})):Bc():[]}function Wf(t){return{before:t.before,values:t.position}}function zf(t){var e=!!t.before,n=t.values||[];return new Xl(n,e)}function Xf(t){return Tf[t]}function Qf(t){return Sf[t]}function Yf(t){return{fieldPath:t.canonicalString()}}function $f(t){return il.fromServerFormat(t.fieldPath)}function Jf(t){return Ul.create($f(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Bc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Zf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=$f(t.unaryFilter.field);return Ul.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=$f(t.unaryFilter.field);return Ul.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$f(t.unaryFilter.field);return Ul.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$f(t.unaryFilter.field);return Ul.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Bc()}}function tp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function ep(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ip(e)),e=rp(t.get(n),e);return ip(e)}function rp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ip(t){return t+""}function op(t){var e=t.length;if(Kc(e>=2),2===e)return Kc(""===t.charAt(0)&&""===t.charAt(1)),nl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Bc(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Bc()}o=a+2}return new nl(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ap=function(t,e){this.seconds=t,this.nanoseconds=e},sp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sp.store="owner",sp.key="owner";var up=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};up.store="mutationQueues",up.keyPath="userId";var cp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cp.store="mutations",cp.keyPath="batchId",cp.userMutationsIndex="userMutationsIndex",cp.userMutationsKeyPath=["userId","batchId"];var lp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,np(e)]},t.key=function(t,e,n){return[t,np(e),n]},t}();lp.store="documentMutations",lp.PLACEHOLDER=new lp;var hp=function(t,e){this.path=t,this.readTime=e},fp=function(t,e){this.path=t,this.version=e},pp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pp.store="remoteDocuments",pp.readTimeIndex="readTimeIndex",pp.readTimeIndexPath="readTime",pp.collectionReadTimeIndex="collectionReadTimeIndex",pp.collectionReadTimeIndexPath=["parentPath","readTime"];var dp=function(t){this.byteSize=t};dp.store="remoteDocumentGlobal",dp.key="remoteDocumentGlobalKey";var vp=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};vp.store="targets",vp.keyPath="targetId",vp.queryTargetsIndexName="queryTargetsIndex",vp.queryTargetsKeyPath=["canonicalId","targetId"];var mp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mp.store="targetDocuments",mp.keyPath=["targetId","path"],mp.documentTargetsIndex="documentTargetsIndex",mp.documentTargetsKeyPath=["path","targetId"];var gp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gp.key="targetGlobalKey",gp.store="targetGlobal";var yp=function(t,e){this.collectionId=t,this.parent=e};yp.store="collectionParents",yp.keyPath=["collectionId","parent"];var bp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bp.store="clientMetadata",bp.keyPath="clientId";var wp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wp.store="bundles",wp.keyPath="bundleId";var Ip=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ip.store="namedQueries",Ip.keyPath="name";var Ep=Fi(Fi([],Fi(Fi([],Fi(Fi([],Fi(Fi([],[up.store,cp.store,lp.store,pp.store,vp.store,sp.store,gp.store,mp.store]),[bp.store])),[dp.store])),[yp.store])),[wp.store,Ip.store]),_p="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Sp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ap=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Bc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Np=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Sp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Cp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Lp(e.target.error);n.ft.reject(new Cp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Cp(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Vc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xp(e)},t}(),kp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(ji())&&Uc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vc("SimpleDb","Removing database:",t),Rp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=ji(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ri(this,void 0,void 0,(function(){var e,n=this;return Pi(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Vc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Cp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lc(Pc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Cp(t,n))},i.onupgradeneeded=function(t){Vc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Vc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ri(this,void 0,void 0,(function(){var i,o,a,s,u;return Pi(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Pi(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=Np.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Ap.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Vc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Dp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Rp(this.Pt.delete())},t}(),Cp=function(t){function e(e,n){var r=this;return(r=t.call(this,Pc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Oi(e,t),e}(Lc);function Op(t){return"IndexedDbTransactionError"===t.name}var xp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Rp(n)},t.prototype.add=function(t){return Vc("SimpleDb","ADD",this.store.name,t,t),Rp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Rp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Vc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Vc("SimpleDb","DELETE",this.store.name,t),Rp(this.store.delete(t))},t.prototype.count=function(){return Vc("SimpleDb","COUNT",this.store.name),Rp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Vc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Ap((function(n,r){e.onerror=function(t){var e=Lp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Ap((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Dp(i),a=e(i.primaryKey,i.value,o);if(a instanceof Ap){var s=a.catch((function(t){return o.done(),Ap.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ap.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Rp(t){return new Ap((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Lp(t.target.error);n(e)}}))}var Pp=!1;function Lp(t){var e=kp._t(ji());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Lc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pp||(Pp=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Oi(e,t),e}(Tp);function Fp(t,e){var n=Gc(t);return kp.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Fh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Vh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Vh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($c.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ff())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xc(this.mutations,t.mutations,(function(t,e){return jh(t,e)}))&&Xc(this.baseMutations,t.baseMutations,(function(t,e){return jh(t,e)}))},t}(),Up=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Kc(e.mutations.length===r.length);for(var i=lf,o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),jp=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=$c.min()),void 0===o&&(o=$c.min()),void 0===a&&(a=al.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qp=function(t){this.Lt=t};function Bp(t,e){if(e.document)return function(t,e,n){var r=Pf(t,e.name),i=Cf(e.updateTime),o=new Ol({mapValue:{fields:e.fields}}),a=Rl.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gl.fromSegments(e.noDocument.path),r=zp(e.noDocument.readTime),i=Rl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=gl.fromSegments(e.unknownDocument.path);return r=zp(e.unknownDocument.version),Rl.newUnknownDocument(o,r)}return Bc()}function Kp(t,e,n){var r,i,o=Gp(n),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s={name:Rf(r=t.Lt,(i=e).key),fields:i.data.toProto().mapValue.fields,updateTime:Nf(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new pp(null,null,s,u,o,a)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=Wp(e.version);return u=e.hasCommittedMutations,new pp(null,new hp(c,l),null,u,o,a)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Wp(e.version);return new pp(new fp(h,f),null,null,!0,o,a)}return Bc()}function Gp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hp(t){var e=new Yc(t[0],t[1]);return $c.fromTimestamp(e)}function Wp(t){var e=t.toTimestamp();return new ap(e.seconds,e.nanoseconds)}function zp(t){var e=new Yc(t.seconds,t.nanoseconds);return $c.fromTimestamp(e)}function Xp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return qf(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return qf(t.Lt,e)})),s=Yc.fromMillis(e.localWriteTimeMs);return new Vp(e.batchId,s,n,a)}function Qp(t){var e,n,r=zp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?zp(t.lastLimboFreeSnapshotVersion):$c.min();return void 0!==t.query.documents?(Kc(1===(n=t.query).documents.length),e=ch(nh(Mf(n.documents[0])))):e=ch(Gf(t.query)),new jp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,al.fromBase64String(t.resumeToken))}function Yp(t,e){var n,r=Wp(e.snapshotVersion),i=Wp(e.lastLimboFreeSnapshotVersion);n=Vl(e.target)?Bf(t.Lt,e.target):Kf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new vp(e.targetId,Ml(e.target),r,o,e.sequenceNumber,i,n)}function $p(t){var e=Gf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lh(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Zp(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:zp(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Zp(t).put({bundleId:(n=e).id,createTime:Wp(Cf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return td(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:$p(e.bundledQuery),readTime:zp(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return td(t).put({name:(n=e).name,readTime:Wp(Cf(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function Zp(t){return Fp(t,wp.store)}function td(t){return Fp(t,Ip.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=function(){function t(){this.Bt=new nd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ap.resolve()},t.prototype.getCollectionParents=function(t,e){return Ap.resolve(this.Bt.getEntries(e))},t}(),nd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new rf(nl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rf(nl.comparator)).toArray()},t}(),rd=function(){function t(){this.qt=new nd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:np(i)};return id(t).put(o)}return Ap.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qc(e),""],!1,!0);return id(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(op(o.parent))}return n}))},t}();function id(t){return Fp(t,yp.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ad=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){var r=t.store(cp.store),i=t.store(lp.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Kc(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=lp.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Ap.waitFor(o).next((function(){return c}))}function ud(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Bc();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ad.DEFAULT_COLLECTION_PERCENTILE=10,ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ad.DEFAULT=new ad(41943040,ad.DEFAULT_COLLECTION_PERCENTILE,ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ad.DISABLED=new ad(-1,0,0);var cd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Kc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hd(t).Ot({index:cp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=fd(t),a=hd(t);return a.add({}).next((function(s){Kc("number"==typeof s);for(var u=new Vp(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return jf(t.Lt,e)})),i=n.mutations.map((function(e){return jf(t.Lt,e)}));return new cp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new rf((function(t,e){return zc(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=lp.key(i.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,lp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Ap.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return hd(t).get(e).next((function(t){return t?(Kc(t.userId===n.userId),Xp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ap.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hd(t).Ot({index:cp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Kc(e.batchId>=r),o=Xp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hd(t).Ot({index:cp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hd(t).Nt(cp.userMutationsIndex,n).next((function(t){return t.map((function(t){return Xp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=lp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return fd(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=op(u);if(s===n.userId&&e.path.isEqual(l))return hd(t).get(c).next((function(t){if(!t)throw Bc();Kc(t.userId===n.userId),o.push(Xp(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new rf(zc),i=[];return e.forEach((function(e){var o=lp.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=fd(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=op(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Ap.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=lp.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new rf(zc);return fd(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=op(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(hd(t).get(e).next((function(t){if(null===t)throw Bc();Kc(t.userId===n.userId),r.push(Xp(n.R,t))})))})),Ap.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return sd(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Ap.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Ap.resolve();var r=IDBKeyRange.lowerBound(lp.prefixForUser(e.userId)),i=[];return fd(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=op(t[1]);i.push(o)}else r.done()})).next((function(){Kc(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ld(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return pd(t).get(this.userId).next((function(t){return t||new up(e.userId,-1,"")}))},t}();function ld(t,e,n){var r=lp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return fd(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function hd(t){return Fp(t,cp.store)}function fd(t){return Fp(t,lp.store)}function pd(t){return Fp(t,up.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),vd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new dd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return $c.fromTimestamp(new Yc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return md(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Kc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return md(t).Ot((function(a,s){var u=Qp(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Ap.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return md(t).Ot((function(t,n){var r=Qp(n);e(r)}))},t.prototype.Xt=function(t){return gd(t).get(gp.key).next((function(t){return Kc(null!==t),t}))},t.prototype.Zt=function(t,e){return gd(t).put(gp.key,e)},t.prototype.te=function(t,e){return md(t).put(Yp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ml(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return md(t).Ot({range:r,index:vp.queryTargetsIndexName},(function(t,n,r){var o=Qp(n);Fl(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=yd(t);return e.forEach((function(e){var a=np(e.path);i.push(o.put(new mp(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Ap.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=yd(t);return Ap.forEach(e,(function(e){var o=np(e.path);return Ap.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=yd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yd(t),i=ff();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=op(t[1]),o=new gl(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=np(e.path),r=IDBKeyRange.bound([n],[Qc(n)],!1,!0),i=0;return yd(t).Ot({index:mp.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return md(t).get(e).next((function(t){return t?Qp(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){return Fp(t,vp.store)}function gd(t){return Fp(t,gp.store)}function yd(t){return Fp(t,mp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){if(t.code!==Pc.FAILED_PRECONDITION||t.message!==_p)throw t;return Vc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=zc(n,i);return 0===a?zc(r,o):a}var Id=function(){function t(t){this.ne=t,this.buffer=new rf(wd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ed=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Vc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ri(e,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Op(e=n.sent())?(Vc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),_d=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ap.resolve(Rc.o);var r=new Id(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vc("LruGarbageCollector","Garbage collection skipped; disabled"),Ap.resolve(od)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),od):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Vc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Fc()<=no.DEBUG&&Vc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Ap.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Td=function(){function t(t,e){this.db=t,this.garbageCollector=new _d(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Sd(t,n)},t.prototype.removeReference=function(t,e,n){return Sd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Sd(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,pd(n=t).$t((function(t){return ld(n,t,r).next((function(t){return t&&(i=!0),Ap.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),yd(t).delete([0,np(a.path)])}))}));i.push(u)}})).next((function(){return Ap.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Sd(t,e)},t.prototype.we=function(t,e){var n,r=yd(t),i=Rc.o;return r.Ot({index:mp.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Rc.o&&e(new gl(op(n)),i),i=s,n=a):i=Rc.o})).next((function(){i!==Rc.o&&e(new gl(op(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Sd(t,e){return yd(t).put((n=e,r=t.currentSequenceNumber,new mp(0,np(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ad=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Zc(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return tl(this.inner)},t}(),Nd=function(){function t(){this.changes=new Ad((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:$c.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Rl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ap.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),kd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Od(t).put(xd(e),n)},t.prototype.removeEntry=function(t,e){var n=Od(t),r=xd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Od(t).get(xd(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Od(t).get(xd(e)).next((function(t){return{document:n.ye(e,t),size:ud(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=sf();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=sf(),i=new tf(gl.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ud(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ap.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Od(t).Ot({range:r},(function(t,e,r){for(var a=gl.fromSegments(t);o&&gl.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=sf(),o=e.path.length+1,a={};if(n.isEqual($c.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Gp(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=pp.collectionReadTimeIndex}return Od(t).Ot(a,(function(t,n,a){if(t.length===o){var s=Bp(r.R,n);e.path.isPrefixOf(s.key.path)?dh(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Dd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Cd(t).get(dp.key).next((function(t){return Kc(!!t),t}))},t.prototype.me=function(t,e){return Cd(t).put(dp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Bp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual($c.min()))return n}return Rl.newInvalidDocument(t)},t}(),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ad((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Oi(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new rf((function(t,e){return zc(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Kp(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=ud(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Kp(e.Ie.R,Rl.newNoDocument(o,$c.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Ap.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Nd);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return Fp(t,dp.store)}function Od(t){return Fp(t,pp.store)}function xd(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Kc(n<r&&n>=0&&r<=11);var o=new Np("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(sp.store),function(t){t.createObjectStore(up.store,{keyPath:up.keyPath}),t.createObjectStore(cp.store,{keyPath:cp.keyPath,autoIncrement:!0}).createIndex(cp.userMutationsIndex,cp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lp.store)}(t),Pd(t),function(t){t.createObjectStore(pp.store)}(t));var a=Ap.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mp.store),t.deleteObjectStore(vp.store),t.deleteObjectStore(gp.store)}(t),Pd(t)),a=a.next((function(){return function(t){var e=t.store(gp.store),n=new gp(0,0,$c.min().toTimestamp(),0);return e.put(gp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(cp.store).Nt().next((function(n){t.deleteObjectStore(cp.store),t.createObjectStore(cp.store,{keyPath:cp.keyPath,autoIncrement:!0}).createIndex(cp.userMutationsIndex,cp.userMutationsKeyPath,{unique:!0});var r=e.store(cp.store),i=n.map((function(t){return r.put(t)}));return Ap.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(bp.store,{keyPath:bp.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(dp.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pp.store);e.createIndex(pp.readTimeIndex,pp.readTimeIndexPath,{unique:!1}),e.createIndex(pp.collectionReadTimeIndex,pp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(wp.store,{keyPath:wp.keyPath})}(t),function(t){t.createObjectStore(Ip.store,{keyPath:Ip.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(pp.store).Ot((function(t,n){e+=ud(n)})).next((function(){var n=new dp(e);return t.store(dp.store).put(dp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(up.store),r=t.store(cp.store);return n.Nt().next((function(n){return Ap.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(cp.userMutationsIndex,i).next((function(r){return Ap.forEach(r,(function(r){Kc(r.userId===n.userId);var i=Xp(e.R,r);return sd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(mp.store),n=t.store(pp.store);return t.store(gp.store).get(gp.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new nl(n),a=[0,np(o)];r.push(e.get(a).next((function(n){return n?Ap.resolve():(r=o,e.put(new mp(0,np(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Ap.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(yp.store,{keyPath:yp.keyPath});var n=e.store(yp.store),r=new nd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:np(i)})}};return e.store(pp.store).Ot({kt:!0},(function(t,e){var n=new nl(t);return i(n.popLast())})).next((function(){return e.store(lp.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],op(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(vp.store);return n.Ot((function(t,r){var i=Qp(r),o=Yp(e.R,i);return n.put(o)}))},t}();function Pd(t){t.createObjectStore(mp.store,{keyPath:mp.keyPath}).createIndex(mp.documentTargetsIndex,mp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vp.store,{keyPath:vp.keyPath}).createIndex(vp.queryTargetsIndexName,vp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gp.store)}var Ld="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Md=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Lc(Pc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new Td(this,i),this.Le=n+"main",this.R=new qp(u),this.Be=new kp(this.Le,11,new Rd(this.R)),this.qe=new vd(this.referenceDelegate,this.R),this.Ut=new rd,this.Ue=(h=this.R,f=this.Ut,new kd(h,f)),this.Qe=new Jp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Uc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Lc(Pc.FAILED_PRECONDITION,Ld);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Rc(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ri(e,void 0,void 0,(function(){return Pi(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ri(e,void 0,void 0,(function(){return Pi(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ri(e,void 0,void 0,(function(){return Pi(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Vd(e).put(new bp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Op(e))return Vc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Fd(t).get(sp.key).next((function(t){return Ap.resolve(e.tn(t))}))},t.prototype.en=function(t){return Vd(t).delete(this.clientId)},t.prototype.nn=function(){return Ri(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Pi(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Fp(t,bp.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Ap.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ap.resolve(!0):Fd(t).get(sp.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Lc(Pc.FAILED_PRECONDITION,Ld);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vd(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Vc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ri(this,void 0,void 0,(function(){var t=this;return Pi(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[sp.store,bp.store],(function(e){var n=new Mp(e,Rc.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Vd(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return cd.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Vc("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Ep,(function(o){return i=new Mp(o,r.Ne?r.Ne.next():Rc.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Uc("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Lc(Pc.FAILED_PRECONDITION,_p);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Fd(t).get(sp.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Lc(Pc.FAILED_PRECONDITION,Ld)}))},t.prototype.Ze=function(t){var e=new sp(this.clientId,this.allowTabSynchronization,Date.now());return Fd(t).put(sp.key,e)},t.yt=function(){return kp.yt()},t.prototype.Xe=function(t){var e=this,n=Fd(t);return n.get(sp.key).next((function(t){return e.tn(t)?(Vc("IndexedDbPersistence","Releasing primary lease."),n.delete(sp.key)):Ap.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Vc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return Uc("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Uc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Fd(t){return Fp(t,sp.store)}function Vd(t){return Fp(t,bp.store)}function Ud(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,gl.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):sh(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new gl(e)).next((function(t){var e=cf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=cf();return this.Ut.getCollectionParents(t,i).next((function(a){return Ap.forEach(a,(function(a){var s,u,c=(s=e,u=a.child(i),new th(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Rl.newInvalidDocument(c),r=r.insert(c,l)),Vh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){dh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ff(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Kh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),qd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ff(),i=ff(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual($c.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var a=o.Cn(e,i);return(rh(e)||ih(e))&&o.Nn(e.limitType,a,r,n)?o.Dn(t,e):(Fc()<=no.DEBUG&&Vc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ph(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new rf(vh(t));return e.forEach((function(e,r){dh(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Fc()<=no.DEBUG&&Vc("QueryEngine","Using full collection scan to execute query:",ph(e)),this.Sn.getDocumentsMatchingQuery(t,e,$c.min())},t}(),Kd=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new tf(zc),this.kn=new Ad((function(t){return Ml(t)}),Fl),this.On=$c.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new jd(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n,r){return new Kd(t,e,n,r)}function Hd(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o;return Pi(this,(function(a){switch(a.label){case 0:return n=Gc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new jd(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=ff(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Wd(t,e){var n=Gc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),h=n.$n.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,a=h,s=o.batch,u=s.keys(),c=Ap.resolve(),u.forEach((function(t){c=c.next((function(){return a.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);Kc(null!==n),e.version.compareTo(n)<0&&(s.applyToRemoteDocument(e,o),e.isValidDocument()&&a.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function zd(t){var e=Gc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Xd(t,e){var n=Gc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s,u,c,l=i.get(o);if(l){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),s=l,c=e,Kc((u=f).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.qe.updateTargetData(t,f))}}}));var s=sf();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n,r,i){var o=ff();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=sf();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual($c.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Vc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual($c.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Ap.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Qd(t,e){var n=Gc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Yd(t,e){var n=Gc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Ap.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new jp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function $d(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o,a;return Pi(this,(function(s){switch(s.label){case 0:r=Gc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Op(a=s.sent()))throw a;return Vc("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Jd(t,e,n){var r=Gc(t),i=$c.min(),o=ff();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(a=r,s=t,u=ch(e),c=Gc(a),l=c.kn.get(u),void 0!==l?Ap.resolve(c.Fn.get(l)):c.qe.getTargetData(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:$c.min(),n?o:ff())})).next((function(t){return{documents:t,Bn:o}}));var a,s,u,c,l}))}function Zd(t,e){var n=Gc(t),r=Gc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function tv(t){var e=Gc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.$n,r=t,i=e.On,o=Gc(n),a=sf(),s=Gp(i),u=Od(r),c=IDBKeyRange.lowerBound(s,!0),u.Ot({index:pp.readTimeIndex,range:c},(function(t,e){var n=Bp(o.R,e);a=a.insert(n.key,n),s=e.readTime})).next((function(){return{wn:a,readTime:Hp(s)}}));var n,r,i,o,a,s,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function ev(t){return Ri(this,void 0,void 0,(function(){var e;return Pi(this,(function(n){return[2,(e=Gc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=Od(t),n=$c.min(),e.Ot({index:pp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Hp(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.On=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nv=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ap.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Cf(n.createTime)}),Ap.resolve()},t.prototype.getNamedQuery=function(t,e){return Ap.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:$p(n.bundledQuery),readTime:Cf(n.readTime)}),Ap.resolve();var n},t}(),rv=function(){function t(){this.Wn=new rf(iv.Gn),this.zn=new rf(iv.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new iv(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new iv(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new gl(new nl([])),r=new iv(n,t),i=new iv(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new gl(new nl([])),n=new iv(e,t),r=new iv(e,t+1),i=ff();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new iv(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),iv=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return gl.comparator(t.key,e.key)||zc(t.ns,e.ns)},t.Hn=function(t,e){return zc(t.ns,e.ns)||gl.comparator(t.key,e.key)},t}(),ov=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new rf(iv.Gn)}return t.prototype.checkEmpty=function(t){return Ap.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Vp(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new iv(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ap.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ap.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Ap.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ap.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ap.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new iv(e,0),i=new iv(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Ap.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new rf(zc);return e.forEach((function(t){var e=new iv(t,0),i=new iv(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Ap.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;gl.isDocumentKey(i)||(i=i.child(""));var o=new iv(new gl(i),0),a=new rf(zc);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Ap.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Kc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ap.forEach(e.mutations,(function(i){var o=new iv(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new iv(e,0),r=this.rs.firstAfterOrEqual(n);return Ap.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Ap.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),av=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new tf(gl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ap.resolve(n?n.document.clone():Rl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=sf();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Rl.newInvalidDocument(t))})),Ap.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=sf(),i=new gl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||dh(e,c)&&(r=r.insert(c.key,c.clone()))}return Ap.resolve(r)},t.prototype.fs=function(t,e){return Ap.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new sv(this)},t.prototype.getSize=function(t){return Ap.resolve(this.size)},t}(),sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Oi(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Ap.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Nd),uv=function(){function t(t){this.persistence=t,this.ds=new Ad((function(t){return Ml(t)}),Fl),this.lastRemoteSnapshotVersion=$c.min(),this.highestTargetId=0,this.ws=0,this._s=new rv,this.targetCount=0,this.ys=dd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Ap.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ap.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ap.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ap.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ap.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new dd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ap.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ap.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ap.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Ap.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Ap.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ap.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ap.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Ap.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ap.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ap.resolve(n)},t.prototype.containsKey=function(t,e){return Ap.resolve(this._s.containsKey(e))},t}(),cv=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new Rc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new uv(this),this.Ut=new ed,this.Ue=(n=this.Ut,new av(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new qp(e),this.Qe=new nv(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new ov(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Vc("MemoryPersistence","Starting transaction:",t);var i=new lv(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Ap.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),lv=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Oi(e,t),e}(Tp),hv=function(){function t(t){this.persistence=t,this.As=new rv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Bc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ap.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ap.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ap.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ap.forEach(this.vs,(function(r){var i=gl.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ap.or([function(){return Ap.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),fv=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){return"firestore_clients_"+t+"_"+e}function dv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function vv(t,e){return"firestore_targets_"+t+"_"+e}fv.UNAUTHENTICATED=new fv(null),fv.GOOGLE_CREDENTIALS=new fv("google-credentials-uid"),fv.FIRST_PARTY=new fv("first-party-uid");var mv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Lc(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Uc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),gv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Uc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=df(),a=0;i&&a<r.activeTargetIds.length;++a)i=ml(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Uc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uc("SharedClientState","Failed to parse online state: "+e),null)},t}(),wv=function(){function t(){this.activeTargetIds=df()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Iv=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new tf(zc),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=pv(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new wv),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ri(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return Pi(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(pv(this.persistenceKey,r)))&&(o=yv.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(vv(this.persistenceKey,t));if(n){var r=gv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(vv(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Uc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ri(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Pi(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Rc.o;if(null!=t)try{var n=JSON.parse(t);Kc("number"==typeof n),e=n}catch(r){Uc("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==Rc.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new mv(this.currentUser,t,e,n),i=dv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=dv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=vv(this.persistenceKey,t),i=new gv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return yv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mv.Vs(new fv(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return gv.Vs(r,e)},t.prototype.js=function(t){return bv.Vs(t)},t.prototype.ii=function(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Vc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=df();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Ev=function(){function t(){this.li=new wv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new wv,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),_v=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Tv=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Vc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Vc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Sv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Av=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Nv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Oi(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new xc;a.listenOnce(Nc.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ac.NO_ERROR:var e=a.getResponseJson();Vc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ac.TIMEOUT:Vc("Connection",'RPC "'+t+'" timed out'),o(new Lc(Pc.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:var n=a.getStatus();if(Vc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Pc).indexOf(c)>=0?c:Pc.UNKNOWN);o(new Lc(s,r.message))}else o(new Lc(Pc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Lc(Pc.UNAVAILABLE,"Connection failed."));break;default:Bc()}}finally{Vc("Connection",'RPC "'+t+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new Ic,a=_s(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ji())||"object"==typeof navigator&&"ReactNative"===navigator.product||ji().indexOf("Electron/")>=0||((r=ji()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||ji().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");Vc("Connection","Creating WebChannel: "+u,s);var c=o.createWebChannel(u,s),l=!1,h=!1,f=new Av({Ei:function(t){h?Vc("Connection","Not sending because WebChannel is closed:",t):(l||(Vc("Connection","Opening WebChannel transport."),c.open(),l=!0),Vc("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),p=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,Oc.EventType.OPEN,(function(){h||Vc("Connection","WebChannel transport opened.")})),p(c,Oc.EventType.CLOSE,(function(){h||(h=!0,Vc("Connection","WebChannel transport closed"),f.Vi())})),p(c,Oc.EventType.ERROR,(function(t){h||(h=!0,jc("Connection","WebChannel transport errored:",t),f.Vi(new Lc(Pc.UNAVAILABLE,"The operation could not be completed")))})),p(c,Oc.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Kc(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Vc("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=zh[t];if(void 0!==e)return Zh(e)}(o),s=i.message;void 0===a&&(a=Pc.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,f.Vi(new Lc(a,s)),c.close()}else Vc("Connection","WebChannel received:",n),f.Si(n)}})),p(a,kc.STAT_EVENT,(function(t){t.stat===Dc?Vc("Connection","Detected buffering proxy"):t.stat===Cc&&Vc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Vc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Vc("RestConnection","Received: ",t),t}),(function(e){throw jc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Sv[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){return"undefined"!=typeof window?window:null}function Dv(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){return new Af(t,!0)}var Ov=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Vc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),xv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ov(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Pc.RESOURCE_EXHAUSTED?(Uc(e.toString()),Uc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Pc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Lc(Pc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ri(t,void 0,void 0,(function(){return Pi(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Vc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Vc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Rv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Oi(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Bc(),o=e.targetChange.targetIds||[],a=function(t,e){return t.I?(Kc(void 0===e||"string"==typeof e),al.fromBase64String(e||"")):(Kc(void 0===e||e instanceof Uint8Array),al.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Pc.UNKNOWN:Zh(t.code);return new Lc(e,t.message||"")}(u);n=new bf(i,o,a,s||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=Pf(t,i.document.name),a=Cf(i.document.updateTime);var u=new Ol({mapValue:{fields:i.document.fields}}),c=(s=Rl.newFoundDocument(o,a,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new gf(c,l,s.key,s)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=Pf(t,i.document),a=i.readTime?Cf(i.readTime):$c.min(),u=Rl.newNoDocument(o,a),s=i.removedTargetIds||[],n=new gf([],s,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=Pf(t,i.document),a=i.removedTargetIds||[],n=new gf([],a,o,null);else{if(!("filter"in e))return Bc();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new $h(i),a=h.targetId,n=new yf(a,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return $c.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?$c.min():e.readTime?Cf(e.readTime):$c.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=Ff(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=Vl(i)?{documents:Bf(e,i)}:{query:Kf(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=kf(e,n.resumeToken):n.snapshotVersion.compareTo($c.min())>0&&(r.readTime=Nf(e,n.snapshotVersion.toTimestamp())),r);var a=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);a&&(o.labels=a),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=Ff(this.R),e.removeTarget=t,this.cr(e)},e}(xv),Pv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Oi(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Kc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Kc(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?Cf(e.updateTime):Cf(n)).isEqual($c.min())&&(r=Cf(n)),new Rh(r,e.transformResults||[]);var e,n,r}))):[]),n=Cf(t.commitTime);return this.listener.Tr(n,e)}var r,i;return Kc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ff(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return jf(e.R,t)}))};this.cr(n)},e}(xv),Lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Oi(e,t),e.prototype.br=function(){if(this.Rr)throw new Lc(Pc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Pc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Lc(Pc.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Pc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Lc(Pc.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Mv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Uc(e),this.Vr=!1):Vc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Fv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ri(o,void 0,void 0,(function(){return Pi(this,(function(t){switch(t.label){case 0:return Wv(this)?(Vc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ri(this,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return(e=Gc(t)).$r.add(4),[4,Uv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Vv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Mv(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){return Ri(this,void 0,void 0,(function(){var e,n;return Pi(this,(function(r){switch(r.label){case 0:if(!Wv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Uv(t){return Ri(this,void 0,void 0,(function(){var e,n;return Pi(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jv(t,e){var n=Gc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Hv(n)?Gv(n):sm(n).er()&&Bv(n,e))}function qv(t,e){var n=Gc(t),r=sm(n);n.Or.delete(e),r.er()&&Kv(n,e),0===n.Or.size&&(r.er()?r.ir():Wv(n)&&n.Br.set("Unknown"))}function Bv(t,e){t.qr.U(e.targetId),sm(t).mr(e)}function Kv(t,e){t.qr.U(e),sm(t).yr(e)}function Gv(t){t.qr=new If({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),sm(t).start(),t.Br.Sr()}function Hv(t){return Wv(t)&&!sm(t).tr()&&t.Or.size>0}function Wv(t){return 0===Gc(t).$r.size}function zv(t){t.qr=void 0}function Xv(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){return t.Or.forEach((function(e,n){Bv(t,e)})),[2]}))}))}function Qv(t,e){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(n){return zv(t),Hv(t)?(t.Br.Nr(e),Gv(t)):t.Br.set("Unknown"),[2]}))}))}function Yv(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o;return Pi(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof bf&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o;return Pi(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Vc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$v(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof gf?t.qr.X(e):e instanceof yf?t.qr.rt(e):t.qr.et(e),n.isEqual($c.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,zd(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=t,u=n,c=s.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=s.Or.get(e);n&&s.Or.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=s.Or.get(t);if(e){s.Or.set(t,e.withResumeToken(al.EMPTY_BYTE_STRING,e.snapshotVersion)),Kv(s,t);var n=new jp(e.target,t,1,e.sequenceNumber);Bv(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Vc("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,$v(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function $v(t,e,n){return Ri(this,void 0,void 0,(function(){var r=this;return Pi(this,(function(i){switch(i.label){case 0:if(!Op(e))throw e;return t.$r.add(1),[4,Uv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return zd(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ri(r,void 0,void 0,(function(){return Pi(this,(function(e){switch(e.label){case 0:return Vc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Vv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Jv(t,e){return e().catch((function(n){return $v(t,n,e)}))}function Zv(t){return Ri(this,void 0,void 0,(function(){var e,n,r,i,o;return Pi(this,(function(a){switch(a.label){case 0:e=Gc(t),n=um(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!(Wv(s=e)&&s.kr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Qd(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=um(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,$v(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return tm(e)&&em(e),[2]}var s}))}))}function tm(t){return Wv(t)&&!um(t).tr()&&t.kr.length>0}function em(t){um(t).start()}function nm(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){return um(t).Ar(),[2]}))}))}function rm(t){return Ri(this,void 0,void 0,(function(){var e,n,r,i;return Pi(this,(function(o){for(e=um(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function im(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i;return Pi(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Up.from(r,e,n),[4,Jv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Zv(t)];case 2:return o.sent(),[2]}}))}))}function om(t,e){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(n){switch(n.label){case 0:return e&&um(t).pr?[4,function(t,e){return Ri(this,void 0,void 0,(function(){var n,r;return Pi(this,(function(i){switch(i.label){case 0:return Jh(r=e.code)&&r!==Pc.ABORTED?(n=t.kr.shift(),um(t).sr(),[4,Jv(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Zv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tm(t)&&em(t),[2]}}))}))}function am(t,e){return Ri(this,void 0,void 0,(function(){var n;return Pi(this,(function(r){switch(r.label){case 0:return n=Gc(t),e?(n.$r.delete(2),[4,Vv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Uv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sm(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:Xv.bind(null,t),Ri:Qv.bind(null,t),_r:Yv.bind(null,t)},(i=Gc(e)).br(),new Rv(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ri(o,void 0,void 0,(function(){return Pi(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),Hv(t)?Gv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),zv(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function um(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:nm.bind(null,t),Ri:om.bind(null,t),Ir:rm.bind(null,t),Tr:im.bind(null,t)},(i=Gc(e)).br(),new Pv(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ri(o,void 0,void 0,(function(){return Pi(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,Zv(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(Vc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var cm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lc(Pc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function lm(t,e){if(Uc("AsyncQueue",e+": "+t),Op(t))return new Lc(Pc.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||gl.comparator(e.key,n.key)}:function(t,e){return gl.comparator(t.key,e.key)},this.keyedMap=cf(),this.sortedSet=new tf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),fm=function(){function t(){this.Kr=new tf(gl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Bc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),pm=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,hm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),dm=function(){this.Wr=void 0,this.listeners=[]},vm=function(){this.queries=new Ad((function(t){return fh(t)}),hh),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Pi(this,(function(c){switch(c.label){case 0:if(n=Gc(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new dm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=lm(s,"Initialization of query '"+ph(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&wm(n),[2]}}))}))}function gm(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a;return Pi(this,(function(s){return n=Gc(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ym(t,e){for(var n=Gc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&wm(n)}function bm(t,e,n){var r=Gc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function wm(t){t.Gr.forEach((function(t){t.next()}))}var Im=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=pm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Em=function(t){this.key=t},_m=function(t){this.key=t},Tm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ff(),this.mutatedKeys=ff(),this.lo=vh(t),this.fo=new hm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new fm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=rh(this.query)&&i.size===this.query.limit?i.last():null,c=ih(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=dh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),d=!0):n.yo(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),rh(this.query)||ih(this.query))for(;a.size>this.query.limit;){var l=rh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bc()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new pm(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ff(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new _m(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Em(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ff();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return pm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Sm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Am=function(t){this.key=t,this.bo=!1},Nm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ad((function(t){return fh(t)}),hh),this.Vo=new Map,this.So=new Set,this.Do=new tf(gl.comparator),this.Co=new Map,this.No=new rv,this.xo={},this.Fo=new Map,this.ko=dd.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Pi(this,(function(u){switch(u.label){case 0:return n=rg(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Yd(n.localStore,ch(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Dm(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&jv(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Dm(t,e,n,r){return Ri(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Pi(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ri(this,void 0,void 0,(function(){var i,o,a;return Pi(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Jd(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Bm(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Jd(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Tm(e,i.Bn),a=o._o(i.documents),s=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Bm(t,n,u.To),c=new Sm(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Cm(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i;return Pi(this,(function(o){switch(o.label){case 0:return n=Gc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!hh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,$d(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),qv(n.remoteStore,r.targetId),jm(n,r.targetId)})).catch(bd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return jm(n,r.targetId),[4,$d(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Om(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o,a;return Pi(this,(function(s){switch(s.label){case 0:r=ig(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=Gc(u),f=Yc.now(),p=c.reduce((function(t,e){return t.add(e.key)}),ff()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,p).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=Uh(o,l.get(o.key));null!=a&&n.push(new Kh(o.key,a,xl(a.toProto().mapValue),Ph.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new tf(zc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hm(r,i.changes)];case 3:return s.sent(),[4,Zv(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=lm(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,h,f,p}))}))}function xm(t,e){return Ri(this,void 0,void 0,(function(){var n,r;return Pi(this,(function(i){switch(i.label){case 0:n=Gc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Xd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Kc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Kc(r.bo):t.removedDocuments.size>0&&(Kc(r.bo),r.bo=!1))})),[4,Hm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,bd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Rm(t,e,n){var r=Gc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Gc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&wm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pm(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Pi(this,(function(c){switch(c.label){case 0:return(r=Gc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new tf(gl.comparator)).insert(o,Rl.newNoDocument(o,$c.min())),s=ff().add(o),u=new vf($c.min(),new Map,new rf(zc),a,s),[4,xm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Gm(r),[3,4];case 2:return[4,$d(r.localStore,e,!1).then((function(){return jm(r,e,n)})).catch(bd)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Lm(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i;return Pi(this,(function(o){switch(o.label){case 0:n=Gc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wd(n.localStore,e)];case 2:return i=o.sent(),Um(n,r,null),Vm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,bd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mm(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i;return Pi(this,(function(o){switch(o.label){case 0:r=Gc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=e,u=Gc(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,s).next((function(n){return Kc(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),Um(r,e,n),Vm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,bd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function Fm(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a;return Pi(this,(function(s){switch(s.label){case 0:Wv((n=Gc(t)).remoteStore)||Vc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=Gc(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=lm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function Vm(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Um(t,e,n){var r=Gc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function jm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||qm(t,e)}))}function qm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(qv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Gm(t))}function Bm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Em?(t.No.addReference(o.key,e),Km(t,o)):o instanceof _m?(Vc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||qm(t,o.key)):Bc()}}function Km(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Vc("SyncEngine","New document in limbo: "+n),t.So.add(r),Gm(t))}function Gm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new gl(nl.fromString(e)),r=t.ko.next();t.Co.set(r,new Am(n)),t.Do=t.Do.insert(n,r),jv(t.remoteStore,new jp(ch(nh(n.path)),r,2,Rc.o))}}function Hm(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o,a;return Pi(this,(function(s){switch(s.label){case 0:return r=Gc(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=qd.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Pi(this,(function(h){switch(h.label){case 0:n=Gc(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ap.forEach(e,(function(e){return Ap.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Ap.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Op(r=h.sent()))throw r;return Vc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Wm(t,e){return Ri(this,void 0,void 0,(function(){var n,r;return Pi(this,(function(i){switch(i.label){case 0:return(n=Gc(t)).currentUser.isEqual(e)?[3,3]:(Vc("SyncEngine","User change. New user:",e.toKey()),[4,Hd(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new Lc(Pc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function zm(t,e){var n=Gc(t),r=n.Co.get(e);if(r&&r.bo)return ff().add(r.key);var i=ff(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Xm(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i;return Pi(this,(function(o){switch(o.label){case 0:return[4,Jd((n=Gc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Bm(n,e.targetId,i.To),i)]}}))}))}function Qm(t){return Ri(this,void 0,void 0,(function(){var e;return Pi(this,(function(n){return[2,tv((e=Gc(t)).localStore).then((function(t){return Hm(e,t)}))]}))}))}function Ym(t,e,n,r){return Ri(this,void 0,void 0,(function(){var i,o;return Pi(this,(function(a){switch(a.label){case 0:return[4,(s=(i=Gc(t)).localStore,u=e,c=Gc(s),l=Gc(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):Ap.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zv(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Um(i,e,r||null),Vm(i,e),function(t,e){Gc(Gc(t)._n).Gt(e)}(i.localStore,e)):Bc(),a.label=4;case 4:return[4,Hm(i,o)];case 5:return a.sent(),[3,7];case 6:Vc("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function $m(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Pi(this,(function(l){switch(l.label){case 0:return rg(n=Gc(t)),ig(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jm(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,am(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],jv(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return jm(n,e),$d(n.localStore,e,!0)})),qv(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Jm(n,u)];case 5:return l.sent(),(h=Gc(n)).Co.forEach((function(t,e){qv(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new tf(gl.comparator),n.Oo=!1,[4,am(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function Jm(t,e,n){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p,d,v;return Pi(this,(function(m){switch(m.label){case 0:n=Gc(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Yd(n.localStore,ch(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],p=n.Po.get(f),[4,Xm(n,p)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Zd(n.localStore,s)];case 8:return v=m.sent(),[4,Yd(n.localStore,v)];case 9:return u=m.sent(),[4,Dm(n,Zm(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Zm(t){return eh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tg(t){var e=Gc(t);return Gc(Gc(e.localStore).persistence).fn()}function eg(t,e,n,r){return Ri(this,void 0,void 0,(function(){var i,o,a;return Pi(this,(function(s){switch(s.label){case 0:return(i=Gc(t)).Oo?(Vc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tv(i.localStore)];case 3:return o=s.sent(),a=vf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hm(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,$d(i.localStore,e,!0)];case 6:return s.sent(),jm(i,e,r),[3,8];case 7:Bc(),s.label=8;case 8:return[2]}}))}))}function ng(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Pi(this,(function(p){switch(p.label){case 0:if(!(r=rg(t)).Oo)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Vc("SyncEngine","Adding an already active target "+a),[3,5]):[4,Zd(r.localStore,a)]):[3,6];case 2:return s=p.sent(),[4,Yd(r.localStore,s)];case 3:return u=p.sent(),[4,Dm(r,Zm(s),u.targetId,!1)];case 4:p.sent(),jv(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Pi(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,$d(r.localStore,t,!1).then((function(){qv(r.remoteStore,t),jm(r,t)})).catch(bd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function rg(t){var e=Gc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pm.bind(null,e),e.vo._r=ym.bind(null,e.eventManager),e.vo.Mo=bm.bind(null,e.eventManager),e}function ig(t){var e=Gc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mm.bind(null,e),e}var og=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){switch(e.label){case 0:return this.R=Cv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Gd(this.persistence,new Bd,t.initialUser,this.R)},t.prototype.qo=function(t){return new cv(hv.bs,this.R)},t.prototype.Bo=function(t){return new Ev},t.prototype.terminate=function(){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Oi(e,t),e.prototype.initialize=function(e){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ev(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ig(this.Ko.syncEngine)];case 4:return n.sent(),[4,Zv(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Gd(this.persistence,new Bd,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Ed(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Ud(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ad.withCacheSize(this.cacheSizeBytes):ad.DEFAULT;return new Md(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,kv(),Dv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ev},e}(og),sg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Oi(e,t),e.prototype.initialize=function(e){return Ri(this,void 0,void 0,(function(){var n,r=this;return Pi(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Iv?(this.sharedClientState.syncEngine={ui:Ym.bind(null,n),ai:eg.bind(null,n),hi:ng.bind(null,n),fn:tg.bind(null,n),ci:Qm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ri(r,void 0,void 0,(function(){return Pi(this,(function(e){switch(e.label){case 0:return[4,$m(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=kv();if(!Iv.yt(e))throw new Lc(Pc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ud(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Iv(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ag),ug=function(){function t(){}return t.prototype.initialize=function(t,e){return Ri(this,void 0,void 0,(function(){var n=this;return Pi(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Rm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Wm.bind(null,this.syncEngine),[4,am(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new vm},t.prototype.createDatastore=function(t){var e,n,r=Cv(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new Nv(e));return n=t.credentials,new Lv(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Rm(a.syncEngine,t,0)},o=Tv.yt()?new Tv:new _v,new Fv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=t.initialUser,s=t.maxConcurrentLimboResolutions,u=e,c=new Nm(n,r,i,o,a,s),u&&(c.Oo=!0),c;var n,r,i,o,a,s,u,c},t.prototype.terminate=function(){return function(t){return Ri(this,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return e=Gc(t),Vc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Uv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),cg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),lg=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ri(this,void 0,void 0,(function(){var e,n=this;return Pi(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Lc(Pc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Pi(this,(function(u){switch(u.label){case 0:return n=Gc(t),r=Ff(n.R)+"/documents",i={documents:e.map((function(t){return Rf(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){Kc(!!e.found),e.found.name,e.found.updateTime;var n=Pf(t,e.found.name),r=Cf(e.found.updateTime),i=new Ol({mapValue:{fields:e.found.fields}});return Rl.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){Kc(!!e.missing),Kc(!!e.readTime);var n=Pf(t,e.missing),r=Cf(e.readTime);return Rl.newNoDocument(n,r)}(e,r):Bc());a.set(i.key.toString(),i)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Kc(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ri(this,void 0,void 0,(function(){var t,e=this;return Pi(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=gl.fromPath(n);e.mutations.push(new Yh(r,e.precondition(r)))})),[4,function(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i;return Pi(this,(function(o){switch(o.label){case 0:return n=Gc(t),r=Ff(n.R)+"/documents",i={writes:e.map((function(t){return jf(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Bc();e=$c.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Lc(Pc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ph.updateTime(e):Ph.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual($c.min()))throw new Lc(Pc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ph.updateTime(e)}return Ph.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),hg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ov(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ri(t,void 0,void 0,(function(){var t,e,n=this;return Pi(this,(function(r){return t=new lg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!dl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Jh(e)}return!1},t}(),fg=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=fv.UNAUTHENTICATED,this.clientId=Wc.u(),this.credentialListener=function(){},this.receivedInitialUser=new Sp,this.credentials.setChangeListener((function(t){Vc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Lc(Pc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Sp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ri(t,void 0,void 0,(function(){var t,n;return Pi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=lm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pg(t,e){return Ri(this,void 0,void 0,(function(){var n,r,i=this;return Pi(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Vc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Ri(i,void 0,void 0,(function(){return Pi(this,(function(t){switch(t.label){case 0:return[4,Hd(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function dg(t,e){return Ri(this,void 0,void 0,(function(){var n,r;return Pi(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,vg(t)];case 1:return n=i.sent(),Vc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Ri(this,void 0,void 0,(function(){var n,r;return Pi(this,(function(i){switch(i.label){case 0:return(n=Gc(t)).asyncQueue.verifyOperationInProgress(),Vc("RemoteStore","RemoteStore received new credentials"),r=Wv(n),n.$r.add(3),[4,Uv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Vv(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function vg(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Vc("FirestoreClient","Using default OfflineComponentProvider"),[4,pg(t,new og)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function mg(t){return Ri(this,void 0,void 0,(function(){return Pi(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Vc("FirestoreClient","Using default OnlineComponentProvider"),[4,dg(t,new ug)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function gg(t){return vg(t).then((function(t){return t.persistence}))}function yg(t){return vg(t).then((function(t){return t.localStore}))}function bg(t){return mg(t).then((function(t){return t.remoteStore}))}function wg(t){return mg(t).then((function(t){return t.syncEngine}))}function Ig(t){return Ri(this,void 0,void 0,(function(){var e,n;return Pi(this,(function(r){switch(r.label){case 0:return[4,mg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=km.bind(null,e.syncEngine),n.onUnlisten=Cm.bind(null,e.syncEngine),n)]}}))}))}function Eg(t,e,n){var r=this;void 0===n&&(n={});var i=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(r,void 0,void 0,(function(){var r;return Pi(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cg({next:function(o){e.enqueueAndForget((function(){return gm(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Lc(Pc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Lc(Pc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Im(nh(n.path),o,{includeMetadataChanges:!0,so:!0});return mm(t,a)},[4,Ig(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function _g(t,e,n){var r=this;void 0===n&&(n={});var i=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(r,void 0,void 0,(function(){var r;return Pi(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cg({next:function(n){e.enqueueAndForget((function(){return gm(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Lc(Pc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Im(n,o,{includeMetadataChanges:!0,so:!0});return mm(t,a)},[4,Ig(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Tg=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Sg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ag=new Map,Ng=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},kg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(fv.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Dg=function(){function t(t){var e=this;this.oc=null,this.currentUser=fv.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Vc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Kc("string"==typeof n.accessToken),new Ng(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Kc(null===t||"string"==typeof t),new fv(t)},t}(),Cg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=fv.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Og=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Cg(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(fv.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e,n){if(!n)throw new Lc(Pc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Rg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Pg(t,e,n,r){if(!0===e&&!0===r)throw new Lc(Pc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Lg(t){if(!gl.isDocumentKey(t))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Mg(t){if(gl.isDocumentKey(t))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Fg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Bc()}function Vg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lc(Pc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Fg(t);throw new Lc(Pc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ug(t,e){if(e<=0)throw new Lc(Pc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Lc(Pc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lc(Pc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Pg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),qg=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new jg({}),this._settingsFrozen=!1,t instanceof Sg?(this._databaseId=t,this._credentials=new kg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Lc(Pc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sg(t.options.projectId)}(t),this._credentials=new Dg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Lc(Pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Lc(Pc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new kg;switch(t.type){case"gapi":var e=t.client;return Kc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Og(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Lc(Pc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Ag.get(this))&&(Vc("ComponentProvider","Removing Datastore"),Ag.delete(this),t.terminate()),Promise.resolve();var t},t}(),Bg=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Gg(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Kg=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,nh(r))||this)._path=r,i.type="collection",i}return Oi(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Bg(this.firestore,null,new gl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Kg);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Yi(t),xg("collection","path",e),t instanceof qg)return Mg(n=nl.fromString.apply(nl,Fi([e],r))),new Gg(t,null,n);if(!(t instanceof Bg||t instanceof Gg))throw new Lc(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mg(n=nl.fromString.apply(nl,Fi([t.path],r)).child(nl.fromString(e))),new Gg(t.firestore,null,n)}function Wg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Yi(t),1===arguments.length&&(e=Wc.u()),xg("doc","path",e),t instanceof qg)return Lg(n=nl.fromString.apply(nl,Fi([e],r))),new Bg(t,null,new gl(n));if(!(t instanceof Bg||t instanceof Gg))throw new Lc(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lg(n=t._path.child(nl.fromString.apply(nl,Fi([e],r)))),new Bg(t.firestore,t instanceof Gg?t._converter:null,new gl(n))}function zg(t,e){return t=Yi(t),e=Yi(e),(t instanceof Bg||t instanceof Gg)&&(e instanceof Bg||e instanceof Gg)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Xg(t,e){return t=Yi(t),e=Yi(e),t instanceof Kg&&e instanceof Kg&&t.firestore===e.firestore&&hh(t._query,e._query)&&t._converter===e._converter}var Qg=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Ov(this,"async_queue_retry"),this.Ec=function(){var e=Dv();e&&Vc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Dv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Dv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Ri(this,void 0,void 0,(function(){var t,e=this;return Pi(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Op(t=n.sent()))throw t;return Vc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Uc("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=cm.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Bc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Ri(this,void 0,void 0,(function(){var t;return Pi(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Yg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var $g=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Qg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Oi(e,t),e.prototype._terminate=function(){return this._firestoreClient||Zg(this),this._firestoreClient.terminate()},e}(qg);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return t._firestoreClient||Zg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Zg(t){var e,n,r,i,o,a=t._freezeSettings(),s=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new Tg(n,r,i,(o=a).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new fg(t._credentials,t._queue,s)}function ty(t,e,n){var r=this,i=new Sp;return t.asyncQueue.enqueue((function(){return Ri(r,void 0,void 0,(function(){var r;return Pi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,pg(t,n)];case 1:return o.sent(),[4,dg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===Pc.FAILED_PRECONDITION||a.code===Pc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function ey(t){if(t._initialized||t._terminated)throw new Lc(Pc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ny=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new il(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ry=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(al.fromBase64String(e))}catch(n){throw new Lc(Pc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(al.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),iy=function(t){this._methodName=t},oy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lc(Pc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lc(Pc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return zc(this._lat,t._lat)||zc(this._long,t._long)},t}(),ay=/^__.*__$/,sy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Kh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bh(t,this.data,e,this.fieldTransforms)},t}(),uy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Kh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bc()}}var ly=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Cy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(cy(this.Dc)&&ay.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),hy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Cv(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new ly({Dc:t,methodName:e,Lc:n,path:il.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function fy(t){var e=t._freezeSettings(),n=Cv(t._databaseId);return new hy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function py(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Ay("Data must be an object, but it was:",a,r);var s,u,c=Ty(r,a);if(o.merge)s=new ol(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Ny(e,f[h],n);if(!a.contains(p))throw new Lc(Pc.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Oy(l,p)||l.push(p)}s=new ol(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new sy(new Ol(c),s,u)}var dy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(iy);function vy(t,e,n){return new ly({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var my=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype._toFieldTransform=function(t){return new xh(t.path,new Th)},e.prototype.isEqual=function(t){return t instanceof e},e}(iy),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Oi(e,t),e.prototype._toFieldTransform=function(t){var e=vy(this,t,!0),n=this.qc.map((function(t){return _y(t,e)})),r=new Sh(n);return new xh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iy),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Oi(e,t),e.prototype._toFieldTransform=function(t){var e=vy(this,t,!0),n=this.qc.map((function(t){return _y(t,e)})),r=new Nh(n);return new xh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iy),by=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Oi(e,t),e.prototype._toFieldTransform=function(t){var e=new Dh(t.R,bh(t.R,this.Uc));return new xh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(iy);function wy(t,e,n,r){var i=t.Bc(1,e,n);Ay("Data must be an object, but it was:",i,r);var o=[],a=Ol.empty();Zc(r,(function(t,r){var s=Dy(e,t,n);r=Yi(r);var u=i.kc(s);if(r instanceof dy)o.push(s);else{var c=_y(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ol(o);return new uy(a,s,i.fieldTransforms)}function Iy(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[Ny(e,r,n)],u=[i];if(o.length%2!=0)throw new Lc(Pc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ny(e,o[c])),u.push(o[c+1]);for(var l=[],h=Ol.empty(),f=s.length-1;f>=0;--f)if(!Oy(l,s[f])){var p=s[f],d=u[f];d=Yi(d);var v=a.kc(p);if(d instanceof dy)l.push(p);else{var m=_y(d,v);null!=m&&(l.push(p),h.set(p,m))}}var g=new ol(l);return new uy(h,g,a.fieldTransforms)}function Ey(t,e,n,r){return void 0===r&&(r=!1),_y(n,t.Bc(r?4:3,e))}function _y(t,e){if(Sy(t=Yi(t)))return Ay("Unsupported field value:",e,t),Ty(t,e);if(t instanceof iy)return function(t,e){if(!cy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=_y(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Yi(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Yc.fromDate(t);return{timestampValue:Nf(e.R,n)}}if(t instanceof Yc)return n=new Yc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Nf(e.R,n)};if(t instanceof oy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ry)return{bytesValue:kf(e.R,t._byteString)};if(t instanceof Bg){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Of(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Fg(t))}(t,e)}function Ty(t,e){var n={};return tl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zc(t,(function(t,r){var i=_y(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Sy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yc||t instanceof oy||t instanceof ry||t instanceof Bg||t instanceof iy)}function Ay(t,e,n){if(!Sy(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=Fg(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}var i}function Ny(t,e,n){if((e=Yi(e))instanceof ny)return e._internalPath;if("string"==typeof e)return Dy(t,e);throw Cy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ky=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(ky)>=0)throw Cy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ny.bind.apply(ny,Fi([void 0],e.split(".")))))._internalPath}catch(r){throw Cy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cy(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Lc(Pc.INVALID_ARGUMENT,(s+=". ")+t+u)}function Oy(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Bg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Py("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Ry=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(xy);function Py(t,e){return"string"==typeof e?Dy(t,e):e instanceof ny?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ly=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),My=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Oi(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Fy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Py("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(xy),Fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(My),Vy=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ly(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Fy(n._firestore,n._userDataWriter,r.key,r,new Ly(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lc(Pc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Fy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ly(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Fy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ly(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Uy(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Uy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bc()}}function jy(t,e){return t instanceof My&&e instanceof My?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Vy&&e instanceof Vy&&t._firestore===e._firestore&&Xg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){if(ih(t)&&0===t.explicitOrderBy.length)throw new Lc(Pc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var By=function(){};function Ky(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Oi(e,t),e.prototype._apply=function(t){var e,n,r,i=fy(t.firestore),o=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$y(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Yy(r,t,h))}s={arrayValue:{values:u}}}else s=Yy(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$y(a,o),s=Ey(n,"where",a,"in"===o||"not-in"===o);var f=Ul.create(i,o,s);return function(t,e){if(e.g()){var n=ah(t);if(null!==n&&!n.isEqual(e.field))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=oh(t);null!==r&&Jy(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Kg(t.firestore,t._converter,(e=t._query,n=o,r=e.filters.concat([n]),new th(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(By),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Oi(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yl(e,n);return function(t,e){if(null===oh(t)){var n=ah(t);null!==n&&Jy(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Kg(t.firestore,t._converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new th(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(By),Wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Oi(e,t),e.prototype._apply=function(t){return new Kg(t.firestore,t._converter,lh(t._query,this.Gc,this.zc))},e}(By),zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Oi(e,t),e.prototype._apply=function(t){var e,n,r=Qy(t,this.type,this.Hc,this.Jc);return new Kg(t.firestore,t._converter,(e=t._query,n=r,new th(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(By),Xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Oi(e,t),e.prototype._apply=function(t){var e,n,r=Qy(t,this.type,this.Hc,this.Jc);return new Kg(t.firestore,t._converter,(e=t._query,n=r,new th(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(By);function Qy(t,e,n,r){if(n[0]=Yi(n[0]),n[0]instanceof xy)return function(t,e,n,r,i){if(!r)throw new Lc(Pc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=uh(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Sl(e,r.key));else{var c=r.data.field(u.field);if(hl(c))throw new Lc(Pc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Xl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=fy(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Lc(Pc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!sh(t)&&-1!==c.indexOf("/"))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(nl.fromString(c));if(!gl.isDocumentKey(l))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new gl(l);s.push(Sl(e,h))}else{var f=Ey(n,r,c);s.push(f)}}return new Xl(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Yy(t,e,n){if("string"==typeof(n=Yi(n))){if(""===n)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sh(e)&&-1!==n.indexOf("/"))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(nl.fromString(n));if(!gl.isDocumentKey(r))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Sl(t,new gl(r))}if(n instanceof Bg)return Sl(t,n._key);throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Fg(n)+".")}function $y(t,e){if(!Array.isArray(t)||0===t.length)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jy(t,e,n){if(!n.isEqual(e))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),yl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return cl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ll(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Bc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Zc(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new oy(cl(t.latitude),cl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=fl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(pl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ul(t);return new Yc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=nl.fromString(t);Kc(ep(n));var r=new Sg(n.get(1),n.get(3)),i=new gl(n.popFirst(5));return r.isEqual(e)||Uc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Oi(e,t),e.prototype.convertBytes=function(t){return new ry(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bg(this.firestore,null,e)},e}(Zy),nb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=rb(t,this._firestore),i=tb(r._converter,e,n),o=py(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Ph.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=rb(t,this._firestore);return o="string"==typeof(e=Yi(e))||e instanceof ny?Iy(this._dataReader,"WriteBatch.update",a._key,e,n,r):wy(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Ph.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=rb(t,this._firestore);return this._mutations=this._mutations.concat(new Qh(e._key,Ph.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Lc(Pc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e){if((t=Yi(t)).firestore!==e)throw new Lc(Pc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ib=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Oi(e,t),e.prototype.convertBytes=function(t){return new ry(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bg(this.firestore,null,e)},e}(Zy);function ob(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Vg(t,Bg);var o=Vg(t.firestore,$g),a=fy(o);return sb(o,[("string"==typeof(e=Yi(e))||e instanceof ny?Iy(a,"updateDoc",t._key,e,n,r):wy(a,"updateDoc",t._key,e)).toMutation(t._key,Ph.exists(!0))])}function ab(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Yi(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Yg(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Yg(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Bg)c=Vg(t.firestore,$g),l=nh(t._key.path),u={next:function(e){i[s]&&i[s](ub(c,t,e))},error:i[s+1],complete:i[s+2]};else{var p=Vg(t,Kg);c=Vg(p.firestore,$g),l=p._query;var d=new ib(c);u={next:function(t){i[s]&&i[s](new Vy(c,d,p,t))},error:i[s+1],complete:i[s+2]},qy(t._query)}return function(t,e,n,r){var i=this,o=new cg(r),a=new Im(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ri(i,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return e=mm,[4,Ig(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ri(i,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return e=gm,[4,Ig(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Jg(c),l,h,u)}function sb(t,e){return function(t,e){var n=this,r=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(n,void 0,void 0,(function(){var n;return Pi(this,(function(i){switch(i.label){case 0:return n=Om,[4,wg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Jg(t),e)}function ub(t,e,n){var r=n.docs.get(e._key),i=new ib(t);return new My(t,i,e._key,r,new Ly(n.hasPendingWrites,n.fromCache),e._converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Oi(e,t),e.prototype.get=function(e){var n=this,r=rb(e,this._firestore),i=new ib(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new My(n._firestore,i,r._key,t._document,new Ly(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=fy(t)}return t.prototype.get=function(t){var e=this,n=rb(t,this._firestore),r=new eb(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Bc();var i=t[0];if(i.isFoundDocument())return new xy(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new xy(e._firestore,r,n._key,null,n._converter);throw Bc()}))},t.prototype.set=function(t,e,n){var r=rb(t,this._firestore),i=tb(r._converter,e,n),o=py(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=rb(t,this._firestore);return o="string"==typeof(e=Yi(e))||e instanceof ny?Iy(this._dataReader,"Transaction.update",a._key,e,n,r):wy(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=rb(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){if("undefined"==typeof Uint8Array)throw new Lc(Pc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hb(){if("undefined"==typeof atob)throw new Lc(Pc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hb(),new t(ry.fromBase64String(e))},t.fromUint8Array=function(e){return lb(),new t(ry.fromUint8Array(e))},t.prototype.toBase64=function(){return hb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),pb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ey(t=Vg(t,$g));var n=Jg(t),r=t._freezeSettings(),i=new ug;return ty(n,i,new ag(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ey(t=Vg(t,$g));var e=Jg(t),n=t._freezeSettings(),r=new ug;return ty(e,r,new sg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Lc(Pc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ri(e,void 0,void 0,(function(){var e;return Pi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ri(this,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return kp.yt()?(e=t+"main",[4,kp.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ud(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),db=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Sg||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){var n,r,i,o;n=this._delegate,r=t,i=e,"firestore.googleapis.com"!==(o=(n=Vg(n,qg))._getSettings()).host&&o.host!==r&&jc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:r+":"+i,ssl:!1}))},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ri(e,void 0,void 0,(function(){var e,n;return Pi(this,(function(r){switch(r.label){case 0:return[4,gg(t)];case 1:return e=r.sent(),[4,bg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=Gc(i),o.$r.delete(0),Vv(o))]}var i,o}))}))}))}(Jg(Vg(this._delegate,$g)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ri(e,void 0,void 0,(function(){var e,n;return Pi(this,(function(r){switch(r.label){case 0:return[4,gg(t)];case 1:return e=r.sent(),[4,bg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ri(this,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return(e=Gc(t)).$r.add(0),[4,Uv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Jg(Vg(this._delegate,$g)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Pg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(e,void 0,void 0,(function(){var e;return Pi(this,(function(r){switch(r.label){case 0:return e=Fm,[4,wg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Jg(Vg(this._delegate,$g)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new cg(e);return t.asyncQueue.enqueueAndForget((function(){return Ri(n,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return e=function(t,e){Gc(t).Gr.add(e),e.next()},[4,Ig(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ri(n,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return e=function(t,e){Gc(t).Gr.delete(e)},[4,Ig(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Jg(e=Vg(e,$g)),Yg(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Lc(Pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kb(this,Hg(this._delegate,t))}catch(e){throw wb(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new bb(this,Wg(this._delegate,t))}catch(e){throw wb(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Sb(this,function(t,e){if(t=Vg(t,qg),xg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kg(t,null,(n=e,new th(nl.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw wb(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(n,void 0,void 0,(function(){var n;return Pi(this,(function(i){switch(i.label){case 0:return[4,(o=t,mg(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new hg(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(Jg(e=this._delegate),(function(r){return function(e){return t(new mb(n,e))}(new cb(e,r))}))},t.prototype.batch=function(){var t=this;return Jg(this._delegate),new gb(new nb(this._delegate,(function(e){return sb(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Lc(Pc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Lc(Pc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),vb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Oi(e,t),e.prototype.convertBytes=function(t){return new fb(new ry(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return bb.Zc(e,this.firestore,null)},e}(Zy);var mb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new vb(t)}return t.prototype.get=function(t){var e=this,n=Db(t);return this._delegate.get(n).then((function(t){return new _b(e._firestore,new My(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=Db(t);return n?(Rg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Db(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Fi([a,e,n],i)),this},t.prototype.delete=function(t){var e=Db(t);return this._delegate.delete(e),this},t}(),gb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Db(t);return n?(Rg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Db(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Fi([a,e,n],i)),this},t.prototype.delete=function(t){var e=Db(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),yb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Fy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Tb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new vb(e),n),i.set(n,o)),o},t}();yb.eu=new WeakMap;var bb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vb(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Bg(n._delegate,r,new gl(e)))},t.Zc=function(e,n,r){return new t(n,new Bg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kb(this.firestore,Hg(this._delegate,t))}catch(e){throw wb(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Yi(t))instanceof Bg&&zg(this._delegate,t)},t.prototype.set=function(t,e){e=Rg("DocumentReference.set",e);try{return function(t,e,n){t=Vg(t,Bg);var r=Vg(t.firestore,$g),i=tb(t._converter,e,n);return sb(r,[py(fy(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Ph.none())])}(this._delegate,t,e)}catch(n){throw wb(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ob(this._delegate,t):ob.apply(void 0,Fi([this._delegate,t,e],n))}catch(i){throw wb(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return sb(Vg((t=this._delegate).firestore,$g),[new Qh(t._key,Ph.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ib(e),i=Eb(e,(function(e){return new _b(t.firestore,new My(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return ab(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Vg(t,Bg);var e=Vg(t.firestore,$g),n=Jg(e),r=new ib(e);return function(t,e){var n=this,r=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(n,void 0,void 0,(function(){var n;return Pi(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i;return Pi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,s=e,u=Gc(a),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,s)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Lc(Pc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=lm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,yg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new My(e,r,t._key,n,new Ly(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Vg(t,Bg);var e=Vg(t.firestore,$g);return Eg(Jg(e),t._key,{source:"server"}).then((function(n){return ub(e,t,n)}))}(this._delegate):function(t){t=Vg(t,Bg);var e=Vg(t.firestore,$g);return Eg(Jg(e),t._key).then((function(n){return ub(e,t,n)}))}(this._delegate)).then((function(t){return new _b(e.firestore,new My(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(yb.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function wb(t,e,n){return t.message=t.message.replace(e,n),t}function Ib(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Yg(r))return r}return{}}function Eb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Yg(t[0])?t[0]:Yg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _b=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new bb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return jy(this._delegate,t._delegate)},t}(),Tb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(_b),Sb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ky(this._delegate,(o=r,a=i=n,s=Py("where",e),new Gy(s,a,o))))}catch(i){throw wb(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ky(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Py("orderBy",t);return new Hy(r,n)}(e,n)))}catch(r){throw wb(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ky(this._delegate,(Ug("limit",n=e),new Wy("limit",n,"F"))))}catch(r){throw wb(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ky(this._delegate,(Ug("limitToLast",n=e),new Wy("limitToLast",n,"L"))))}catch(r){throw wb(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ky(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zy("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw wb(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ky(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zy("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw wb(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ky(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xy("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw wb(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ky(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xy("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw wb(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Xg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Vg(t,Kg);var e=Vg(t.firestore,$g),n=Jg(e),r=new ib(e);return function(t,e){var n=this,r=new Sp;return t.asyncQueue.enqueueAndForget((function(){return Ri(n,void 0,void 0,(function(){var n;return Pi(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ri(this,void 0,void 0,(function(){var r,i,o,a,s;return Pi(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Jd(t,e,!0)];case 1:return s=u.sent(),r=new Tm(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=lm(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,yg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Vy(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Vg(t,Kg);var e=Vg(t.firestore,$g),n=Jg(e),r=new ib(e);return _g(n,t._query,{source:"server"}).then((function(n){return new Vy(e,r,t,n)}))}(this._delegate):function(t){t=Vg(t,Kg);var e=Vg(t.firestore,$g),n=Jg(e),r=new ib(e);return qy(t._query),_g(n,t._query).then((function(n){return new Vy(e,r,t,n)}))}(this._delegate)).then((function(t){return new Nb(e.firestore,new Vy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ib(e),i=Eb(e,(function(e){return new Nb(t.firestore,new Vy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return ab(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(yb.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Ab=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Tb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Nb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Sb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Tb(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Ab(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Tb(n._firestore,r))}))},t.prototype.isEqual=function(t){return jy(this._delegate,t._delegate)},t}(),kb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Oi(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new bb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bb(this.firestore,void 0===t?Wg(this._delegate):Wg(this._delegate,t))}catch(e){throw wb(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,a=this;return(e=this._delegate,n=t,r=Vg(e.firestore,$g),i=Wg(e),o=tb(e._converter,n),sb(r,[py(fy(e.firestore),"addDoc",i._key,o,null!==e._converter,{}).toMutation(i._key,Ph.exists(!1))]).then((function(){return i}))).then((function(t){return new bb(a.firestore,t)}))},e.prototype.isEqual=function(t){return zg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(yb.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(Sb);function Db(t){return Vg(t,Bg)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb,Ob=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ny.bind.apply(ny,Fi([void 0],t)))}return t.documentId=function(){return new t(il.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Yi(t))instanceof ny&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),xb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new my("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new dy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gy("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yy("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new by("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Rb={Firestore:db,GeoPoint:oy,Timestamp:Yc,Blob:fb,Transaction:mb,WriteBatch:gb,DocumentReference:bb,DocumentSnapshot:_b,Query:Sb,QueryDocumentSnapshot:Tb,QuerySnapshot:Nb,CollectionReference:kb,FieldPath:Ob,FieldValue:xb,setLogLevel:function(t){var e;e=t,Mc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(Cb=Ao).INTERNAL.registerComponent(new $i("firestore",(function(t){return function(t,e){return new db(t,new $g(t,e),new pb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Rb))),Cb.registerVersion("@firebase/firestore","2.2.5");
/*!
  * vue-router v4.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Lb=t=>Pb?Symbol(t):"_vr_"+t,Mb=Lb("rvlm"),Fb=Lb("rvd"),Vb=Lb("r"),Ub=Lb("rl"),jb=Lb("rvl"),qb="undefined"!=typeof window;const Bb=Object.assign;function Kb(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let Gb=()=>{};const Hb=/\/$/;function Wb(t,e,n="/"){let r,i={},o="",a="";const s=e.indexOf("?"),u=e.indexOf("#",s>-1?s:0);return s>-1&&(r=e.slice(0,s),o=e.slice(s+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),a=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,a=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==a&&"."!==o){if(".."!==o)break;a--}return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function zb(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function Xb(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Qb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!Yb(t[n],e[n]))return!1;return!0}function Yb(t,e){return Array.isArray(t)?$b(t,e):Array.isArray(e)?$b(e,t):t===e}function $b(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var Jb,Zb,tw,ew;function nw(t){if(!t)if(qb){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(Hb,"")}(Zb=Jb||(Jb={})).pop="pop",Zb.push="push",(ew=tw||(tw={})).back="back",ew.forward="forward",ew.unknown="";const rw=/^[^#]+#/;function iw(t,e){return t.replace(rw,"#")+e}const ow=()=>({left:window.pageXOffset,top:window.pageYOffset});function aw(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function sw(t,e){return(history.state?history.state.position-e:-1)+t}const uw=new Map;function cw(t,e){const{pathname:n,search:r,hash:i}=e;if(t.indexOf("#")>-1){let t=i.slice(1);return"/"!==t[0]&&(t="/"+t),zb(t,"")}return zb(n,t)+r+i}function lw(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?ow():null}}function hw(t){const{history:e,location:n}=window;let r={value:cw(t,n)},i={value:e.state};function o(r,o,a){const s=t.indexOf("#"),u=s>-1?(n.host&&document.querySelector("base")?t:t.slice(s))+r:location.protocol+"//"+location.host+t+r;try{e[a?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[a?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const a=Bb({},i.value,e.state,{forward:t,scroll:ow()});o(a.current,a,!0),o(t,Bb({},lw(r.value,t,null),{position:a.position+1},n),!1),r.value=t},replace:function(t,n){o(t,Bb({},e.state,lw(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function fw(t){const e=hw(t=nw(t)),n=function(t,e,n,r){let i=[],o=[],a=null;const s=({state:o})=>{const s=cw(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=s,e.value=o,a&&a===u)return void(a=null);l=c?o.position-c.position:0}else r(s);i.forEach((t=>{t(n.value,u,{delta:l,type:Jb.pop,direction:l?l>0?tw.forward:tw.back:tw.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(Bb({},t.state,{scroll:ow()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u),{pauseListeners:function(){a=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace);const r=Bb({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:iw.bind(null,t)},e,n);return Object.defineProperty(r,"location",{get:()=>e.location.value}),Object.defineProperty(r,"state",{get:()=>e.state.value}),r}function pw(t){return"string"==typeof t||"symbol"==typeof t}const dw={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vw=Lb("nf");var mw,gw;function yw(t,e){return Bb(new Error,{type:t,[vw]:!0},e)}function bw(t,e){return t instanceof Error&&vw in t&&(null==e||!!(t.type&e))}(gw=mw||(mw={}))[gw.aborted=4]="aborted",gw[gw.cancelled=8]="cancelled",gw[gw.duplicated=16]="duplicated";const ww={sensitive:!1,strict:!1,start:!0,end:!0},Iw=/[.+*?^${}()[\]/\\]/g;function Ew(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function _w(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=Ew(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const Tw={type:0,value:""},Sw=/[a-zA-Z0-9_]/;function Aw(t,e,n){const r=function(t,e){const n=Bb({},ww,e);let r=[],i=n.start?"^":"";const o=[];for(const u of t){const t=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let e=0;e<u.length;e++){const r=u[e];let a=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(Iw,"\\$&"),a+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:l}=r;o.push({name:t,repeatable:n,optional:c});const h=l||"[^/]+?";if("[^/]+?"!==h){a+=10;try{new RegExp(`(${h})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+s.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=c&&u.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),i+=f,a+=20,c&&(a+=-8),n&&(a+=-20),".*"===h&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");return{re:a,score:r,keys:o,parse:function(t){const e=t.match(a),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:a,optional:s}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!s)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[Tw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):e("Invalid state to consume buffer"),c="")}function f(){c+=s}for(;u<t.length;)if(s=t[u++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&h(),a()):":"===s?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===s?n=2:Sw.test(s)?f():(h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--);break;case 2:")"===s?"\\"==l[l.length-1]?l=l.slice(0,-1)+s:n=3:l+=s;break;case 3:h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),a(),i}(t.path),n),i=Bb(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Nw(t,e){const n=[],r=new Map;function i(t,n,r){let s=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:kw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=Ow(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(Bb({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=Aw(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),s&&t.name&&!Dw(h)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,a(h)}return f?()=>{o(f)}:Gb}function o(t){if(pw(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function a(t){let e=0;for(;e<n.length&&_w(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!Dw(t)&&r.set(t.record.name,t)}return e=Ow({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,a,s={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw yw(1,{location:t});a=i.record.name,s=Bb(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(s)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(s=i.parse(o),a=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw yw(1,{location:t,currentLocation:e});a=i.record.name,s=Bb({},e.params,t.params),o=i.stringify(s)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:a,path:o,params:s,matched:u,meta:Cw(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function kw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function Dw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Cw(t){return t.reduce(((t,e)=>Bb(t,e.meta)),{})}function Ow(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const xw=/#/g,Rw=/&/g,Pw=/\//g,Lw=/=/g,Mw=/\?/g,Fw=/\+/g,Vw=/%5B/g,Uw=/%5D/g,jw=/%5E/g,qw=/%60/g,Bw=/%7B/g,Kw=/%7C/g,Gw=/%7D/g,Hw=/%20/g;function Ww(t){return encodeURI(""+t).replace(Kw,"|").replace(Vw,"[").replace(Uw,"]")}function zw(t){return Ww(t).replace(Fw,"%2B").replace(Hw,"+").replace(xw,"%23").replace(Rw,"%26").replace(qw,"`").replace(Bw,"{").replace(Gw,"}").replace(jw,"^")}function Xw(t){return function(t){return Ww(t).replace(xw,"%23").replace(Mw,"%3F")}(t).replace(Pw,"%2F")}function Qw(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Yw(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(Fw," ");let i=t.indexOf("="),o=Qw(i<0?t:t.slice(0,i)),a=i<0?null:Qw(t.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(a)}else e[o]=a}return e}function $w(t){let e="";for(let n in t){e.length&&(e+="&");const r=t[n];if(n=zw(n).replace(Lw,"%3D"),null==r){void 0!==r&&(e+=n);continue}let i=Array.isArray(r)?r.map((t=>t&&zw(t))):[r&&zw(r)];for(let t=0;t<i.length;t++)e+=(t?"&":"")+n,null!=i[t]&&(e+="="+i[t])}return e}function Jw(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Zw(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function tI(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const u=t=>{var u;!1===t?s(yw(4,{from:n,to:e})):t instanceof Error?s(t):"string"==typeof(u=t)||u&&"object"==typeof u?s(yw(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),a())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>s(t)))}))}function eI(t,e,n,r){const i=[];for(const a of t)for(const t in a.components){let s=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if("object"==typeof(o=s)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(s.__vccOpts||s)[e];o&&i.push(tI(o,n,r,a,t))}else{let o=s();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const o=(s=i).__esModule||Pb&&"Module"===s[Symbol.toStringTag]?i.default:i;var s;a.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&tI(u,n,r,a,t)()}))))}}var o;return i}function nI(t){const e=fr(Vb),n=fr(Ub),r=Lr((()=>e.resolve(re(t.to)))),i=Lr((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let a=o.findIndex(Xb.bind(null,i));if(a>-1)return a;let s=iI(t[e-2]);return e>1&&iI(i)===s&&o[o.length-1].path!==s?o.findIndex(Xb.bind(null,t[e-2])):a})),o=Lr((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),a=Lr((()=>i.value>-1&&i.value===n.matched.length-1&&Qb(n.params,r.value.params)));return{route:r,href:Lr((()=>r.value.href)),isActive:o,isExactActive:a,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[re(t.replace)?"replace":"push"](re(t.to)):Promise.resolve()}}}const rI=Rn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e}){const n=Ht(nI(t)),{options:r}=fr(Vb),i=Lr((()=>({[oI(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[oI(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:Mr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function iI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const oI=(t,e,n)=>null!=t?t:null!=e?e:n;function aI(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const sI=Rn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=fr(jb),i=Lr((()=>t.route||r.value)),o=fr(Fb,0),a=Lr((()=>i.value.matched[o]));hr(Fb,o+1),hr(Mb,a),hr(jb,i);const s=te();return mn((()=>[s.value,a.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&Xb(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=a.value,u=o&&o.components[t.name],c=t.name;if(!u)return aI(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Mr(u,Bb({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:s}));return aI(n.default,{Component:f,route:r})||f}}});function uI(t){const e=Nw(t.routes,t);let n=t.parseQuery||Yw,r=t.stringifyQuery||$w,i=t.history;const o=Zw(),a=Zw(),s=Zw(),u=ne(dw,!0);let c=dw;qb&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Kb.bind(null,(t=>""+t)),h=Kb.bind(null,Xw),f=Kb.bind(null,Qw);function p(t,o){if(o=Bb({},o||u.value),"string"==typeof t){let r=Wb(n,t,o.path),a=e.resolve({path:r.path},o),s=i.createHref(r.fullPath);return Bb(r,a,{params:f(a.params),hash:Qw(r.hash),redirectedFrom:void 0,href:s})}let a;"path"in t?a=Bb({},t,{path:Wb(n,t.path,o.path).path}):(a=Bb({},t,{params:h(t.params)}),o.params=h(o.params));let s=e.resolve(a,o);const c=t.hash||"";s.params=l(f(s.params));const p=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,Bb({},t,{hash:(d=c,Ww(d).replace(Bw,"{").replace(Gw,"}").replace(jw,"^")),path:s.path}));var d;let v=i.createHref(p);return Bb({fullPath:p,hash:c,query:r===$w?Jw(t.query):t.query},s,{redirectedFrom:void 0,href:v})}function d(t){return"string"==typeof t?Wb(n,t,u.value.path):Bb({},t)}function v(t,e){if(c!==t)return yw(8,{from:e,to:t})}function m(t){return y(t)}function g(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=d(r):{path:r}),Bb({query:t.query,hash:t.hash,params:t.params},r)}}function y(t,e){const n=c=p(t),i=u.value,o=t.state,a=t.force,s=!0===t.replace,l=g(n);if(l)return y(Bb(d(l),{state:o,force:a,replace:s}),e||n);const h=n;let f;return h.redirectedFrom=e,!a&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Xb(e.matched[r],n.matched[i])&&Qb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=yw(16,{to:h,from:i}),C(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((t=>bw(t)?t:k(t))).then((t=>{if(t){if(bw(t,2))return y(Bb(d(t.to),{state:o,force:a,replace:s}),e||h)}else t=E(h,i,!0,s,o);return I(h,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,s]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const o=e.matched[a];o&&(t.matched.find((t=>Xb(t,o)))?r.push(o):n.push(o));const s=t.matched[a];s&&(e.matched.find((t=>Xb(t,s)))||i.push(s))}return[n,r,i]}(t,e);n=eI(r.reverse(),"beforeRouteLeave",t,e);for(const o of r)o.leaveGuards.forEach((r=>{n.push(tI(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),cI(n).then((()=>{n=[];for(const r of o.list())n.push(tI(r,t,e));return n.push(u),cI(n)})).then((()=>{n=eI(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(tI(r,t,e))}));return n.push(u),cI(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(tI(i,t,e));else n.push(tI(r.beforeEnter,t,e));return n.push(u),cI(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=eI(s,"beforeRouteEnter",t,e),n.push(u),cI(n)))).then((()=>{n=[];for(const r of a.list())n.push(tI(r,t,e));return n.push(u),cI(n)})).catch((t=>bw(t,8)?t:Promise.reject(t)))}function I(t,e,n){for(const r of s.list())r(t,e,n)}function E(t,e,n,r,o){const a=v(t,e);if(a)return a;const s=e===dw,c=qb?history.state:{};n&&(r||s?i.replace(t.fullPath,Bb({scroll:s&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,C(t,e,n,s),D()}let _;function T(){_=i.listen(((t,e,n)=>{let r=p(t);const o=g(r);if(o)return void y(Bb(o,{replace:!0}),r).catch(Gb);c=r;const a=u.value;var s,l;qb&&(s=sw(a.fullPath,n.delta),l=ow(),uw.set(s,l)),w(r,a).catch((t=>bw(t,12)?t:bw(t,2)?(y(t.to,r).catch(Gb),Promise.reject()):(n.delta&&i.go(-n.delta,!1),k(t)))).then((t=>{(t=t||E(r,a,!1))&&n.delta&&i.go(-n.delta,!1),I(r,a,t)})).catch(Gb)}))}let S,A=Zw(),N=Zw();function k(t){return D(t),N.list().forEach((e=>e(t))),Promise.reject(t)}function D(t){S||(S=!0,T(),A.list().forEach((([e,n])=>t?n(t):e())),A.reset())}function C(e,n,r,i){const{scrollBehavior:o}=t;if(!qb||!o)return Promise.resolve();let a=!r&&function(t){const e=uw.get(t);return uw.delete(t),e}(sw(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Ae().then((()=>o(e,n,a))).then((t=>t&&aw(t))).catch(k)}const O=t=>i.go(t);let x;const R=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return pw(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:p,options:t,push:m,replace:function(t){return m(Bb(d(t),{replace:!0}))},go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:N.add,isReady:function(){return S&&u.value!==dw?Promise.resolve():new Promise(((t,e)=>{A.add([t,e])}))},install(t){t.component("RouterLink",rI),t.component("RouterView",sI),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{get:()=>re(u)}),qb&&!x&&u.value===dw&&(x=!0,m(i.location).catch((t=>{})));const e={};for(let r in dw)e[r]=Lr((()=>u.value[r]));t.provide(Vb,this),t.provide(Ub,Ht(e)),t.provide(jb,u);let n=t.unmount;R.add(t),t.unmount=function(){R.delete(t),R.size<1&&(_(),u.value=dw,x=!1,S=!1),n()}}}}function cI(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function lI(){return fr(Vb)}function hI(){return fr(Ub)}var fI=function(){return Math.random().toString(36).substring(2)},pI=Rn({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(t){var e,n,r,i=t.uniqueKey?t.uniqueKey+"-idClip":fI(),o=t.uniqueKey?t.uniqueKey+"-idGradient":fI(),a=null!==(e=t.width)&&void 0!==e?e:400,s=null!==(n=t.height)&&void 0!==n?n:130;return{idClip:i,idGradient:o,computedViewBox:null!==(r=t.viewBox)&&void 0!==r?r:"0 0 "+a+" "+s}},render:function(){return rr("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[rr("rect",{style:{fill:"url("+this.baseUrl+"#"+this.idGradient+")"},"clip-path":"url("+this.baseUrl+"#"+this.idClip+")",x:"0",y:"0",width:"100%",height:"100%"},null),rr("defs",null,[rr("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():rr("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),rr("linearGradient",{id:this.idGradient},[rr("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?rr("animate",{attributeName:"offset",values:"-2; 1",dur:this.speed+"s",repeatCount:"indefinite"},null):null]),rr("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?rr("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:this.speed+"s",repeatCount:"indefinite"},null):null]),rr("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?rr("animate",{attributeName:"offset",values:"-1; 2",dur:this.speed+"s",repeatCount:"indefinite"},null):null])])])])}});Rn((function(t,e){var n=e.attrs;return function(){return rr(pI,n,{default:function(){return[rr("circle",{cx:"10",cy:"20",r:"8"},null),rr("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"},null),rr("circle",{cx:"10",cy:"50",r:"8"},null),rr("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"},null),rr("circle",{cx:"10",cy:"80",r:"8"},null),rr("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"},null),rr("circle",{cx:"10",cy:"110",r:"8"},null),rr("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"},null)]}})}})),Rn((function(t,e){var n=e.attrs;return function(){return rr(pI,n,{default:function(){return[rr("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"},null),rr("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"},null),rr("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"},null),rr("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),rr("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),rr("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"},null),rr("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),rr("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),rr("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"},null)]}})}})),Rn((function(t,e){var n=e.attrs;return function(){return rr(pI,n,{default:function(){return[rr("rect",{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"},null),rr("rect",{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"},null),rr("rect",{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"},null),rr("rect",{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"},null),rr("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"},null),rr("circle",{cx:"30",cy:"30",r:"30"},null)]}})}})),Rn((function(t,e){var n=e.attrs;return function(){return rr(pI,n,{default:function(){return[rr("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null),rr("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"},null),rr("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"},null),rr("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null),rr("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"},null),rr("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"},null)]}})}}));var dI=Rn((function(t,e){var n=e.attrs;return function(){return rr(pI,lr(n,{viewBox:"0 0 400 480"}),{default:function(){return[rr("circle",{cx:"30",cy:"30",r:"30"},null),rr("rect",{x:"75",y:"13",rx:"4",ry:"4",width:"100",height:"13"},null),rr("rect",{x:"75",y:"37",rx:"4",ry:"4",width:"50",height:"8"},null),rr("rect",{x:"0",y:"70",rx:"5",ry:"5",width:"400",height:"400"},null)]}})}}));function vI(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function mI(t){vI(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function gI(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function yI(t,e){vI(2,arguments);var n=mI(t),r=mI(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function bI(t,e){vI(2,arguments);var n=mI(t),r=mI(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function wI(t,e){vI(2,arguments);var n=mI(t),r=mI(e);return n.getTime()-r.getTime()}function II(t){vI(1,arguments);var e=mI(t);return e.setHours(23,59,59,999),e}function EI(t){vI(1,arguments);var e=mI(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function _I(t){vI(1,arguments);var e=mI(t);return II(e).getTime()===EI(e).getTime()}function TI(t,e){vI(2,arguments);var n,r=mI(t),i=mI(e),o=yI(r,i),a=Math.abs(bI(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=yI(r,i)===-o;_I(mI(t))&&1===a&&1===yI(t,i)&&(s=!1),n=o*(a-s)}return 0===n?0:n}function SI(t,e){vI(2,arguments);var n=wI(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var AI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function NI(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var kI={date:NI({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:NI({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:NI({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},DI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function CI(t){return function(e,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=i.width?String(i.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,u=i.width?String(i.width):t.defaultWidth;r=t.values[u]||t.values[s]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function OI(t){return function(e,n){var r=String(e),i=n||{},o=i.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(l,(function(t){return t.test(c)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(l,(function(t){return t.test(c)})),u=t.valueCallback?t.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}}var xI,RI={code:"en-US",formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof AI[t]?AI[t]:1===e?AI[t].one:AI[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:kI,formatRelative:function(t,e,n,r){return DI[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:CI({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:CI({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:CI({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:CI({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:CI({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(xI={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),r=e||{},i=n.match(xI.matchPattern);if(!i)return null;var o=i[0],a=n.match(xI.parsePattern);if(!a)return null;var s=xI.valueCallback?xI.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:OI({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:OI({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:OI({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:OI({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:OI({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function PI(t){return function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({},t)}function LI(t,e,n){vI(2,arguments);var r=n||{},i=r.locale||RI;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=yI(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var a,s,u=PI(r);u.addSuffix=Boolean(r.addSuffix),u.comparison=o,o>0?(a=mI(e),s=mI(t)):(a=mI(t),s=mI(e));var c,l=SI(s,a),h=(gI(s)-gI(a))/1e3,f=Math.round((l-h)/60);if(f<2)return r.includeSeconds?l<5?i.formatDistance("lessThanXSeconds",5,u):l<10?i.formatDistance("lessThanXSeconds",10,u):l<20?i.formatDistance("lessThanXSeconds",20,u):l<40?i.formatDistance("halfAMinute",null,u):l<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):0===f?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",f,u);if(f<45)return i.formatDistance("xMinutes",f,u);if(f<90)return i.formatDistance("aboutXHours",1,u);if(f<1440){var p=Math.round(f/60);return i.formatDistance("aboutXHours",p,u)}if(f<2520)return i.formatDistance("xDays",1,u);if(f<43200){var d=Math.round(f/1440);return i.formatDistance("xDays",d,u)}if(f<86400)return c=Math.round(f/43200),i.formatDistance("aboutXMonths",c,u);if((c=TI(s,a))<12){var v=Math.round(f/43200);return i.formatDistance("xMonths",v,u)}var m=c%12,g=Math.floor(c/12);return m<3?i.formatDistance("aboutXYears",g,u):m<9?i.formatDistance("overXYears",g,u):i.formatDistance("almostXYears",g+1,u)}export{fw as A,pi as B,pI as C,Kn as F,dI as I,Ii as a,te as b,$n as c,Lr as d,rr as e,Ao as f,ar as g,kn as h,Be as i,lI as j,or as k,LI as l,Fr as m,mn as n,Qn as o,dn as p,ae as q,jn as r,fr as s,u as t,di as u,si as v,li as w,hI as x,hr as y,uI as z};
